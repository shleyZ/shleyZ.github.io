---
title: https的对称加密和非对称加密
date: 2020-02-04 14:02:49
categories: javascript
tags: js基础
---


加密类型：

- 对称加密， 加密解密用的是同样的钥匙
- 非对称加密， 加密解密用的是不同的钥匙


## 对称加密

A 把一个箱子锁上， 用钥匙AY. 
然后把箱子寄给B
B 用同样的钥匙 AY, 可以打开箱子，同样可以锁上箱子，寄给 A.

对称加密分为两种，一种是一个一个加密，一种是分块加密。


## 非对称加密

B 有钥匙（私钥），B 把开着的箱子（和公钥）寄给 A;
A 把信息放在箱子里， 然后锁上（用公钥加密），寄给 B;
B 拿自己的钥匙（私钥）把箱子打开。

这种方式的好处是，你不需要别人的钥匙。也就避免了出现在钥匙发送过程中复制钥匙，窃取信息。
信息接受者有两把钥匙：一把“公匙”，一把“私匙”。公匙是给信息发送者用来加密的，私匙是自己用来解密的。
这样最大的好处是：不必通过不安全的渠道发送私密的东西。公匙本来就是给别人用的，不用藏好。你的私匙在你产生私匙的电脑里保存着


## https 的 SSL 加密(运用了对称加密和非对称加密)

SSL (Secure Sockets Layer) 是用来保障浏览器和网站服务器之间安全通信，免受网络“中间人”窃取信息。

SSL原理：

- 当你的浏览器向服务器请求一个安全的网页(通常是 https://)；
- 服务器返回证书和公钥
- 浏览器检测证书是否有效，是否属于访问的域名
- 浏览器确认证书有效后，使用公钥加密 URL 和 一个随机对称密钥， 发送到服务器。
  **URL + 随机生成的对称密钥A ==》 经过公钥加密 ==》 发送到服务器**
- 服务器用私钥解密了收到的信息  
  **服务器私钥解密 ==》 得到 URL + 随机生成的对称密钥 ==》 对称密钥A解密 URL ==> 得到解密后的 URL**
- 服务器把整合的需要的资源 用对称密钥加密，发送给浏览器。  
  **需要返回的资源 ==》 对称密钥A加密 ==》 浏览器接收**
- 浏览器使用对称密钥解密资源  
  **接收的加密资源 ==》 对称密钥A解密 ==》 得到解密后的信息**