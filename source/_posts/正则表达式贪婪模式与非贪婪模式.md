---
title: 正则表达式贪婪模式与非贪婪模式
date: 2017-09-04 23:43:04
categories: javascript
tags: 正则
---
源字符串：
        var url = 'http://www.domain.com/?user=anonymous&id=123&id=456&city=%E5%8C%97%E4%BA%AC&d&enabled'

正则表达式一：
        url.match(/user=(\S*)&/)[1]

匹配结果一：
        "anonymous&id=123&id=456&city=%E5%8C%97%E4%BA%AC&d"

正则表达式二：
        url.match(/user=(\S*?)&/)[1] 

匹配结果二：
        "anonymous"（这里指的是一次匹配结果，所以没包括&id=123&id=456&city=%E5%8C%97%E4%BA%AC&d"） 



正则表达式一采用的是贪婪模式，在匹配到第一个“&”时已经可以使整个表达式匹配成功，但是由于采用的是贪婪模式，所以仍然要向右尝试匹配，查看是否还有更长的可以成功匹配的子串，匹配到第五个“&”后，向右再没有可以成功匹配的子串，匹配结束，匹配结果为  
"anonymous&id=123&id=456&city=%E5%8C%97%E4%BA%AC&d"。

正则表达式二采用的是非贪婪模式，在匹配到第一个“&”时使整个表达式匹配成功，由于采用的是非贪婪模式，所以结束匹配，不再向右尝试，匹配结果为"anonymous"。 