---
title: 前端安全问题-CSRF跨站请求伪造
date: 2020-02-04 17:10:19
categories: javascript
tags: js基础
---

Cross Site Request Forgery (CSRF)
攻击者盗用了受害者的身份，以受害者的名义发送恶意请求。例如以受害者的名义发送邮件、发消息，盗取账号，添加系统管理员，甚至于购买商品、虚拟货币转账等。

CSRF 攻击必须具备两个流程：

- 用户访问了受信任网站A， 并在本地生成 cookie
- 在不登出 A 的情况下，访问危险网站 B, B 会在接收到请求后，返回一些攻击性代码，并发出请求访问网站 A


预防，一般由服务端来解决：

- 服务端同源策略，设置受信任网站白名单，禁止外域访问
- 只允许同源网站提交请求携带 cookie
- 尽量使用 POST 请求
- 请求携带 tooken
- 通过请求头中的 Referer，来识别请求来源是否合法