---
title: 前端优化总结
date: 2019-08-21 20:10:04
categories: 性能
---

### 1. dns 预解析

DNS 全称为 Domain Name System，即域名系统，是域名和 IP 地址相互映射的一个分布式数据库。

浏览器对网站第一次的域名 DNS 解析查找流程依次为：
浏览器缓存 - 系统缓存 - 路由器缓存 - ISP DNS 缓存 - 递归搜索

DNS 预解析是浏览器试图在用户访问链接之前解析域名，这是计算机的正常 DNS 解析机制。

> x-DNS-Prefetch-Control 头控制着浏览器的 DNS 预解析功能

> X-DNS_prefetch-Control: on|off

on：启用 DNS 预解析。在浏览器支持 DNS 预解析的特性时及时不适用该标签浏览器依然会进行预解析。
off：关闭 DNS 预解析。这个属性在页面上的链接并不是由你控制的或是你根本不想向这些域名引导数据时非常有用。

```js
// 打开和关闭DNS预读取
<meta http-equiv="x-dns-prefetch-control" content="on">
```

```js
// 强制查询特定主机名
<link ref="dns-prefetch" href="//hm.baidu.com">
```

### 2. 服务端避免返回重定向（不是缓存重定向）

如果服务器返回了跳转重定向（非缓存重定向），那么浏览器端就会向新的 URL 地址重新走一遍 DNS 解析和建立连接。
所以应该避免不必要的重定向

### 3. 静态资源服务器 cdn

### 4. 减少页面中的请求数量

### 5. gzip 对响应体进行压缩，可减少 70%大小数据

### 6.减少 cookie 的使用

### 7.图片格式

### 8.合理使用缓存

### 9.简化 dom 结构

减少 DOM 树和渲染树构建成本，减少页面元素个数

### 10. js 脚本放在 body 最后面，不要阻塞其他过程

### 11. 减少不必要的 dom 操作， 例如修改 classname 而不是修改 style，减少对重排和重绘的触发

### 12. 将 css 放入 head 中，提前加载

### 13.使用更高性能的 css 样式，例如 flex 替代 float

### 14.合理使用 absolute 等脱离文档流

### 15.对页面某些数据 storage 存储

### 16.加载进度、骨架图、占位图等类似让用户感觉好一点的措施
