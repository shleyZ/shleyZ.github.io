[{"title":"@bigtest/react","date":"2020-01-08T05:14:24.000Z","path":"2020/01/08/bigtest-react/","text":"è¿›è¡Œå¤§å‹æµ‹è¯•çš„ React DOM åŠ©æ‰‹ï¼š@bigtest/react github åœ°å€ï¼š https://github.com/bigtestjs/react è¿™ä¸ªè½¯ä»¶åŒ…çš„ç›®çš„æ˜¯æä¾›ä¸€å¥—å¸®åŠ©ç¨‹åºï¼Œä½¿å¾—èƒ½å¤Ÿæ›´åŠ å®¹æ˜“çš„æµ‹è¯• React ç¨‹åº mount æ–¹æ³•åœ¨ä¸€ä¸ªæ–°çš„ DOM èŠ‚ç‚¹å¼‚æ­¥åŠ è½½ä¸€ä¸ªç»„ä»¶ï¼Œè¿”å› promiseï¼Œ ä¸€è¿ä¸²çš„ä½¿ç”¨å°†æ¸…é™¤æ‰€æœ‰å…ˆå‰å®‰è£…çš„ç»„ä»¶ã€‚ 1234567891011import &#123; mount &#125; from '@bigtest/react';import Button from '../src/components/button';describe('My button', () =&gt; &#123; // `mount` è¿”å›Promise: æ¸²æŸ“åresolves beforeEach(() =&gt; mount(() =&gt; &lt;Button /&gt;)); it('renders', () =&gt; &#123; expect(document.querySelector('.button')).to.exist; &#125;);&#125;); setupAppForTestingsetupAppForTesting ä¸ä»…ä¼š mount åº”ç”¨ç¨‹åºç»„ä»¶ï¼Œè¿˜å°†ä½¿ç”¨è¯¥ç»„ä»¶çš„å®ä¾‹è¿›è¡Œè§£æï¼Œå¹¶æä¾›ä¸€ä¸ªå†…å­˜é‡çš„ history å¯¹è±¡ï¼Œä¾› React Router åœ¨æµ‹è¯•æœŸé—´ä½¿ç”¨ã€‚ 123456789101112131415161718import &#123; setupAppForTesting &#125; from '@bigtest/react';import App from '../src/app';describe('My Application', () =&gt; &#123; let app; beforeEach(async () =&gt; &#123; app = await setupAppForTesting(App); &#125;); it('renders', () =&gt; &#123; expect(document.querySelector('#app')).to.exist; &#125;); if('has a history prop', () =&gt; &#123; // this prop is only provided if defined in `propTypes` expect(app.props).to.have.property('history'); &#125;)&#125;) visitåªæœ‰åœ¨ä½¿ç”¨ setupAppForTestingï¼Œå¹¶ä¸åº”ç”¨ç¨‹åºçš„ history å±æ€§è¿›è¡Œäº¤äº’ä»¥åœ¨è·¯ç”±ä¹‹é—´å¯¼èˆªåï¼Œæ‰ä¼šèµ·ä½œç”¨ã€‚ï¼ˆvisit, goBack, goForward, and location éƒ½æ˜¯è¿™æ ·ï¼‰ 1234567891011121314151617import &#123; setupAppForTesting, visit, location &#125; from '@bigtest/react';import App from '../src/app';describe('My Application', () =&gt; &#123; let app; beforeEach(async () =&gt; &#123; app = await setupAppForTesting(App); &#125;); describe('navigating', () =&gt; &#123; beforeEach(() =&gt; visit('/some-route')); it('is at the new route', () =&gt; &#123; expect(location()).to.have.property('pathname', '/some-route'); &#125;); &#125;);&#125;); cleanupåœ¨æ¯æ¬¡ mount å’Œ setupAppForTesting è°ƒç”¨å¼€å§‹æ—¶éƒ½ä¼šè°ƒç”¨ cleanupï¼Œä»¥æ¸…é™¤ä»¥å‰å®‰è£…çš„ä»»ä½•ç»„ä»¶æˆ–åº”ç”¨ç¨‹åºã€‚ å¦‚æœæ‚¨éœ€è¦è‡ªå·±æ¸…ç†ä»¥å‰å®‰è£…çš„ç»„ä»¶ï¼Œä¹Ÿå¯ä»¥å•ç‹¬ä½¿ç”¨å®ƒã€‚ 123456789import &#123; mount, cleanup &#125; from '@bigtest/react';import Button from '../src/components/button';describe('My Button', () =&gt; &#123; beforeEach(() =&gt; mount(&lt;Button /&gt;)); // ä¸ºäº†å¯ä»¥åœ¨æµ‹è¯•è¿è¡Œåè°ƒæŸ¥å¹¶ä½¿ç”¨ç»„ä»¶è¿›è¡Œè°ƒè¯•ï¼Œæœ€å¥½ä¸è¦è¿™æ ·åš afterEach(() =&gt; cleanup());&#125;); æ³¨æ„mount å’Œ setupAppForTesting éƒ½æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼š ä¸€ä¸ªå¯¹è±¡åŒ…å«ä¸€ç³»åˆ—çš„å‚æ•°ã€‚ 1234567mount(&lt;Button /&gt;, &#123; mountId: 'testing-root', // ä½œä¸ºåŠ è½½çš„DOMèŠ‚ç‚¹çš„id rootElement: document.body, // åŠ è½½çš„DOMèŠ‚ç‚¹çš„ä½ç½® setup: () =&gt; &#123;&#125;, // åœ¨ç»„ä»¶åŠ è½½å¥½ä¹‹å‰è°ƒç”¨ï¼Œ å¦‚æœè¿”å›çš„æ˜¯promiseï¼Œåˆ™ç»„ä»¶ä¼šåœ¨resolveä¹‹ååŠ è½½ teardown: () =&gt; &#123;&#125; // åœ¨ä¸‹ä¸€ä¸ª cleanup è°ƒç”¨æ—¶è°ƒç”¨ï¼Œæˆ–è€…åœ¨ä¸‹ä¸€ä¸ªmountæˆ–setupAppForTestingå¼€å§‹æ—¶è°ƒç”¨ï¼Œæˆ–è€…åœ¨ç›´æ¥è°ƒç”¨ cleanup æ—¶è°ƒç”¨ã€‚ å’Œâ€œ setupâ€ä¸€æ ·ï¼Œå¦‚æœè¿”å›çš„æ˜¯promiseï¼Œåˆ™ç»„ä»¶ä¼šåœ¨resolveä¹‹ååŠ è½½&#125;)&#125;); æ­¤å¤–ï¼Œ setupAppForTesting æ¥å—ä¸€ä¸ª props é€‰é¡¹ï¼Œ è¯¥é€‰é¡¹å°†ä¸æ‰€æœ‰ç”¨æˆ·å®šä¹‰çš„ props ä¸€èµ·ä¼ é€’ç»™åº”ç”¨ç¨‹åºç»„ä»¶ã€‚ 1234567setupAppForTesting(App, &#123; props: &#123; store: createStore(), // you can provide your own history object as well history: createHistory(historyOptions) &#125;&#125;); å¯é‡ç”¨æ€§ä¸ºäº†åœ¨æµ‹è¯•åº”ç”¨ç¨‹åºæ—¶è·å¾—æœ€ä½³ä½“éªŒï¼Œä»»ä½•ä¸å±äºç»„ä»¶ç”Ÿå‘½å‘¨æœŸä¸­çš„å¿…éœ€çš„é€»è¾‘ï¼Œéƒ½åº”è¯¥æ˜¯å¯é‡ç”¨çš„ã€‚é€šè¿‡æä¾›å¿…è¦çš„ setup å’Œ teardown é€‰é¡¹ï¼Œæˆ–è€…å°†é€»è¾‘ç§»å…¥ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæŒ‚é’©ä¸­ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨æ‚¨è‡ªå·±çš„ test helper ä¸­ä½¿ç”¨ setupAppForTesting å¯èƒ½å¾ˆæœ‰æ„ä¹‰ï¼Œå› ä¸ºå®ƒå¯ä»¥å¤„ç†ä»»ä½•å…¶ä»–å¿…è¦çš„è®¾ç½®ã€‚ è¿™ä¹Ÿä½¿æˆ‘ä»¬ä¸å¿…å¯¼å…¥åº”ç”¨ç¨‹åºå¹¶åœ¨æ¯ä¸ªæµ‹è¯•æ–‡ä»¶ä¸­é‡å¤è®¾ç½®é€»è¾‘ã€‚ 123456789101112131415// test/helper.jsimport &#123; setupAppForTesting &#125; from '@bigtest/react';export &#123; visit, goBack, goForward, location &#125; from '@bigtest/react';import App from '../src/app';import createServer from './mocks/server';export function setupApplicationForTesting() &#123; beforeEach(async function () =&gt; &#123; this.app = await setupAppForTesting(App, () =&gt; &#123; setup: () =&gt; this.server = createServer(), teardown: () =&gt; this.server.shutdown() &#125;); &#125;);&#125; æ›´å¥½çš„æµ‹è¯•è¿™äº› helpers ä½¿æ‚¨å¯ä»¥åå¤å®‰è£…åº”ç”¨ç¨‹åºè¿›è¡Œæµ‹è¯•ï¼Œè€Œä¸åº”ç”¨ç¨‹åºè¿›è¡Œäº¤äº’ä¹Ÿå¯èƒ½ä¼šå¾ˆéº»çƒ¦ã€‚ @bigtest/interactor æä¾›äº†ä¸€ä¸ªæ›´ç®€å•çš„æ–¹æ³•ï¼Œé€šè¿‡ä»»ä½•æµè§ˆå™¨ä¸åº”ç”¨çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œäº¤äº’ã€‚å°±å¥½åƒæ˜¯ç”¨æˆ·åœ¨å’Œä½ çš„ app è¿›è¡Œäº¤äº’ã€‚å®é™…ä¸Šï¼Œå¯ç»„åˆçš„ interactors æ˜¯æµ‹è¯•ä½¿ç”¨å¯ç»„åˆ components åˆ¶ä½œçš„ app çš„å®Œç¾ä¼´ä¾£ã€‚ 1234567891011121314import &#123; setupAppForTesting &#125; from '@bigtest/react';import App from '../src/app';import HomePageInteractor from './interactors/home';describe('My Applicaion', () =&gt; &#123; const home = new HomePageInteractor(); beforeEach(() =&gt; setupAppForTesting(App)); it('has a fancy button', () =&gt; &#123; except(home.button.isPresent).to.be.true; except(home.button.isFancy).to.be.true; &#125;);&#125;);","tags":[{"name":"bigtest","slug":"bigtest","permalink":"https://shleyz.github.io/tags/bigtest/"}]},{"title":"@bigtest/convergence","date":"2020-01-08T03:21:48.000Z","path":"2020/01/08/bigtest-convergence/","text":"Convergence æ˜¯å¼ºå¤§,ä¸å¯å˜ï¼Œå¯é‡ç”¨å’Œå¯ç»„åˆçš„æ–­è¨€ï¼Œä½¿æ‚¨å¯ä»¥ç«‹å³çŸ¥é“ä½•æ—¶è¾¾åˆ°æœŸæœ›çš„çŠ¶æ€ã€‚ç®€è€Œè¨€ä¹‹ï¼šå®ƒæ¯ 10 æ¯«ç§’æ£€æŸ¥ä¸€æ¬¡ DOMï¼ˆé»˜è®¤æƒ…å†µä¸‹ä¸º 2 ç§’ï¼‰ï¼Œä»¥æŸ¥çœ‹æ‚¨è¦æ£€æŸ¥çš„çŠ¶æ€æ˜¯å¦å­˜åœ¨ã€‚ Convergence æ˜¯ BigTest ä¸­æ‰€æœ‰äº‹ç‰©çš„åŸºç¡€ã€‚è¿™å°±æ˜¯ä½¿ interactors å¯é çš„åŸå› ã€‚CLI ä¸­ç”šè‡³å°† Convergence ç”¨äºç­‰å¾…æµè§ˆå™¨è¿æ¥çŠ¶æ€ã€‚ 12345import Convergence from '@bigtest/convergence';setTimeout(() =&gt; (foo = 'bar'), 100);await new Convergence().when(() =&gt; foo === 'bar');console.log(foo); // =&gt; \"bar\" é»˜è®¤æƒ…å†µä¸‹ï¼ŒConvergence å°†åœ¨ 2000ms ä¹‹å‰æˆ–ä¹‹å convergeï¼Œå…·ä½“å–å†³äºå®šä¹‰çš„æ–­è¨€ç±»å‹ã€‚è¿™å¯ä»¥é€šè¿‡åœ¨åˆå§‹åŒ– convergence æ—¶æä¾›è¶…æ—¶æˆ–ä½¿ç”¨ #timeout() æ–¹æ³•æ¥é…ç½®ã€‚ 12new Convergence(100);new Convergence().timeout(5000); ä½¿ç”¨ #when()ï¼Œæ–­è¨€å°†è¿è¡Œå¤šæ¬¡ç›´åˆ°é€šè¿‡ã€‚åŒæ ·ï¼Œ#always() ç¡®ä¿æ–­è¨€åœ¨ä¸€æ®µæ—¶é—´å†…ä¿æŒé€šè¿‡çŠ¶æ€ã€‚ 1234// converges when `foo` is equal to `'bar'` within 100msnew Convergence(100).when(() =&gt; foo === 'bar');// converges after `foo` is equal to `'bar'` for at least 100msnew Convergence(100).always(() =&gt; foo === 'bar'); convergence æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤ï¼Œå®ƒçš„æ–¹æ³•å°†è¿”å›æ–°å®ä¾‹ã€‚ è¿™ä½¿æ‚¨å¯ä»¥ç»„åˆå¤šä¸ª convergenceï¼Œå¹¶ä½¿ç”¨å„è‡ªçš„ #run() æ–¹æ³•åˆ†åˆ«å¯åŠ¨æ¯ä¸ª convergenceã€‚ 123456789101112131415let converge = new Convergence(300);let convergeFoo = converge.when(() =&gt; foo === 'foo');let convergeFooBar = convergeFoo.when(() =&gt; foo === 'bar');let convergeFooBarBaz = convergeFooBar.when(() =&gt; foo === 'baz');setTimeout(() =&gt; (foo = 'foo'), 100);setTimeout(() =&gt; (foo = 'bar'), 200);setTimeout(() =&gt; (foo = 'baz'), 150);// resolves after 100msconvergeFoo.run();// resolves after 200msconvergeFooBar.run();// rejects after 300ms since it wasn't `baz` _after_ `bar`convergeFooBarBaz.run(); Convergences ä¼šç«‹å³è°ƒç”¨#runï¼ˆï¼‰ã€‚è¿™ä½¿å®ƒä»¬èƒ½å¤Ÿåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨çš„åœ°æ–¹ä½¿ç”¨ã€‚ 12345async function onceBarAlwaysBar() &#123; await new Convergence().when(() =&gt; foo === 'bar').always(() =&gt; foo === 'bar');&#125;Promise.race([onceBarAlwaysBar(), new Convergence().when(() =&gt; foo === 'baz')]); MethodsisConvergence(obj) è¿”å›å¸ƒå°”å€¼å¦‚æœå¯¹è±¡å…·æœ‰æ­£ç¡®ç±»å‹çš„ convergence å±æ€§ï¼Œåˆ™è¿”å› trueã€‚ 1234567let result = maybeConvergence();if (isConvergence(result)) &#123; await result.do(something).timeout(100);&#125; else &#123; something(result);&#125; always(assertion, timeout)ä¼ å…¥çš„å‚æ•°ï¼š assertionï¼š Function éœ€è¦ converge çš„æ–­è¨€ timeoutï¼šNumber ä½¿ç”¨çš„è¶…æ—¶æ—¶é—´ï¼Œä»¥å‰©ä½™çš„è¶…æ—¶æ—¶é—´ä¸ºä¸Šé™ã€‚ è¿”å›ä¸€ä¸ªæ–°çš„ convergence è¿”å›å¸¦æœ‰é™„åŠ æ–­è¨€çš„æ–° convergence å®ä¾‹ã€‚é‡å¤è¿è¡Œæ­¤æ–­è¨€ä»¥ç¡®ä¿å®ƒåœ¨æ•´ä¸ªè¶…æ—¶æ—¶é—´å†…é€šè¿‡ã€‚å¦‚æœåœ¨è¶…æ—¶æœŸé—´çš„ä»»ä½•æ—¶å€™æ–­è¨€å¤±è´¥ï¼Œé‚£ä¹ˆ convergence å°†å¤±è´¥ã€‚ 12// would converge after `foo` remains `'foo'` for at least 100msnew Convergence(100).always(() =&gt; foo === 'foo'); å½“ convergence ç»“æŸæ—¶é‡åˆ° always æ–­è¨€æ—¶ï¼Œè¶…æ—¶é»˜è®¤ä¸ºå½“å‰æ­£åœ¨è¿è¡Œçš„å®ä¾‹çš„å‰©ä½™æ—¶é—´ã€‚æœ€å°‘ 20msã€‚å¦‚æœä¸åœ¨ convergence èŒƒå›´å†…ï¼Œåˆ™é»˜è®¤ä¸ºæ€»è¶…æ—¶æ—¶é—´çš„ååˆ†ä¹‹ä¸€ã€‚ 123let convergeFooThenBar = new Convergence(1000) .always(() =&gt; foo === 'foo') // would continue after `foo` remains `'foo'` for at least 100ms .when(() =&gt; foo === 'bar'); // then have any time remaining to converge on `foo` being `'bar'` ç»™å®šä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼Œåˆ™å°†å…¶é™åˆ¶ä¸ºå½“å‰è¿è¡Œå®ä¾‹çš„å‰©ä½™è¶…æ—¶æ—¶é—´ã€‚ 1234let convergeFooThenBar = new Convergence(100) .always(() =&gt; foo === 'foo', 50) // å½“åœ¨50mså†…fooæŒç»­ç­‰äº'foo'ï¼Œåˆ™ç»§ç»­ .when(() =&gt; foo === 'bar') // ç„¶åè¿˜å‰©ä¸‹50ms .always(() =&gt; foo === 'bar', 100);","tags":[{"name":"bigtest","slug":"bigtest","permalink":"https://shleyz.github.io/tags/bigtest/"}]},{"title":"@bigtest/interactorå¼€ç®±å³ç”¨çš„æ–¹æ³•å’Œå±æ€§","date":"2020-01-07T09:36:46.000Z","path":"2020/01/07/bigtest-interactorå¼€ç®±å³ç”¨çš„æ–¹æ³•å’Œå±æ€§/","text":"ä»¥ä¸‹æ˜¯ interactor å¼€ç®±å³ç”¨å¯ç”¨çš„å„ç§äº¤äº’çš„ç®€è¦è¯´æ˜ã€‚ Default Interactionsè¿™äº›é»˜è®¤çš„äº¤äº’å±æ€§å’Œæ–¹æ³•åœ¨æ‰€æœ‰ interactor ä¸Šéƒ½å¯ç”¨ï¼Œä½†æ˜¯åœ¨å®šä¹‰è‡ªå·±çš„è‡ªå®šä¹‰ interactor æ—¶å¯ä»¥å®‰å…¨åœ°è¦†ç›–å®ƒä»¬ã€‚ Propertieså¦‚æœå…ƒç´ ä¸èƒ½ä½äº Interactions çš„æ ¹å…ƒç´ ä¸­ï¼Œåˆ™æ‰€æœ‰å±æ€§ï¼ˆisPresent é™¤å¤–ï¼‰éƒ½å°†å¼•å‘é”™è¯¯ã€‚ #textï¼š è¿”å›å…ƒç´  trimmed åçš„ textContent å±æ€§ 1new Interactor('p').text; #value: è¿”å›å…ƒç´ çš„ value å±æ€§ 1new Interactor('input').value; #isVisible: å¦‚æœå…ƒç´ åœ¨æ–‡æ¡£ä¸­å¯è§ï¼Œåˆ™è¿”å› true å¦åˆ™ false 12new Interactor('#foo').isVisible; //=&gt; truenew Interactor('#bar').isVisible; //=&gt; false #isHiddenï¼š å¦‚æœå…ƒç´ å­˜åœ¨äºæ–‡æ¡£ä¸­ä½†åœ¨è§†è§‰ä¸Šè¢«éšè—ï¼Œåˆ™è¿”å› true å¦åˆ™ false 12new Interactor('#foo').isHidden; //=&gt; falsenew Interactor('#bar').isHidden; //=&gt; true #isPresentï¼š å¦‚æœå¯ä»¥åœ¨æ–‡æ¡£ä¸­æ‰¾åˆ°ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™è¿”å› true å¦åˆ™ falseã€‚ 12new Interactor('#foo').isPresent; //=&gt; truenew Interactor('#bar').isPresent; //=&gt; false Methodsæ‰€æœ‰é»˜è®¤çš„äº¤äº’æ–¹æ³•éƒ½æ¥å—ä¸€ä¸ªå¯é€‰çš„é€‰æ‹©å™¨ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚ç»™å®šä¸€ä¸ªé€‰æ‹©å™¨ï¼Œå°†åœ¨çˆ¶äº¤äº’å™¨çš„æ ¹å…ƒç´ å†…çš„åŒ¹é…å…ƒç´ ä¸Šè¿›è¡Œäº¤äº’ã€‚ æ³¨æ„ï¼šäº¤äº’æ–¹æ³•å°†è¿”å›äº¤äº’å™¨çš„æ–°å®ä¾‹ï¼Œå¹¶ä¸”åœ¨æ–°å®ä¾‹ä¸Šè°ƒç”¨#runï¼ˆï¼‰æ–¹æ³•ä¹‹å‰ä¸ä¼šè¿›è¡Œä»»ä½•äº¤äº’ã€‚ #click([selector]) è§¦å‘å…ƒç´ ä¸Šçš„ç‚¹å‡»äº‹ä»¶ã€‚ 12await new Interactor('button').click();await new Interactor('form').click('[type=\"submit\"]'); #fill([selector], value) æ›´æ”¹å…ƒç´ çš„å€¼å¹¶è§¦å‘è¾“å…¥å’Œæ›´æ”¹äº‹ä»¶ã€‚ 12await new Interactor('input').fill('value');await new Interactor('form').fill('input#name', 'value'); #select([selector], option) é€šè¿‡æ–‡æœ¬å€¼é€‰æ‹©ä¸€ä¸ªé€‰é¡¹å¹¶è§¦å‘è¾“å…¥å’Œæ›´æ”¹äº‹ä»¶ã€‚ 12await new Interactor('select').select('February');await new Interactor('form').fill('select#month', 'March'); #focus([selector]) åœ¨å…ƒç´ ä¸Šè§¦å‘ç„¦ç‚¹äº‹ä»¶ã€‚ 12await new Interactor('input').focus();await new Interactor('form').focus('input[type=\"email\"]'); #blur([selector]) åœ¨å…ƒç´ ä¸Šè§¦å‘å¤±å»ç„¦ç‚¹äº‹ä»¶ 12await new Interactor('input').blur();await new Interactor('form').blur('input[type=\"email\"]'); #scroll([selector], { top, left }) è®¾ç½®å…ƒç´ çš„ scrollTop å’Œ scrollLeft å±æ€§å¹¶è§¦å‘æ»šåŠ¨äº‹ä»¶ã€‚é¡¶éƒ¨å’Œå·¦ä¾§çš„å€¼æŒ‡å®šåœ¨è¯¥æ–¹å‘ä¸Šæ»šåŠ¨åˆ°å¤šå°‘åƒç´ ï¼›å¿…é¡»è‡³å°‘æŒ‡å®šä¸€ä¸ªæ–¹å‘ã€‚ 12await new Interactor('#page').scroll(&#123; top: 100 &#125;);await new Interactor('#page').scroll('.nested-view', &#123; left: 100 &#125;); #trigger([selector], name[, options]) ä½¿ç”¨ä»»ä½•æŒ‡å®šçš„äº‹ä»¶é€‰é¡¹åœ¨å…ƒç´ ä¸Šè§¦å‘ä»»æ„äº‹ä»¶ï¼Œåç§°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ°”æ³¡å’Œå¯å–æ¶ˆé€‰é¡¹è®¾ç½®ä¸º trueã€‚ 1234await new Interactor('#foo').trigger('customEvent');await new Interactor('#foo').trigger('customEvent', &#123; ... &#125;);await new Interactor('#foo').trigger('#bar', 'customEvent');await new Interactor('#foo').trigger('#bar', 'customEvent', &#123; ... &#125;); Property Creatorsä½¿ç”¨ @interactor ç±»è£…é¥°å™¨åˆ›å»ºè‡ªå·±çš„è‡ªå®šä¹‰ interactors æ—¶ï¼Œå¯ä»¥åˆ©ç”¨ Property creatorsã€‚å°±åƒé»˜è®¤æ–¹æ³•ä¸€æ ·ï¼Œcreator å‡½æ•°æ¥å—ä¸€ä¸ªå¯é€‰çš„é€‰æ‹©å™¨ã€‚ä½†æ˜¯ï¼Œç”Ÿæˆçš„å®ä¾‹æ–¹æ³•æ²¡æœ‰å¯é€‰çš„ selector å‚æ•°ã€‚ Propertiesinteractor Property creators è¿”å›ä¸€ä¸ª getterã€‚å°±åƒé»˜è®¤å±æ€§ä¸€æ ·ï¼Œé™¤äº† isPresent ä¹‹å¤–ï¼Œå¦‚æœå…ƒç´ ä¸èƒ½ä½äº interactor çš„æ ¹å…ƒç´ ä¸­ï¼Œåˆ™æ‰€æœ‰å±æ€§éƒ½ä¼šå¼•å‘é”™è¯¯ã€‚ text([selector]) è¿”å›å…ƒç´  trimmed åçš„ textContent å±æ€§ 123456@interactorclass PageInteractor &#123; heading = text('h1');&#125;new PageInteractor().heading; //=&gt; \"Hello World!\" value([selector]) è¿”å›å…ƒç´ çš„ value å±æ€§ã€‚ 123456@interactorclass FormInteractor &#123; name = value('input#name');&#125;new FormInteractor('form').name; //=&gt; \"Foo Bar\" isVisible([selector]) å¦‚æœå…ƒç´ åœ¨æ–‡æ¡£ä¸­å¯è§ï¼Œåˆ™è¿”å› true å¦åˆ™ false 12&lt;div id=\"foo\"&gt;...&lt;/div&gt;&lt;div id=\"bar\" style=\"display: none\"&gt;...&lt;/div&gt; 12345678@interactorclass PageInteractor &#123; isFooVisible = isVisible('#foo'); isBarVisible = isVisible('#bar');&#125;new PageInteractor().isFooVisible; // =&gt; truenew PageInteractor().isBarVisible; // =&gt; false isHidden([selector]) å¦‚æœå…ƒç´ å­˜åœ¨äºæ–‡æ¡£ä¸­ä½†åœ¨è§†è§‰ä¸Šè¢«éšè—ï¼Œåˆ™è¿”å› true å¦åˆ™ falseã€‚ 12&lt;div id=\"foo\"&gt;...&lt;/div&gt;&lt;div id=\"bar\" style=\"display: none\"&gt;...&lt;/div&gt; 12345678@interactorclass PageInteractor &#123; isFooHidden = isHidden('#foo'); isBarHidden = isHidden('#bar');&#125;new PageInteractor().isFooHidden; // =&gt; falsenew PageInteractor().isBarHidden; // =&gt; true isPresent([selector]) å¦‚æœå¯ä»¥åœ¨æ–‡æ¡£ä¸­æ‰¾åˆ°ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™è¿”å› true å¦åˆ™ falseã€‚ 1&lt;div id=\"foo\"&gt;...&lt;/div&gt; 12345678@interactorclass PageInteractor &#123; isFooPresent = isPresent('#foo'); isBarPresent = isPresent('#bar');&#125;new PageInteractor().isFooPresent; // =&gt; truenew PageInteractor().isBarPresent; // =&gt; false attribute([selector], attr) é€šè¿‡ getAttribute è¿”å›å…ƒç´ çš„æŒ‡å®šå±æ€§ã€‚ 1234&lt;div class=\"card\" id=\"foo\"&gt; ... &lt;a class=\"card-link\" href=\"https://example.com\"&gt;...&lt;/a&gt;&lt;/div&gt; 12345678@interactorclass CardInteractor &#123; id = attribute('id'); url = attribute('.card-link', 'href');&#125;new CardInteractor('.card').id; //=&gt; \"foo\"new CardInteractor('.card').url; //=&gt; \"https://example.com\" property([selector], prop) è¿”å›å…ƒç´ çš„æŒ‡å®šå±æ€§å€¼ã€‚ 1234&lt;div class=\"card\" style=\"height: 100px\"&gt; ... &lt;button class=\"card-cta\" disabled&gt;...&lt;/button&gt;&lt;/div&gt; 12345678@interactorclass CardInteractor &#123; height = property('offsetHeight'); isDisabled = property('button.card-cta', 'disabled');&#125;new CardInteractor('.card').height; //=&gt; 100new CardInteractor('.card').isDisabled; //=&gt; true hasClass([selector], className) å¦‚æœå…ƒç´ çš„ classList åŒ…å«æŒ‡å®šçš„ç±»åï¼Œåˆ™è¿”å› true å¦åˆ™ falseã€‚ 1234&lt;form class=\"error\" ...&gt; &lt;input id=\"name\" class=\"error\" /&gt; &lt;input type=\"email\" id=\"email\" /&gt;&lt;/form&gt; 12345678910@interactorclass FormInteractor &#123; hasErrors = hasClass('error'); // applies to the root hasNameError = hasClass('input#name', 'error'); hasEmailError = hasClass('input#email', 'error');&#125;new FormInteractor('form').hasErrors; //=&gt; truenew FormInteractor('form').hasNameError; //=&gt; truenew FormInteractor('form').hasEmailError; //=&gt; false is([selector], match) å¦‚æœæŒ‡å®šçš„åŒ¹é…é€‰æ‹©å™¨å¯ä»¥é€šè¿‡ Element.matchesï¼ˆï¼‰é€‰æ‹©ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™è¿”å› true å¦åˆ™ falseã€‚ 12345&lt;ul class=\"list\"&gt; &lt;li id=\"foo\"&gt;...&lt;/li&gt; &lt;li id=\"bar\"&gt;...&lt;/li&gt; &lt;li id=\"baz\"&gt;...&lt;/li&gt;&lt;/ul&gt; 12345678910@interactorclass ListInteractor &#123; isList = is('.list'); isFooFirst = is('#foo', ':first-child'); isBarLast = is('#bar', ':last-child');&#125;new FormInteractor('form').hasErrors; //=&gt; truenew FormInteractor('form').hasNameError; //=&gt; truenew FormInteractor('form').hasEmailError; //=&gt; false Methodsinteractor methods Creators è¿”å›é“¾å¼å‡½æ•°ï¼Œè¿™äº›å‡½æ•°éšåè¿”å›å…·æœ‰æ·»åŠ åˆ°å…¶é˜Ÿåˆ—ä¸­çš„ç‰¹å®šäº¤äº’çš„æ–°å®ä¾‹ã€‚ç›´åˆ°è°ƒç”¨äº¤äº’ç¨‹åºçš„ #run() æ–¹æ³•æˆ–ä½¿ç”¨ async/await è¯­æ³•æ—¶ï¼Œinteractions æ‰ä¼šè¿è¡Œã€‚ clickable([selector]) =&gt; click() è§¦å‘å…ƒç´ çš„ click äº‹ä»¶ã€‚ 1234&lt;div class=\"card\"&gt; ... &lt;a class=\"card-link\" href=\"https://example.com\"&gt;...&lt;/a&gt;&lt;/div&gt; 123456@interactorclass CardInteractor &#123; clickThrough = clickable('.card-link');&#125;await new CardInteractor('.card').clickThrough(); fillable([selector]) =&gt; fill(value) æ›´æ”¹å…ƒç´ çš„ value å€¼å¹¶è§¦å‘ input å’Œ change äº‹ä»¶ 1234&lt;form ...&gt; &lt;input id=\"name\" /&gt; ...&lt;/form&gt; 123456@interactorclass FormInteractor &#123; fillName = fillable('input#name');&#125;new FormInteractor('form').fillName('value'); selectable([selector]) =&gt; select(option) é€šè¿‡ text å€¼é€‰æ‹©ä¸€ä¸ªé€‰é¡¹å¹¶è§¦å‘ input å’Œ change äº‹ä»¶ã€‚ 123456789&lt;form ...&gt; &lt;select id=\"month\"&gt; &lt;option value=\"1\"&gt;January&lt;/option&gt; &lt;option value=\"2\"&gt;February&lt;/option&gt; &lt;option value=\"3\"&gt;March&lt;/option&gt; ... &lt;/select&gt; ...&lt;/form&gt; 123456@interactorclass FormInteractor &#123; selectMonth = selectable('select#month');&#125;new FormInteractor('form').selectMonth('February'); focusable([selector]) =&gt; focus() åœ¨å…ƒç´ ä¸Šè§¦å‘ focus äº‹ä»¶ã€‚ 1234&lt;form ...&gt; &lt;input type=\"email\" /&gt; ...&lt;/form&gt; 123456@interactorclass FormInteractor &#123; focusEmail = focusable('input[type=\"email\"]');&#125;await new FormInteractor('form').focusEmail(); blurrable([selector]) =&gt; blur() åœ¨å…ƒç´ ä¸Šè§¦å‘ blur äº‹ä»¶ã€‚ 1234&lt;form ...&gt; &lt;input type=\"email\" /&gt; ...&lt;/form&gt; 123456@interactorclass FormInteractor &#123; blurEmail = blurrable('input[type=\"email\"]');&#125;await new FormInteractor('form').blurEmail(); scrollable([selector]) =&gt; scroll({ top, left }) ç½®å…ƒç´ çš„ scrollTop å’Œ scrollLeft å±æ€§å¹¶è§¦å‘ scroll äº‹ä»¶ã€‚top å’Œ left çš„å€¼æŒ‡å®šåœ¨è¯¥æ–¹å‘ä¸Šæ»šåŠ¨åˆ°å¤šå°‘åƒç´ ï¼›å¿…é¡»è‡³å°‘æŒ‡å®šä¸€ä¸ªæ–¹å‘ 123&lt;div id=\"page\"&gt; &lt;div class=\"scrollview\"&gt;&lt;/div&gt;&lt;/div&gt; 123456@interactorclass PageInteractor &#123; scrollSection = scrollable('.scrollview');&#125;new PageInteractor('#page').scrollSection(&#123; top: 100 &#125;); triggerable([selector], name[, options]) =&gt; trigger([options]) ä½¿ç”¨ä»»ä½•æŒ‡å®šçš„äº‹ä»¶ options åœ¨å…ƒç´ ä¸Šè§¦å‘ä»»æ„äº‹ä»¶ï¼Œåç§°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œbubbles å’Œ cancelable é€‰é¡¹è®¾ç½®ä¸º trueã€‚è¿è¡Œäº¤äº’ç¨‹åºæ—¶ï¼Œä¸¤ä¸ª options å‚æ•°å°†åˆå¹¶ã€‚ 12345678910@interactorclass PageInteractor &#123; triggerEvent = triggerable('customEvent', &#123; ... &#125;); triggerFooEvent = triggerable('#foo', 'customEvent');&#125;await new PageInteractor().triggerEvent();await new PageInteractor().triggerEvent(&#123; ... &#125;);await new PageInteractor().triggerFooEvent();await new PageInteractor().triggerFooEvent(&#123; ... &#125;); InteractorsåµŒå¥—çš„ interactor creators è¿”å›èŒƒå›´ä¸ºçˆ¶ interactor æ ¹å…ƒç´ çš„ interactor å®ä¾‹ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦æ·»åŠ åˆ°è¿”å›çš„ interactor ä¸­çš„å¯é€‰çš„å‚æ•°ã€‚ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ª interactor classï¼Œåœ¨åˆ›å»ºåµŒå¥—çš„ï¼Œä½œç”¨åŸŸçš„ interactor æ—¶ä¼šä½¿ç”¨å®ƒè‡ªå·±çš„æ–¹æ³•å’Œå±æ€§ã€‚ scoped(selector[, properties]) å•ä¸ªåµŒå¥— interactor çš„ Interactor creatorã€‚ 12345&lt;form class=\"login-form\"&gt; &lt;input type=\"text\" name=\"username\" /&gt; &lt;input type=\"email\" name=\"email\" /&gt; &lt;button type=\"submit\"&gt;Login&lt;/button&gt;&lt;/form&gt; 1234567891011121314151617@interactorclass LoginFormInteractor &#123; username = scope('input[name=\"username\"]'); email = scope('input[name=\"email\"]'); submit = clickable('button[type=\"submit\"]');&#125;await new LoginFormInteractor('form') .username.fill('darklord1926') .email.fill('tom.riddle@hogwarts.edu') .email.blur() .submit();await new LoginFormInteractor('form') .username.fill('h4x0r') .email.only().fill('not@an@email') .blur(); collection(selector[, properties]) =&gt; fn([index]) ä¸€ç»„åµŒå¥— interactor çš„ Interactor creatorã€‚é›†åˆ interactor å°†ç´¢å¼•ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä½œç”¨åŸŸä¸ºè¯¥å…ƒç´ çš„ interactorã€‚æ²¡æœ‰ç´¢å¼•ï¼Œå°†è¿”å›ç›¸åº”çš„ interactor æ•°ç»„ 12345&lt;ul class=\"checkboxes\"&gt; &lt;li&gt;&lt;input type=\"checkbox\" .../&gt;&lt;/li&gt; &lt;li&gt;&lt;input type=\"checkbox\" .../&gt;&lt;/li&gt; &lt;li&gt;&lt;input type=\"checkbox\" .../&gt;&lt;/li&gt;&lt;/ul&gt; 1234567891011121314@interactorclass CheckboxGroupInteractor &#123; items = collection('input[type=\"checkbox\"]');&#125;await checkboxGroup .items(0).click() .items(1).click();)await checkboxGroup .items(0).click() .items(1).only() .focus() .trigger('keydown', &#123; which: 32 &#125;) HelpersProperty creator å¯ç”¨äºå®šä¹‰æ‚¨è‡ªå·±çš„è‡ªå®šä¹‰ interactionsã€‚æ”¯æŒç›´æ¥åœ¨ interactor classä¸Šå®šä¹‰ methods å’Œ gettersã€‚ä½†æ˜¯ï¼Œä½¿ç”¨è¿™äº›å¸®åŠ©ç¨‹åºå¯ä»¥è®©æ‚¨åˆ›å»ºå¯é‡å¤ä½¿ç”¨çš„Property creator ï¼Œä¾‹å¦‚ä¸Šè¿°äº¤äº’ã€‚ computed(getter) è¿”å› Interactor Property çš„ property descriptorã€‚ 12345678910function data(key, selector) &#123; return computed(function() &#123; return this.$(selector).dataset[key]; &#125;)&#125;@interactor class PageInteractor &#123; username = data('user', '#user-info');&#125; action(method) è¿”å›ä¸€ä¸ªäº¤äº’æ–¹æ³•çš„ property descriptorã€‚ 123456789101112function check(selector) &#123; return action(function(name) &#123; return this.click(`$&#123;selector&#125;[name=\"$&#123;name&#125;\"]`); &#125;)&#125;@interactor class CheckboxGroupInteractor &#123; check = check('input[type=\"checkbox\"]');&#125;new CheckboxGroupinteractor('.checkboxes').check('option-1');","tags":[{"name":"bigtest","slug":"bigtest","permalink":"https://shleyz.github.io/tags/bigtest/"}]},{"title":"@bigtest/interactorä½¿ç”¨","date":"2020-01-07T08:42:05.000Z","path":"2020/01/07/bigtest-interactorä½¿ç”¨/","text":"è‡ªå®šä¹‰ interactorè™½ç„¶ä½¿ç”¨é»˜è®¤çš„ Interactor å¯¹äºç®€å•å’Œè¾ƒå°çš„ç»„ä»¶å¯èƒ½å¾ˆå¥½ï¼Œä½†æ˜¯ä½¿ç”¨ç±»è£…é¥°å™¨å’Œ interactor interaction creators å¾ˆå®¹æ˜“åˆ›å»ºè‡ªå®šä¹‰ interactionã€‚ è‡ªå®šä¹‰ Interactor ä½¿æˆ‘ä»¬èƒ½å¤Ÿå°†æ‰€æœ‰é€‰æ‹©å™¨éƒ½æ”¾åœ¨ä¸€ä¸ªä½ç½®ï¼Œå¹¶å…·æœ‰ä¸å…¶ä»– Interactor å¯ç»„åˆä»¥ä¸æ›´å¤šå¤æ‚ç»“æ„äº¤äº’çš„å¥½å¤„ã€‚ 12345678910111213141516171819202122import &#123; interactor, text, value, property, fillable, focusable, blurrable&#125; from '@bigtest/interactor';@interactorclass FiledInteractor &#123; // custom properties are lazy like the default properties label = text('[data-test-label]'); value = value('[data-test-input]'); type = property('[data-test-input]', 'type'); // `*able` property creators create chainable interactor methods focus = focusable('[data-test-input]'); fill = fillable('[data-test-input]'); blur = blurrable('[data-test-input]');&#125; é»˜è®¤çš„å±æ€§å’Œæ–¹æ³•é›†å…·æœ‰ç›¸åº”çš„ interactor creatorsã€‚è¿˜æœ‰å…¶ä»–å‡ ä¸ªå¯ç”¨çš„ interactor creators å¯ä¾›é€‰æ‹©ã€‚ è‡ªå®šä¹‰æ–¹æ³•å’Œå±æ€§ä¹Ÿå¯ä»¥åœ¨ä¿®é¥°çš„ç±»ä¸Šç›´æ¥å®šä¹‰å…¶ä»–æ–¹æ³•å’Œè·å–å±æ€§çš„æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œè¯·è°¨æ…ä½¿ç”¨ property initializers å’Œ thisï¼Œå› ä¸ºå®ƒä¼šå¼•ç”¨æœªä¿®é¥°çš„ç±»å®ä¾‹ï¼Œè€Œä¸æ˜¯æ‚¨å¯èƒ½æœŸæœ›çš„ interactor å®ä¾‹ã€‚ 12345678910111213141516@interactorclass FieldInteractor &#123; // methods that return new instances of itself will be chainable with other methods fillIn(value) &#123; return this.focus() .fill(value) .blur(); &#125; // using getters ensures that properties will not be invoked until necessary get isPassword() &#123; return this.type === 'password'; &#125; // the following will not work because `this` references the undecorated class // foo = () =&gt; this.doesntWork()&#125; è‡ªå®šä¹‰ Interaction Creatorså¯¹äºå¸¸ç”¨çš„è‡ªå®šä¹‰å±æ€§å’Œæ–¹æ³•ï¼Œå­˜åœ¨ä¸¤ä¸ª helpersï¼Œå¯ç”¨äºå®šä¹‰è‡ªå·±çš„å¯é‡ç”¨ interaction creatorsï¼š é’ˆå¯¹å±æ€§çš„ computed é’ˆå¯¹æ–¹æ³•çš„ action é™¤äº†é»˜è®¤æ–¹æ³•å¤–ï¼Œinteraction è¿˜å…·æœ‰ä¸€äº›è‡ªå·±çš„è¾…åŠ©æ–¹æ³•ã€‚ this.\\$(selector) ä½¿ç”¨ interaction çš„æ ¹å…ƒç´ å’Œ querySelector æŸ¥æ‰¾åµŒå¥—å…ƒç´ ã€‚å½“æ‰¾ä¸åˆ°å…ƒç´ æ—¶ï¼Œå°†å¼•å‘é”™è¯¯ã€‚å¦‚æœæœªå®šä¹‰é€‰æ‹©å™¨ï¼Œåˆ™è¿”å›æ ¹å…ƒç´ ã€‚ this.\\$\\$(selector) ä¹Ÿä½¿ç”¨ interaction çš„æ ¹å…ƒç´ ï¼Œä½†ä½¿ç”¨ querySelectorAll å¹¶è¿”å›åŒ¹é…å…ƒç´ çš„æ•°ç»„ã€‚ä»…å½“æ‰¾ä¸åˆ°æ ¹å…ƒç´ æ—¶æ‰ä¼šå¼•å‘é”™è¯¯ã€‚ 123456789101112131415import &#123; computed &#125; from '@bigtest/interactor';// returns a specific data attribute of an elementexport function data(selector, key) &#123; // to align with other interaction creators, `selector` is optional if (!key) &#123; key = selector; selector = null; &#125; // the `computed` helper creates a getter return computed(function() &#123; return this.$(selector).dataset[key]; &#125;);&#125; Interactor methods: #findï¼ˆselectorï¼‰å’Œ#findAllï¼ˆselectorï¼‰çš„è¡Œä¸ºä¸ä¸Šè¿°æ–¹æ³•ç›¸åŒï¼Œåªæ˜¯å®ƒä»¬è¿”å›ç”¨äºé“¾å¼è°ƒç”¨çš„æ–°å®ä¾‹ã€‚æ‰¾åˆ°çš„å…ƒç´ å°†ä¼ é€’åˆ°é“¾ä¸­çš„ä¸‹ä¸€ä¸ªå‡½æ•°ã€‚ 1234567891011121314151617181920212223import &#123; action &#125; from '@bigtest/interactor';// triggers a keypress event for each character in a given stringexport function typeable(selector) &#123; // the `action` helper returns an interactor method return action(function(string) &#123; return ( this.find(selector) // `#do` executes a callback within the queue .do($node =&gt; &#123; for (let char of string) &#123; $node.dispatchEvent( new Event('keypress', &#123; charChode: char.charCodeAt(), cancelable: true, bubbles: true &#125;) ); &#125; &#125;) ); &#125;);&#125; ä½¿ç”¨è‡ªå®šä¹‰ interactorå¯ä»¥åƒä½¿ç”¨æ™®é€š interactor ä¸€æ ·ä½¿ç”¨è‡ªå®šä¹‰ interactorã€‚ 123456789let username = new FieldInteractor('[data-test-username-field]');let password = new FieldInteractor('[data-test-password-field]');// focuses, fills, and blurs the field inputawait username.fillIn('bigtester');// property access could trigger \"element not found\" errors like default propertiesexpect(username.type).to.equal('text');expect(password.isPassword).to.be.true; å¦‚æœä¸€ä¸ª interactor é€šå¸¸åªå±äºä¸€ä¸ªå…ƒç´ ï¼Œåˆ™å®šä¹‰ä¸€ä¸ªé™æ€çš„ defaultScope å±æ€§ä½¿æˆ‘ä»¬ä¸å¿…æ¯æ¬¡éƒ½ä½¿ç”¨èŒƒå›´é€‰æ‹©å™¨åˆå§‹åŒ–è¯¥ interactorã€‚ 12345678@interactorclass HomePageInteractor &#123; static defaultScope = '[data-test-home-page]'; // ...&#125;// defaults scope to \"[data-test-home-page]\"let homePage = new HomePageInteractor(); è‡ªå®šä¹‰ interactor ä¹Ÿå¯ä»¥é€šè¿‡ç›¸äº’åµŒå¥—æ¥æ„æˆå…¶ä»– interactorã€‚è¯¸å¦‚ scoped å’Œ collection ä¹‹ç±»çš„å¸®åŠ©ç¨‹åºè¿˜å…è®¸æ‚¨å°†ä¸€ä¸ªæˆ–ä¸€ç»„ interactor èŒƒå›´é™å®šäºçˆ¶ interactor ä¸­çš„ç‰¹å®šå…ƒç´ ã€‚ Interactors ç»„åˆåœ¨å®šä¹‰è‡ªå®šä¹‰ Interactors æ—¶ï¼Œå¯ä»¥é€šè¿‡ç»„åˆè¾ƒå°çš„ Interactors æ¥åˆ›å»ºæ›´å¤æ‚çš„ Interactorsã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒåµŒå¥— Interactors çš„ä½œç”¨åŸŸä¸é™äºå…¶çˆ¶ Interactorsã€‚è¿™æ˜¯å› ä¸ºåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¾‹å¦‚æ¨¡å¼æˆ–å¼¹å‡ºçª—å£ï¼Œå…ƒç´ å·²è¢«é™„åŠ åˆ°æ–‡æ¡£çš„ä¸åŒéƒ¨åˆ†ã€‚ 123456789101112131415@interactorclass ModalInteractor &#123; // ...&#125;@interactorclass SignUpFormInteractor &#123; // the default scope is used when a new instance's selector is omitted static defaultScope = '[data-test-sign-up-form]'; // the modal element exists outside of the form confirmation = new ModalInteractor('[data-test-modal]'); // ...&#125; Scoped Interactors èŒƒå›´äº¤äº’å™¨ä½¿ç”¨ scoped å±æ€§åˆ›å»ºå™¨ï¼Œæ‚¨å¯ä»¥åˆ›å»ºåœ¨çˆ¶ Interactors èŒƒå›´å†…çš„åµŒå¥— Interactorsã€‚ç¬¬äºŒä¸ªå‚æ•°å…è®¸æˆ‘ä»¬å®Œå…¨æŒ‡å®šå…¶ä»–åµŒå¥—å±æ€§æˆ–ç”šè‡³å¦ä¸€ä¸ª Interactors ç±»ã€‚ 123456789101112131415@interactorclass SignUpFormInteractor &#123; // ... // scoped interactors look for an element within the parent element submit = scoped('[data-test-submit]'); // a hash of other properties may be provided as the second argument email = scoped('[data-test-email-field] input', &#123; placeholder: property('placeholder') &#125;); // using a class is preferred for maximum composability password = scoped('[data-test-password-field]', FieldInteractor);&#125; collection å±æ€§åˆ›å»ºå™¨è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥å—ä¸€ä¸ªç´¢å¼•ï¼Œå¹¶å°†ä¸ºè¯¥ç´¢å¼•å¤„çš„å…ƒç´ è¿”å›ä¸€ä¸ªåµŒå¥—çš„ Interactorsã€‚å°±åƒæ™®é€šçš„ Interactors ä¸€æ ·ï¼Œæ­¤ Interactors æ˜¯æƒ°æ€§çš„ï¼Œåœ¨äº¤äº’è¿è¡Œæˆ–è®¿é—®å±æ€§ä¹‹å‰ï¼Œå®ƒä¸ä¼šå°è¯•åœ¨ç´¢å¼•å¤„æŸ¥æ‰¾å…ƒç´ ã€‚å¦‚æœä¸æä¾›ä»»ä½•å‚æ•°ï¼Œåˆ™ collection å‡½æ•°å°†è¿”å›ä¸€ä¸ª Interactors æ•°ç»„ï¼›è°ƒç”¨æ—¶æ‰¾åˆ°çš„æ¯ä¸ªåŒ¹é…å…ƒç´ éƒ½ä¼šæ·»åŠ ä¸€ä¸ªã€‚ 12345678910@interactorclass SignUpFormInteractor &#123; // ... // collections also accept additional properties or a class as the second argument interests = collection('[data-test-interests-item]\"]', &#123; toggle: click('input[type=\"checkbox\"]'), label: text('[data-test-label]') &#125;);&#125; åµŒå¥—æ–¹æ³•å’Œå±æ€§åµŒå¥—çš„ Interactors æ–¹æ³•ï¼ˆæ— è®ºæ˜¯å¦ä½œç”¨åŸŸï¼‰éƒ½ä¼šè¿”å›æ ¹ Interactors çš„å®ä¾‹ä»¥è¿›è¡Œå…¶ä»–é“¾æ¥ã€‚åµŒå¥—å±æ€§åœ¨è®¿é—®æ—¶ä»ä¼šå»¶è¿Ÿè®¡ç®—ã€‚ 1234567891011121314151617181920212223let signUp = new SignUpFormInteractor();// `await` will immediately invoke `#run()`, we could also save a reference// to this specific interaction to re-use elsewhereawait signUp.email .fill('foo@bar.baz') .password.fillIn('53cr3t') .interests(3) .toggle() .submit();// nested interactors may be broken from the parent chain using `#only()`await signUp.email .only() .focus() .fill('foo@bar') .blur();// nested properties may throw one of a few \"element not found\" errorssignUp.interests(10).label;// =&gt; Error: unable to find \"[data-test-label]\"// =&gt; Error: unable to find \"[data-test-interest-item]\" at index 10// =&gt; Error: unable to find \"[data-test-sign-up-form]\"","tags":[{"name":"bigtest","slug":"bigtest","permalink":"https://shleyz.github.io/tags/bigtest/"}]},{"title":"@bigtest/interactorä»‹ç»","date":"2020-01-07T08:20:57.000Z","path":"2020/01/07/bigtest-interactor/","text":"åœ¨ç”Ÿç‰©å­¦ä¸­ï¼Œinteractor è¢«å®šä¹‰ä¸ºè‡ªç„¶é€‰æ‹©æ‰€ä½œç”¨çš„æœ‰æœºä½“çš„ä¸€éƒ¨åˆ†ã€‚ BigTest interactor å®šä¹‰äº†è¦å¯¹å…¶è¿›è¡Œæµ‹è¯•çš„åº”ç”¨ç¨‹åºçš„ä¸€éƒ¨åˆ†ã€‚æ‚¨å¯ä»¥å°† interactor è§†ä¸ºç°ä»£ç»„ä»¶çš„å¯ç»„åˆé¡µé¢å¯¹è±¡ã€‚ 1234import &#123; interactor &#125; from '@bigtest/interactor';// an interactor can be scoped directly to an elementlet input = new interactor('[data-test-input]');let submit = new interactor('[data-test-submit]'); Interactor PropertiesInteractor å±æ€§æ˜¯æƒ°æ€§çš„ï¼Œåœ¨è®¿é—®ä¹‹å‰ä¸æŸ¥æ‰¾å…ƒç´ æˆ–å±æ€§ã€‚å¦‚æœæ‰¾ä¸åˆ°è¯¥å…ƒç´ ï¼Œåˆ™ä¼šå¼•å‘é”™è¯¯ã€‚è¿™æ¯”å…¸å‹çš„æœŸæœ›å¤±è´¥æ›´æœ‰ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“æœŸæœ›å¤±è´¥çš„åŸå› ï¼Œè€Œä¸ä»…ä»…æ˜¯çŸ¥é“æœŸæœ›å€¼ä¸æ­£ç¡®è€Œå¤±è´¥äº†ã€‚ 1234567// when the elements do not exist in the DOMinput.value; //=&gt; Error: unable to find \"[data-test-input]\"submit.text; //=&gt; Error: unable to find \"[data-test-submit]\"// when the elements do exist in the DOMinput.value; //=&gt; \"foo\"submit.text; //=&gt; \"Submit\" Immutable MethodsInteractor æ˜¯ä¸å¯å˜çš„ã€‚æ–¹æ³•è¿”å› Interactor çš„æ–°å®ä¾‹ï¼Œå¹¶åœ¨é˜Ÿåˆ—ä¸­é™„åŠ ä¸€ä¸ª interactionã€‚ç„¶åæ‚¨å¯ä»¥é€šè¿‡è°ƒç”¨ #run() æ–¹æ³•æ¥åœ¨ Interactor çš„é˜Ÿåˆ—ä¸­è¿è¡Œæ‰€æœ‰ Interactorã€‚ 12345678910// this does not actually focus the input yetlet focusInput = input.focus();// chaining additional interactions will add to the new instance queuelet focusAndFill = focusInput.fill('some value');// an interactor will wait until the element exists before interacting with itfocusAndFill.run().then(...) // the input was succesfully focused and filled with \"some value\".catch(...) // something went wrong, likely the input was not found Interactor ä¹Ÿå¯ä»¥ç›¸äº’ç»„åˆä»¥äº§ç”Ÿæ›´å¤æ‚çš„äº¤äº’ã€‚è€Œä¸”ç”±äºå®ƒä»¬æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤å¯ä»¥åå¤ä½¿ç”¨å®ƒä»¬ã€‚ 12345678910111213141516// remember, this does not actually interact with the elements yetlet fillInput = input .focus() .fill('some value') .blur();let submitForm = submit.click();// when this is run, it will focus, fill, and blur the input// before finally clicking on the submit buttonlet fillAndSubmit = fillInput.append(submitForm);// in one test...fillAndSubmit.run();// ... in anotherfillAndSubmit.run(); é»˜è®¤çš„ interaction æ–¹æ³•å¯ä»¥é€‰æ‹©æ¥å—ä¸€ä¸ªé€‰æ‹©å™¨ä½œä¸ºå®ƒä»¬çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ä¸ä½œç”¨åŸŸå†…çš„ interaction ä¸­çš„å…ƒç´ è¿›è¡Œäº¤äº’ã€‚ interaction ä¹Ÿæ˜¯å¯å¼‚æ­¥çš„ï¼Œå®ƒå¯ä»¥ç«‹å³è°ƒç”¨#runï¼ˆï¼‰ï¼Œä»è€Œå…è®¸ interaction ä½¿ç”¨ async/await è¯­æ³•ã€‚ 123await new Interactor('[data-test-form]') .fill('[data-test-input]', 'some value') .click('[data-test-submit]'); æœ‰å…³å¯ç”¨çš„é»˜è®¤å±æ€§å’Œæ–¹æ³•ï¼Œè¯·å‚é˜…Available Interactionsã€‚æ‚¨å¯ä»¥é€šè¿‡åˆ›å»ºè‡ªå®šä¹‰ interaction æ¥è¦†ç›–æˆ–å®šä¹‰è‡ªå·±çš„ interactionã€‚è¿™å¯ä»¥é€šè¿‡ç›´æ¥æ‰©å±• Interactor ç±»æˆ–ä½¿ç”¨@interactor ç±»è£…é¥°å™¨å’Œ interaction creators æ¥å®Œæˆã€‚","tags":[{"name":"bigtest","slug":"bigtest","permalink":"https://shleyz.github.io/tags/bigtest/"}]},{"title":"@bigtestä½¿ç”¨","date":"2020-01-07T07:44:08.000Z","path":"2020/01/07/bigtestä½¿ç”¨/","text":"å‡è®¾æ‚¨çš„åº”ç”¨ç¨‹åºæ­£åœ¨ä½¿ç”¨ä»¥ä¸‹æŠ€æœ¯ï¼š React Mocha Webpack or Parcel Installing Dependenciesé¦–å…ˆï¼Œå®‰è£… BigTest æ‰€éœ€çš„è½¯ä»¶åŒ…ï¼š 1yarn add --dev @bigtest/cli @bigtest/interactor @bigtest/react @bigtest/cli å°†ä½¿ä½ èƒ½å¤Ÿè®¿é—®æ–‡ç« å†…ä½¿ç”¨çš„ bigtest å‘½ä»¤ã€‚ @bigtest/interactor å…è®¸æ‚¨çš„æµ‹è¯•ä»¥ç±»ä¼¼äººä¸åº”ç”¨äº¤äº’çš„æ–¹å¼ä¸åº”ç”¨è¿›è¡Œäº¤äº’ã€‚ ä»–ä»¬å°†ç­‰å¾…å…ƒç´ å‡ºç°ï¼Œç„¶åå†ä¸ä»–ä»¬è¿›è¡Œäº¤äº’ï¼Œè¿™æ„å‘³ç€æ‚¨ä¸å¿…æ‹…å¿ƒæ­£ç¡®åœ°å®‰æ’æµ‹è¯•æ—¶é—´ä»¥ä¸ä»»ä½•è¿è¡Œå¾ªç¯åŒæ­¥ã€‚ ï¼ˆè°è¿˜æœ‰æ—¶é—´è¿™æ ·åšï¼Ÿï¼‰ @bigtest/reactï¼šReact DOM helperï¼Œç”¨äºè®¾ç½®æ‚¨çš„åº”ç”¨ç¨‹åºä»¥è¿›è¡ŒéªŒæ”¶æµ‹è¯•ã€‚ åˆå§‹åŒ– BigTestç°åœ¨å·²ç»å®‰è£…äº†æ‰€æœ‰ä¾èµ–é¡¹ï¼Œç„¶åè½¬åˆ°é¡¹ç›®æ ¹ç›®å½•å¹¶è¿è¡Œ 1npx bigtest init è¿™å°†åˆ›å»ºä¸€ä¸ªæ–°çš„ bigtest ç›®å½•ï¼š bigtest/â”œâ”€â”€ bigtest.optsâ”œâ”€â”€ index.jsâ”œâ”€â”€ helpers/â”‚ â””â”€â”€ setup-app.jsâ”œâ”€â”€ interactors/â”‚ â””â”€â”€ app.jsâ””â”€â”€ tests/â””â”€â”€ app-test.js å¯¼å…¥ä½ çš„åº”ç”¨æ‚¨éœ€è¦å°†åº”ç”¨ç¨‹åºæ ¹ç»„ä»¶å¯¼å…¥åˆ° bigtest/helpers/setup-app.js æ–‡ä»¶ä¸­ã€‚å¯¼å…¥æ ¹ç»„ä»¶ï¼š 12345678import &#123; setupAppForTesting &#125; from '@bigtest/react';import YourApp from '../../src/YourApp';export async function setupApplicationForTesting() &#123; await setupAppForTesting(YourApp, () =&gt; &#123; mountId: 'bigtesting-container'; &#125;);&#125; å¯åŠ¨å’ŒæœåŠ¡BigTest é€šè¿‡å°†æ‚¨çš„åº”ç”¨ç¨‹åºä¸æ‚¨ç¼–å†™çš„æµ‹è¯•æ–‡ä»¶æ†ç»‘åœ¨ä¸€èµ·æ¥å·¥ä½œã€‚åˆ›å»ºçš„æ‰€æœ‰æµ‹è¯•éƒ½éœ€è¦å¯¼å…¥åˆ° bigtest/index.jsã€‚æ‚¨éœ€è¦é€šè¿‡å°†æ†ç»‘å™¨çš„å…¥å£ç‚¹æ›´æ”¹ä¸º bigtest/index.js æ¥å‘Šè¯‰æ†ç»‘å™¨å¦‚ä½•å°†æµ‹è¯•ä¸åº”ç”¨æ†ç»‘åœ¨ä¸€èµ·ã€‚ bigtest CLI ä¼šè®¾ç½® NODE_ENV ä¸ºæ‚¨æµ‹è¯•ã€‚ä»¥ Webpack ä¸ºä¾‹ï¼Œæ‚¨å¯ä»¥æ£€æŸ¥ NODE_ENV æ˜¯å¦ç­‰äº test å¹¶æ ¹æ®éœ€è¦æ›´æ”¹å…¥å£ç‚¹ï¼š 12345// in your webpack.config.jslet isTesting = process.env.NODE_ENV === 'test';module.exports = &#123; entry: isTesting ? '.bigtest/index.js' : './src/index.js'&#125;; bigtest runbigtest run å¤„ç†å¯åŠ¨ä¸åŒçš„æµè§ˆå™¨å¹¶å®é™…è¿è¡Œæµ‹è¯•çš„è¿‡ç¨‹ã€‚å°†è„šæœ¬æ·»åŠ åˆ° package.jsonï¼š 123\"scripts\": &#123; \"test\": \"bigtest run\"&#125; å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ package.json ä¸­æŒ‡å®šçš„@bigtest/cli é¡¹ç›®ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯å…¨å±€å®‰è£…ã€‚ bigtest.optsbigtest.opts æ–‡ä»¶ä½¿å¯åŠ¨å™¨ï¼ˆbigtest è¿è¡Œï¼‰çŸ¥é“ï¼š å¦‚ä½•å¯åŠ¨æ‚¨çš„åº”ç”¨æœåŠ¡å™¨ï¼ˆâ€“serveï¼‰ åº”ç”¨æœåŠ¡çš„ä½ç½®ï¼ˆâ€“serve-urlï¼‰ æ‚¨æ­£åœ¨ä½¿ç”¨ä»€ä¹ˆæµ‹è¯•æ¡†æ¶ï¼ˆâ€“adapterï¼‰ï¼Œç›®å‰æœ€å¤§çš„å¯åŠ¨å™¨ä»…é€‚ç”¨äº mochaï¼Œä½†æˆ‘ä»¬æ­£åœ¨åŠªåŠ›æ·»åŠ æ›´å¤šçš„é€‚é…å™¨ã€‚ bigtest.opts æ–‡ä»¶æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«å¯ä»¥ä½œä¸ºæ ‡å¿—ä¼ é€’ç»™ BigTest CLI çš„å„ç§é€‰é¡¹ã€‚ä» CLI ä¼ é€’çš„å‚æ•°ä¼˜å…ˆäº opts æ–‡ä»¶ä¸­æŒ‡å®šçš„å‚æ•°ã€‚ bigtest.opts åº”è¯¥çœ‹èµ·æ¥åƒè¿™æ ·ï¼š 123--serve \"yarn start\"--serve-url \"http://localhost:3000\"--adapter mocha è¿è¡Œæµ‹è¯•ç°åœ¨ï¼Œæ‰€æœ‰å†…å®¹éƒ½å·²è®¾ç½®å¥½ï¼Œå¯ä»¥é€šè¿‡è¿è¡Œæˆ‘ä»¬ä¹‹å‰è®¾ç½®çš„æµ‹è¯•å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š 1yarn test","tags":[{"name":"bigtest","slug":"bigtest","permalink":"https://shleyz.github.io/tags/bigtest/"}]},{"title":"@bigtestä»‹ç»","date":"2020-01-07T06:40:06.000Z","path":"2020/01/07/bigtest/","text":"çŸ¥é“åº”ç”¨ç¨‹åºæ˜¯å¦æ­£å¸¸è¿è¡Œçš„æœ€å¯é æ–¹æ³•æ˜¯å®é™…è¿è¡Œå®ƒã€‚å¤§å‹æµ‹è¯•ä¼šåœ¨æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ä¹‹å‰å¯åŠ¨æ•´ä¸ªåº”ç”¨ç¨‹åºã€‚ æ‚¨çš„åº”ç”¨ç¨‹åºæ˜¯å¦åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Ÿç„¶åï¼Œå¦‚æœæµ‹è¯•è¦è¡¡é‡å…¶æ˜¯å¦æœ‰æ•ˆï¼Œå®ƒè¿˜éœ€è¦åœ¨çœŸå®ç”¨æˆ·å¯èƒ½ä½¿ç”¨çš„çœŸå®æµè§ˆå™¨ä¸­è¿è¡Œï¼Œå¹¶ä¸”åº”è¯¥é’ˆå¯¹çœŸå® DOM åˆ†é…çœŸå®çš„ UI äº‹ä»¶ã€‚ è¿›è¡Œå¤§å‹æµ‹è¯•å¾ˆå›°éš¾ï¼Œå› ä¸ºåœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­å¯èƒ½åŒæ—¶å‘ç”Ÿæ•°ç™¾ç”šè‡³æ•°åƒä¸ªäº‹æƒ…ã€‚åŒ…æ‹¬ç”¨æˆ·äº’åŠ¨ã€‚ BigTest æ˜¯ä¸€ä¸ªæ—¨åœ¨ç®€åŒ–å’Œå¿«é€Ÿæ¥å—æ‰€æœ‰å•é¡µåº”ç”¨ç¨‹åºï¼ˆSPAï¼‰çš„æ¡†æ¶ï¼Œæ— è®ºæ¡†æ¶æˆ–åº“å¦‚ä½•ã€‚ å½“æˆ‘ä»¬åœ¨ç½‘ç»œä¸Šæ„å»ºåº”ç”¨æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿåœ¨æ¥è¿‘ç”¨æˆ·çš„åœ°æ–¹å¯¹å…¶è¿›è¡Œæµ‹è¯•ã€‚ çœŸå®ç”¨æˆ·å°†ä½¿ç”¨çœŸå®çš„æµè§ˆå™¨æ¥è®¿é—®ä½ çš„åº”ç”¨ï¼›é‚£ä¹ˆæµ‹è¯•æ˜¯å¦æ˜¯åœ¨çœŸå®çš„æµè§ˆå™¨ä¸­è¿›è¡Œçš„å‘¢ï¼Ÿå¹¶éæ¯ä¸ªäººéƒ½ä½¿ç”¨ç›¸åŒçš„æµè§ˆå™¨ï¼Œé‚£ä¹ˆæµ‹è¯•æ˜¯å¦å¯ä»¥åœ¨å¤šä¸ªä¸åŒçš„æµè§ˆå™¨å’Œè®¾å¤‡ä¸Šè¿›è¡Œå‘¢ï¼Ÿç½‘ç»œå‘¢ï¼Ÿæ‚¨çš„åº”ç”¨å¯èƒ½ä¼šä¸ç½‘ç»œè¿›è¡Œå¯¹è¯ï¼Œè€Œæ‚¨çš„æµ‹è¯•ä¹Ÿåº”è¯¥è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œå¯¹å§ï¼Ÿæ›´ä¸ç”¨è¯´ä¸€ä¸ªäººä¸ä¼šåœ¨ç»„ä»¶çº§åˆ«ä¸Šä¸æ‚¨çš„åº”ç”¨è¿›è¡Œäº¤äº’ã€‚ä»–ä»¬æ­£åœ¨ä¸€èµ·ä½¿ç”¨æ•´ä¸ªåº”ç”¨ç¨‹åºã€‚ æ‚¨çš„æ‰€æœ‰ç»„ä»¶ç›¸äº’åä½œä»¥åˆ›é€ ä¸€ç§ä½“éªŒã€‚ å¦‚æœæµ‹è¯•æ— æ³•ä»¥ä¸äººä½¿ç”¨åº”ç”¨ç¨‹åºç›¸åŒçš„æ–¹å¼æµ‹è¯•åº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆä½ ä¼šå¯¹è‡ªå·±çš„ app æœ‰ä¿¡å¿ƒå—ï¼Ÿ åœ¨å¼€å§‹å¯»æ‰¾æœ€é€‚åˆ SPA çš„æµ‹è¯•å·¥å…·æ—¶ï¼Œæˆ‘ä»¬æœ‰ä¸€äº›è¦æ±‚ï¼š å¿«é€Ÿ æ„å»ºç»„ä»¶ï¼ˆåŒ…æ‹¬å¯ç»„åˆçš„ç»„ä»¶ï¼‰ è·¨æµè§ˆå™¨ï¼ˆFirefoxï¼ŒIEï¼ŒSafari ç­‰ è·¨è®¾å¤‡ï¼ˆWindowsï¼ŒmacOSï¼ŒiOSï¼ŒAndroid ç­‰ï¼‰ è·¨æ¡†æ¶ï¼ˆReactï¼ŒVueï¼ŒEmberï¼ŒAngular ç­‰ï¼‰ è·¨æµ‹è¯•æ¡†æ¶ï¼ˆMochaï¼ŒJasmine ç­‰ï¼‰ ç›®å‰å·²ç»æœ‰ç±»ä¼¼çš„å·¥å…·ï¼Œå¦‚ Jestï¼Œä½†æ˜¯è¿™äº›æµ‹è¯•æ— æ³•åœ¨çœŸæ­£çš„æµè§ˆå™¨ä¸­è¿è¡Œã€‚è¿˜æœ‰èµ›æ™®æ‹‰æ–¯ï¼ˆCypressï¼‰ï¼Œä½†æˆªè‡³æœ¬æ–‡æ’°å†™ä¹‹æ—¶ï¼Œæ‚¨ç›®å‰æ— æ³•åœ¨ Chrome ä¹‹å¤–ä½¿ç”¨å®ƒï¼ˆå…¶ä»–ä¸ä¹…å°†é€šè¿‡ webdriver æ¨å‡ºï¼‰ï¼Œå¹¶ä¸”è¿˜æ²¡æœ‰åœ¨ç»„ä»¶ä¸­è¿›è¡Œç¼–å†™ã€‚ ä¸‹é¢çš„å¯¹æ¯”ï¼š Test Framework Fast Cross Browser Cross Device Cross Test Runner Cross Framework Composable BigTest ğŸ âœ… âœ… âœ… âœ… âœ… Cypress ğŸš— âŒ âŒ âŒ âœ… âŒ Selenium ğŸšŒ âœ… âŒ âœ… âœ… âŒ Jest ğŸ âŒ âŒ âŒ âœ… âŒ å¤§å¤šæ•°ç°æœ‰æ¡†æ¶éƒ½é€‰ä¸­äº†å…¶ä¸­ä¸€äº›ï¼ˆæˆ–éƒ¨åˆ†é€‰ä¸­äº†å®ƒä»¬ï¼‰ï¼Œä½†ä¸æ˜¯å…¨éƒ¨ã€‚éšç€ç§»åŠ¨æµè§ˆåœ¨å½“ä»Šä¸–ç•Œå˜å¾—å¦‚æ­¤æ™®éï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§å¯ä»¥è½»æ¾åœ°åœ¨æˆ‘ä»¬æ‰‹è¾¹çš„ä»»ä½•è®¾å¤‡ä¸Šè¿è¡Œæµ‹è¯•ï¼ˆé€šè¿‡è®¿é—® URLï¼‰çš„å·¥å…·ã€‚ æµ‹è¯•ç†å¿µä½¿ç”¨ BigTest ç¼–å†™æµ‹è¯•æ—¶ï¼ŒåŠ¡å¿…åƒç”¨æˆ·å°†ä½¿ç”¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸€æ ·ç¼–å†™æµ‹è¯•ã€‚å½“æŸäººä¸æ‚¨çš„åº”ç”¨è¿›è¡Œäº¤äº’æ—¶ï¼Œä»–ä»¬ä½¿ç”¨çš„é¼ æ ‡å’Œé”®ç›˜å°†è½¬æ¢ä¸ºæ‚¨çš„åº”ç”¨å“åº”çš„æµè§ˆå™¨äº‹ä»¶ã€‚ä»–ä»¬æ­£åœ¨ç‚¹å‡»äº‹ç‰©ï¼ŒæœŸæœ›å–å¾—æˆæœã€‚ è¿™ä¹Ÿæ˜¯æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„æµ‹è¯•æ‰€è¦åšçš„ï¼šå‘é€æµè§ˆå™¨äº‹ä»¶å¹¶æ–­è¨€æœ‰åé¦ˆã€‚æˆ‘ä»¬éƒ½çŸ¥é“å­˜åœ¨è·¨æµè§ˆå™¨çš„é”™è¯¯ï¼ å¦‚æœæ˜¯è¦è®¿é—®ç»„ä»¶æˆ–æ§åˆ¶çŠ¶æ€çš„æµ‹è¯•ï¼Œé‚£ä¸æ˜¯é€‚å½“çš„ BigTestã€‚ æ‰€æœ‰äº’åŠ¨éƒ½åº”æ¥è‡ªç”¨æˆ·ç¾¤ã€‚éœ€è¦æ³¨æ„çš„å¦ä¸€ä»¶äº‹æ˜¯ï¼Œç¡®ä¿æ‚¨æ–­è¨€çš„æ˜¯ç”¨æˆ·åœ¨åº”ç”¨ä¸­çœ‹åˆ°æˆ–äº¤äº’çš„çŠ¶æ€ã€‚ ç›®çš„æ˜¯è¿›è¡Œäº¤äº’ï¼Œå¹¶è§‚å¯Ÿç”±äº¤äº’å¼•å‘çš„é¡µé¢ä¸Šçš„æ­£ç¡®å˜æ›´ã€‚ BigTest å¦‚ä½•è¿ä½œï¼ŸBigTest ä¼šå°†æ‚¨çš„åº”ç”¨ç¨‹åºå®‰è£…å¹¶å‘ˆç°åˆ°æµè§ˆå™¨ä¸­ã€‚ç„¶åå°†æ‰§è¡Œæ‚¨ç¼–å†™çš„æµ‹è¯•ã€‚Interactor é©±åŠ¨åº”ç”¨ç¨‹åºï¼Œå®ƒä½äºæµè§ˆå™¨å†…éƒ¨ï¼Œå¸¦æœ‰ tests å’Œ render çš„åº”ç”¨ç¨‹åºã€‚è¿™æ˜¯ BigTest ä¸å…¶ä»–æµ‹è¯•æ¡†æ¶ä¹‹é—´çš„ä¸»è¦åŒºåˆ«ï¼ŒBigTest æ²¡æœ‰æ§åˆ¶æµè§ˆå™¨çš„å•ç‹¬è¿‡ç¨‹ã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ‚¨åªéœ€è®¿é—® URL å³å¯è¿è¡Œ BigTests çš„åŸå› ã€‚ åœ¨é«˜å±‚çš„ BigTest ä¸­ï¼š å¯åŠ¨æ‚¨çš„åº”ç”¨ç¨‹åºæœåŠ¡å™¨ï¼ˆæ†ç»‘æµ‹è¯•å’Œåº”ç”¨ç¨‹åºï¼‰ å¯åŠ¨æµè§ˆå™¨ å¼€å§‹è¿è¡Œæµ‹è¯•è¿è¡Œå™¨ Interactor é©±åŠ¨åº”ç”¨ç¨‹åºï¼ˆå•å‡»æ­¤å¤„ï¼Œè®¿é—®è·¯ç”±ç­‰ï¼‰ ç»“æœæŠ¥å‘Šå› CLI ç»„æˆ BigTest çš„è½¯ä»¶åŒ…BigTest æ¡†æ¶ç”±å‡ ä¸ªå°ç¨‹åºåŒ…ç»„æˆï¼Œè¿™äº›ç¨‹åºåŒ…ä¹Ÿå¯ä»¥å•ç‹¬ä½¿ç”¨ã€‚äº†è§£è¿™äº›è½¯ä»¶åŒ…åŠå…¶åœ¨ BigTest æ¡†æ¶ä¸­çš„ä½œç”¨æ˜¯æœ‰å¸®åŠ©çš„ã€‚ ConvergenceConvergence æ˜¯ä¸å¯å˜ï¼Œå¯é‡ç”¨å’Œå¯ç»„åˆçš„æ–­è¨€ï¼Œä½¿æ‚¨å¯ä»¥ç«‹å³çŸ¥é“ä½•æ—¶è¾¾åˆ°æœŸæœ›çš„çŠ¶æ€ã€‚ç®€è€Œè¨€ä¹‹ï¼šå®ƒæ¯ 10 æ¯«ç§’æ£€æŸ¥ä¸€æ¬¡ DOMï¼ˆé»˜è®¤æƒ…å†µä¸‹ä¸º 2 ç§’ï¼‰ï¼Œä»¥æŸ¥çœ‹æ‚¨è¦æ£€æŸ¥çš„çŠ¶æ€æ˜¯å¦å­˜åœ¨ã€‚ Convergence æ˜¯ BigTest ä¸­æ‰€æœ‰äº‹ç‰©çš„åŸºç¡€ã€‚è¿™å°±æ˜¯ä½¿ interactors å¯é çš„åŸå› ã€‚CLI ä¸­ç”šè‡³å°† Convergence ç”¨äºç­‰å¾…æµè§ˆå™¨è¿æ¥çŠ¶æ€ã€‚ Interactoråœ¨ç”Ÿç‰©å­¦ä¸­ï¼Œ interactor è¢«å®šä¹‰ä¸ºè‡ªç„¶é€‰æ‹©æ‰€ä½œç”¨çš„æœ‰æœºä½“çš„ä¸€éƒ¨åˆ†ã€‚BigTest interactor å®šä¹‰äº†è¦å¯¹å…¶è¿›è¡Œæµ‹è¯•çš„åº”ç”¨ç¨‹åºçš„ä¸€éƒ¨åˆ†ã€‚æ‚¨å¯ä»¥å°† interactor è§†ä¸ºç°ä»£ç»„ä»¶çš„å¯ç»„åˆé¡µé¢å¯¹è±¡ã€‚ interactor æ˜¯ BigTest çš„çµé­‚ï¼Œç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å°†åº”ç”¨ç¨‹åºå‘ˆç°åˆ°æµè§ˆå™¨ä¸­ï¼Œè€Œäº¤äº’å™¨å°†å…¶é©±åŠ¨ã€‚ä»–ä»¬ä½¿ç”¨ Convergence æ¥ç¡®ä¿å…ƒç´ å­˜åœ¨å¹¶ä¸”å¯ä»¥åœ¨æ‰§è¡Œæ‰€éœ€çš„äº¤äº’ä¹‹å‰ä¸ä¹‹äº¤äº’ã€‚ interactor è¿˜ä¸æ‚¨ä½¿ç”¨ç°ä»£ç»„ä»¶è·å¾—çš„å¯ç»„åˆæ€§ç›¸åŒ¹é…ã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥ä»¥ç±»ä¼¼äºç¼–å†™ UI çš„æ–¹å¼æ¥ç¼–å†™æµ‹è¯•ã€‚ è¦äº†è§£æœ‰å…³ interactor çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·åŠ¡å¿…æŸ¥çœ‹interactor guidesã€‚ CLIBigTest CLI æ—¨åœ¨ç®€åŒ– SPA ä¸­çš„éªŒæ”¶æµ‹è¯•è®¾ç½®ï¼ˆä¾‹å¦‚ setupï¼Œbuild tool integration å’Œæµè§ˆå™¨å¯åŠ¨ï¼‰ æ‚¨å¯ä»¥å°† CLI è§†ä¸º Karma æˆ– Testemï¼Œä½†æ›´æ˜“äºè®¾ç½®å¹¶åŒ…å«å…¶ä»–å¯ä¸ BigTest æ¡†æ¶é…åˆä½¿ç”¨çš„æœ‰ç”¨ CLI å‘½ä»¤ï¼ˆä¾‹å¦‚ bigtest initï¼‰ã€‚","tags":[{"name":"bigtest","slug":"bigtest","permalink":"https://shleyz.github.io/tags/bigtest/"}]},{"title":"LRU ç¼“å­˜æ·˜æ±°ç®—æ³•","date":"2019-12-19T09:02:43.000Z","path":"2019/12/19/LRU-ç¼“å­˜æ·˜æ±°ç®—æ³•/","text":"","tags":[]},{"title":"åœ¨ç§»åŠ¨ç«¯é¿å…ä½¿ç”¨100vh","date":"2019-12-06T02:21:55.000Z","path":"2019/12/06/åœ¨ç§»åŠ¨ç«¯é¿å…ä½¿ç”¨100vh/","text":"CSSä¸­å¦‚æœè¦è®¾ç½®å…ƒç´ çš„æ ·å¼å æ®æ•´ä¸ªå±å¹•çš„é«˜åº¦ï¼Œåˆ™å¯ä»¥è®¾ç½®height: 100vhã€‚è¿™æ ·å¯ä»¥å®ç°æ ¹æ®å±å¹•çš„é«˜åº¦è€Œæ”¹å˜å…ƒç´ çš„é«˜åº¦ï¼Œå¯ä»¥å¡«å……æ•´ä¸ªå±å¹•ã€‚ ç„¶è€Œåœ¨å®é™…ä¸­å¹¶éå¦‚æ­¤ï¼Œ100vhå®ç°çš„åŠŸèƒ½åœ¨ç§»åŠ¨è®¾å¤‡çš„æµè§ˆå™¨ä¸­åŸºæœ¬è¢«ç ´åï¼Œä½¿å®ƒåŸºæœ¬æ²¡ç”¨ã€‚ æ ¸å¿ƒåŸå› å°±åœ¨äºç§»åŠ¨è®¾å¤‡çš„æµè§ˆå™¨ä¸­çš„åœ°å€æ ï¼Œæœ‰æ—¶å¯è§ï¼Œæœ‰æ—¶éšè—ï¼Œä»è€Œå¯¼è‡´æ”¹å˜äº†è§†å£çš„å¯è§å¤§å°ã€‚ä½†æµè§ˆå™¨çš„å¯è§é«˜åº¦æ”¹å˜æ—¶ï¼Œå¹¶ä¸æ˜¯æŠŠå¯è§é«˜åº¦çš„éƒ¨åˆ†è‡ªé€‚åº”ä¸º100vhï¼Œåè€Œæ˜¯ï¼šè¿™äº›æµè§ˆå™¨å°†100vhè®¾ç½®ä¸ºæµè§ˆå™¨çš„é«˜åº¦ï¼Œåœ°å€æ éšè—ã€‚å¯¼è‡´çš„ç»“æœæ˜¯ï¼Œå½“åœ°å€æ å¯è§æ—¶ï¼Œå±å¹•çš„åº•éƒ¨å°†è¢«åˆ‡æ–­ï¼Œä»è€Œä»ä¸€å¼€å§‹å°±ç ´åäº†100vhçš„ç›®çš„ã€‚ å¦‚ä¸‹æ‰€ç¤ºï¼š å½“åœ°å€æ å¯è§æ—¶ï¼Œå±å¹•åº•éƒ¨è¢«åˆ‡æ–­ï¼Œå› ä¸ºç§»åŠ¨æµè§ˆå™¨é”™è¯¯çš„å°†100vhè®¾ç½®ä¸ºå±å¹•çš„é«˜åº¦ï¼Œå› æ­¤æ²¡æœ‰æ˜¾ç¤ºåœ°å€æ ã€‚åœ¨ä¸Šå›¾ï¼Œæœ¬åº”è¯¥åœ¨å±å¹•åº•éƒ¨è¢«æ˜¾ç¤ºçš„æŒ‰é’®è¢«éšè—äº†ã€‚ æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå½“ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—®ç§»åŠ¨ç½‘ç«™æ—¶ï¼Œåœ°å€æ å°†æ˜¾ç¤ºåœ¨é¡¶éƒ¨ï¼Œå› æ­¤é»˜è®¤ä½“éªŒåˆ°çš„æ—¶é”™è¯¯çš„ä½“éªŒã€‚ æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼šwindow.innerhightè§£å†³æ­¤é—®é¢˜çš„ä¸€ç§æ–¹æ³•æ˜¯ä¾é javascriptè€Œä¸æ˜¯CSSã€‚é¡µé¢åŠ è½½æ—¶ï¼Œå°†é«˜åº¦è®¾ç½®ä¸ºwindow.innerHeightï¼Œè¿™æ ·å¯ä»¥æ­£ç¡®çš„å°†é«˜åº¦è®¾ç½®ä¸ºè§†å£çš„é«˜åº¦ã€‚å¦‚æœåœ°å€æ å¯è§ï¼Œwindow.innerHeightåˆ™å°†æ˜¯å…¨å±çš„é«˜åº¦ã€‚å¦‚æœåœ°å€æ æ˜¯éšè—çš„ï¼Œwindow.innerHeightåˆ™å°†æ˜¯å±å¹•ä¸Šå¯è§éƒ¨åˆ†çš„é«˜åº¦ï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬æ‰€æœŸæœ›çš„ã€‚ é—æ†¾çš„æ˜¯ï¼Œåœ¨ä¸ä¾èµ–JavaScriptçš„æƒ…å†µä¸‹ï¼Œä»ç„¶æ²¡æœ‰ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥ä½¿å…ƒç´ å æ®æ•´ä¸ªè§†å£é«˜åº¦ã€‚height: 100vhæ˜¯å¦‚æ­¤æ¥è¿‘çš„ä¼Ÿå¤§ï¼Œä½†ç»™å®ƒåœ¨ç§»åŠ¨ç«¯æµè§ˆå™¨ä¸Šæœ‰å±€é™æ€§ï¼Œæœ€å¥½é¿å…è¿™æ ·ä½¿ç”¨å®ƒã€‚","tags":[{"name":"ç§»åŠ¨ç«¯å¼€å‘","slug":"ç§»åŠ¨ç«¯å¼€å‘","permalink":"https://shleyz.github.io/tags/ç§»åŠ¨ç«¯å¼€å‘/"}]},{"title":"display:flexå’Œposition:absolute/fixedä¸€èµ·ç”¨äº§ç”Ÿçš„é—®é¢˜","date":"2019-11-26T05:40:09.000Z","path":"2019/11/26/displayï¼šflexå’Œposition-absolute-fixed/","text":"åœ¨å¼€å‘ä¸­é‡åˆ°è¿™æ ·çš„é—®é¢˜ 123456789101112131415.layout &#123; position: absolute; width: 100%; height: 100%; display: flex; flex-direction: row;&#125;.layout .block1 &#123; width: 12em;&#125;.layout .block2 &#123; flex: 1;&#125; å‘ç° layout ä¸‹é¢çš„ block2 å¹¶ä¸æ˜¯å ç”¨ block1 å‰©ä½™çš„ç©ºé—´çš„ï¼Œflex å¸ƒå±€æ²¡æœ‰ç”Ÿæ•ˆ æ‰€ä»¥ï¼Œè¢«ç»å¯¹å®šä½ä¸å›ºå®šå®šä½çš„ç›’å­ä¸å‚ä¸ flex å¸ƒå±€ã€‚ è§£å†³åŠæ³•ï¼Œå¯ä»¥åœ¨è¦ flex å¸ƒå±€çš„ç›’å­å¤–é¢å¥—ä¸€å±‚ç›’å­ï¼š 1234567891011121314151617181920.layout &#123; position: absolute; width: 100%; height: 100%;&#125;.layout .container &#123; display: flex; flex-direction: row; width: 100%; height: 100%;&#125;.layout .container .block1 &#123; width: 12em;&#125;.layout .container .block2 &#123; flex: 1;&#125; å®Œç¾è§£å†³é—®é¢˜","tags":[]},{"title":"å°†callbackè½¬æ¢ä¸ºPromise","date":"2019-11-08T12:02:02.000Z","path":"2019/11/08/å°†callbackè½¬æ¢ä¸ºPromise/","text":"ä¸å›è°ƒå‡½æ•°ç›¸æ¯”ï¼Œä½¿ç”¨ Promisesï¼ˆæˆ– Async / awaitï¼‰æ›´å®¹æ˜“ã€‚ åœ¨åŸºäº Node çš„ç¯å¢ƒä¸­å·¥ä½œæ—¶å°¤å…¶å¦‚æ­¤ã€‚ ä¸å¹¸çš„æ˜¯ï¼Œå¤§å¤šæ•° Node API éƒ½æ˜¯ä½¿ç”¨å›è°ƒç¼–å†™çš„ã€‚ ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•å°†å›è°ƒè½¬æ¢æˆ Promise ã€‚ åœ¨è¿™ä¹‹å‰æˆ‘ä»¬éœ€è¦è¯¦ç»†äº†è§£ Promise å°† Node æ ·å¼çš„å›è°ƒè½¬æ¢ä¸º PromiseNode API çš„å›è°ƒå…·æœ‰ç›¸åŒçš„æ¨¡å¼ã€‚ å®ƒä»¬ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°ä¼ é€’ç»™å‡½æ•°ã€‚ è¿™æ˜¯ fs.readFile çš„ç¤ºä¾‹ã€‚ 12const fs = require('fs');fs.readFile(filePath, options, callback); å¦å¤–ï¼Œæ¯ä¸ªå›è°ƒè‡³å°‘åŒ…å«ä¸¤ä¸ªå‚æ•°ã€‚ ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªé”™è¯¯å¯¹è±¡ errã€‚ 1234567fs.readFile('some-file', (err, data) =&gt; &#123; if (err) &#123; // Handle Error &#125; else &#123; // Handle Data &#125;&#125;); å¦‚æœé‡åˆ°è¿™ç§æ¨¡å¼çš„å›è°ƒï¼Œåˆ™å¯ä»¥ä½¿ç”¨ Node çš„ util.promisify å°†å…¶è½¬æ¢ä¸º Promiseã€‚ 1234const fs = require('fs');const util = require('util');const readFilePromise = util.promisify(fs.readFile); å°†å›è°ƒè½¬æ¢ä¸º Promise åï¼Œä¾¿å¯ä»¥åƒä½¿ç”¨å…¶ä»– Promise ä¸€æ ·ä½¿ç”¨å®ƒ: 1234567readFilePromise(filePath, options) .then(data =&gt; &#123; // Handle Data &#125;) .catch(err =&gt; &#123; // Handle Error &#125;); æœ‰æ—¶ï¼Œæ‚¨å¯èƒ½ä¼šé‡åˆ°ä¸ç¬¦åˆ Node çš„é”™è¯¯ä¼˜å…ˆå›è°ƒæ ¼å¼çš„ APIã€‚ å¯¹äºè¿™äº›æƒ…å†µï¼Œæ‚¨ä¸èƒ½ä½¿ç”¨ util.promisifyã€‚ æ‚¨éœ€è¦å†™ä¸‹è‡ªå·±çš„ Promiseã€‚ æ¥å†™è‡ªå·±çš„ Promise:è¦å°†å›è°ƒè½¬æ¢ä¸º Promiseï¼Œéœ€è¦è¿”å› Promiseã€‚ 12345const readFilePromise = () =&gt; &#123; return new Promise((resolve, reject) =&gt; &#123; // ... &#125;);&#125;; ä½ å¯ä»¥åœ¨ promise ä¸­ä½¿ç”¨å›è°ƒè¿è¡Œä»£ç ã€‚ 1234567const readFilePromise = () =&gt; &#123; return new Promise((resolve, reject) =&gt; &#123; fs.readFile(filePath, options, (err, data) =&gt; &#123; // ... &#125;); &#125;);&#125;; å¦‚æœæœ‰é”™è¯¯ï¼Œrejectã€‚ è¿™ä½¿ç”¨æˆ·å¯ä»¥å¤„ç† catch ä¸­çš„é”™è¯¯ã€‚ å¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œresolveã€‚ è¿™ä½¿ç”¨æˆ·å¯ä»¥å†³å®šæ¥ä¸‹æ¥è¦åšä»€ä¹ˆã€‚ 12345678910const readFilePromise = () =&gt; &#123; return new Promise((resolve, reject) =&gt; &#123; fs.readFile(filePath, options, (err, data) =&gt; &#123; if (err) &#123; return reject(err); &#125; resolve(data); &#125;); &#125;);&#125;; æ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦ä¸º promise ä¸­çš„ä»£ç æä¾›è¯¸å¦‚ filePath ä¹‹ç±»çš„å‚æ•°å’Œé€‰é¡¹ã€‚ ä¸ºæ­¤ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ rest å’Œ spread è¿ç®—ç¬¦ã€‚ 12345678910const readFilePromise = (...args) =&gt; &#123; return new Promise((resolve, reject) =&gt; &#123; fs.readFile(...args, (err, data) =&gt; &#123; if (err) &#123; return reject(err); &#125; resolve(data); &#125;); &#125;);&#125;; ç„¶åï¼Œä½ å°±å¯ä»¥å°† readFilePromise ç”¨ä½œ Promiseã€‚ 123readFilePromise(filePath, options) .then(data =&gt; &#123;&#125;) .catch(err =&gt; &#123;&#125;); å°†é Node æ ·å¼çš„å›è°ƒè½¬æ¢ä¸º Promiseä¸€æ—¦ä½ çŸ¥é“å¦‚ä½•æ„é€  Promiseï¼Œå°±å¯ä»¥è½»æ¾åœ°å°†é Node æ ·å¼çš„å›è°ƒè½¬æ¢ä¸º Promiseã€‚ å®ƒä»¬éµå¾ªç›¸åŒçš„æ­¥éª¤ï¼š å¦‚æœæœ‰é”™è¯¯åˆ™ rejectå¦åˆ™ resolve å‡è®¾æ‚¨æœ‰ä¸€ä¸ª APIï¼Œè¯¥ API è¿”å›æ•°æ®ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè€Œ err ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚ æˆ‘ä»¬æ˜¯è¿™æ ·åšçš„ï¼š 1234567891011const shootPeasPromise = (...args) =&gt; &#123; return new Promise((resolve, reject) =&gt; &#123; // è¿™ä¸æ˜¯ä¸€ä¸ª Node æ ·å¼çš„å›è°ƒï¼ˆï¼‰ï¼Œè¿™é‡Œå›è°ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯ err shootPeas(...args, (data, err) =&gt; &#123; if (err) &#123; reject(err); &#125; resolve(data); &#125;); &#125;);&#125;; å¤šä¸ªå‚æ•°çš„å›è°ƒå‡è®¾ä½ æœ‰ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå‚æ•°çš„å›è°ƒï¼š é”™è¯¯å¯¹è±¡ errä¸€äº›æ•°æ® locationå¦ä¸€æ¡æ•°æ® size 1grewTrees(oprions, (err, location, size) =&gt; &#123;&#125;); æˆ‘ä»¬ä¸èƒ½è¿™æ ·å†™ï¼š 1234567891011// è¿™æ ·åšæ˜¯ä¸å¯¹çš„, å› ä¸º Promise åªè¿”å›ä¸€ä¸ªå‚æ•°const growTreesPromise = (...args) =&gt; &#123; return new Promise((resolve, reject) =&gt; &#123; growTrees(...args, (err, location, size) =&gt; &#123; if (err) &#123; reject(err); &#125; resolve(location, size); &#125;); &#125;);&#125;; å¦‚æœæƒ³è¦ Promise è¿”å›å¤šä¸ªå‚æ•°ï¼Œå¯ä»¥è¿”å›ä¸€ä¸ªæ•°ç»„æˆ–å¯¹è±¡ 12345// è¿”å›æ•°ç»„resolve([location, size]);// è¿”å›å¯¹è±¡resolve(&#123; location, size &#125;); ç„¶åï¼Œæ‚¨å¯ä»¥åœ¨ then è°ƒç”¨ä¸­è§£æ„æ•°ç»„æˆ–å¯¹è±¡ã€‚ 1234567891011growTreesPromise(options) .then(([location, size]) =&gt; &#123; // è§£æ„å¤„ç†æ•°ç»„ &#125;) .catch(err =&gt; &#123;&#125;);growTreesPromise(options) .then((&#123; location, size &#125;) =&gt; &#123; // è§£æ„å¤„ç†å¯¹è±¡ &#125;) .catch(err =&gt; &#123;&#125;); æ–‡ç« å‚è€ƒè‡ª zellwk","tags":[{"name":"javascript","slug":"javascript","permalink":"https://shleyz.github.io/tags/javascript/"}]},{"title":"stripes é—®é¢˜æ±‡æ€»","date":"2019-10-31T01:01:35.000Z","path":"2019/10/31/stripes-é—®é¢˜æ±‡æ€»/","text":"è‡ªå®šä¹‰çš„ç»„ä»¶åº“éœ€è¦æ”¾åœ¨@folio æ–‡ä»¶å¤¹ä¸‹é¢ platform-complete é‡Œé¢çš„ stripes ç‰ˆæœ¬å¿…é¡»å¤§äºå„ä¸ªæ¨¡å—çš„ stripes ç‰ˆæœ¬ å¯åŠ¨æˆ–è€…æ‰“åŒ…æŠ¥å†…å­˜æº¢å‡ºçš„é—®é¢˜ï¼Œå¯åŠ¨æˆ–è€…æ‰“åŒ…çš„æ—¶å€™éœ€è¦æ·»åŠ å‚æ•°â€“max-old-space-size è‡ªå®šä¹‰ç»„ä»¶çš„å›½é™…åŒ–è¯­è¨€åŒ…æ‰¾ä¸åˆ°çš„é—®é¢˜ï¼š è‡ªå®šä¹‰ç»„ä»¶çš„åŒ…åä»¥ stripes å¼€å¤´ï¼Œè¦å’Œ package.json é‡Œé¢çš„åŒ…åä¸€è‡´ï¼Œä¹Ÿè¦å’Œ tranlations æ–‡ä»¶å¤¹ä¸‹é¢çš„æ–‡ä»¶å¤¹åç§°ä¸€è‡´ã€‚åœ¨ local å¯åŠ¨çš„æ—¶å€™å•ä¸ªæ¨¡å—éœ€è¦é¢å¤–é…ç½® stripes.config.js.local å’Œ.stripesclirc ä»¥ä½¿å¾— stripes-core æ¨¡å—å†…éƒ¨èƒ½å¤Ÿæ‰¾åˆ°è¯­è¨€åŒ…ã€‚ æ–‡ä»¶ stripes.config.js.local å¦‚ä¸‹ï¼š 1234567891011121314151617module.exports = &#123; okapi: &#123; url: 'https://folio-testing-okapi.aws.indexdata.com', tenant: 'diku' &#125;, config: &#123; logCategories: 'core,path,action,xhr', logPrefix: '--', showPerms: false, hasAllPerms: false, languages: ['en'] &#125;, modules: &#123; '@folio/stripes-your-components': &#123;&#125;, '@folio/users': &#123;&#125; &#125;&#125;; æ–‡ä»¶ .stripesclirc å¦‚ä¸‹: 1234567&#123; \"configFile\": \"stripes.config.js.local\", \"port\": 3000, \"aliases\": &#123; \"@folio/stripes-smart-components-jt\": \"../@folio/stripes-your-components\" &#125;&#125; svgo æŠ¥é”™ï¼š æ–¹æ³•ä¸€ï¼š å¯ä»¥åœ¨ package.json é”å®šï¼Œ â€œsvgoâ€: â€œ1.3.0â€ æ–¹æ³•äºŒï¼š svgo 1.3.2 å·²ç»å‘å¸ƒï¼Œåº”è¯¥ä¹Ÿå¯ä»¥è§£å†³è¯¥é—®é¢˜ã€‚","tags":[{"name":"FOLIO","slug":"FOLIO","permalink":"https://shleyz.github.io/tags/FOLIO/"}]},{"title":"package.json ä¸­çš„ Peer Dependencies","date":"2019-10-17T00:55:36.000Z","path":"2019/10/17/package-jsonä¸­çš„peerDependencies/","text":"å‡è®¾æˆ‘ä»¬å½“å‰çš„é¡¹ç›®æ˜¯ MyProjectï¼Œé¡¹ç›®ä¸­æœ‰ä¸€äº›ä¾èµ–ï¼Œæ¯”æ–¹å…¶ä¸­æœ‰ä¸€ä¸ªä¾èµ–åŒ… PackageAï¼Œè¯¥åŒ…çš„ package.json æ–‡ä»¶æŒ‡å®šäº†å¯¹ PackageB çš„ä¾èµ–ï¼š 12345&#123; \"dependencies\": &#123; \"PackageB\": \"1.0.0\" &#125;&#125; å¦‚æœæˆ‘ä»¬åœ¨æˆ‘ä»¬çš„ MyProject é¡¹ç›®ä¸­æ‰§è¡Œ npm install PackageA, æˆ‘ä»¬ä¼šå‘ç°æˆ‘ä»¬é¡¹ç›®çš„ç›®å½•ç»“æ„ä¼šæ˜¯å¦‚ä¸‹å½¢å¼ï¼š 12345MyProjectâ””â”€â”€â”¬â”€ node_modules â””â”€â”€â”¬â”€ PackageA â””â”€â”€â”¬â”€ node_modules â””â”€â”€ PackageB é‚£ä¹ˆåœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬èƒ½é€šè¿‡ä¸‹é¢è¯­å¥å¼•å…¥â€PackageAâ€ï¼š 1var packageA = require('PackageA'); ä½†æ˜¯ï¼Œå¦‚æœä½ æƒ³åœ¨é¡¹ç›®ä¸­ç›´æ¥å¼•ç”¨ PackageB: 12var packageA = require('PackageA');var packageB = require('PackageB'); è¿™æ˜¯ä¸è¡Œçš„ï¼Œå³ä½¿ PackageB è¢«å®‰è£…è¿‡ï¼›å› ä¸º Node åªä¼šåœ¨â€œMyProject/node_modulesâ€ç›®å½•ä¸‹æŸ¥æ‰¾ PackageBï¼Œå®ƒä¸ä¼šåœ¨è¿›å…¥ PackageA æ¨¡å—ä¸‹çš„ node_modules ä¸‹æŸ¥æ‰¾ã€‚æ‰€ä»¥ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨ MyProject é¡¹ç›® package.json ä¸­æˆ‘ä»¬å¿…é¡»ç›´æ¥å£°æ˜å¯¹ PackageB çš„ä¾èµ–å¹¶å®‰è£…ã€‚ ä½†æ˜¯ï¼Œæœ‰æ—¶æˆ‘ä»¬ä¸ç”¨åœ¨å½“å‰é¡¹ç›®ä¸­å£°æ˜å¯¹ PackageB çš„ä¾èµ–å°±å¯ä»¥ç›´æ¥å¼•ç”¨ï¼Œå°¤å…¶æ˜¯ï¼ŒPackageA æ˜¯ä¸€ä¸ªç±»ä¼¼äº grunt çš„æ’ä»¶ï¼Œä¾‹å¦‚ grunt-contrib-jshintã€‚ ä¸ºä»€ä¹ˆåœ¨é¡¹ç›®ä¸­ä¸ç”¨å£°æ˜å°±å¯ä»¥ç›´æ¥ä½¿ç”¨å‘¢ï¼Ÿè¿™å°±ä¸å¾—ä¸è¯´è¯´ peerDependencies çš„ä½œç”¨äº†ã€‚ peerDependencies çš„å¼•å…¥ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜ï¼š 1å¦‚æœä½ å®‰è£…æˆ‘ï¼Œé‚£ä¹ˆä½ æœ€å¥½ä¹Ÿå®‰è£…X,Yå’ŒZ. äºæ˜¯ peerDependencies å°±è¢«å¼•å…¥äº†ã€‚ä¾‹å¦‚ä¸Šé¢ PackageA çš„ package.json æ–‡ä»¶å¦‚æœæ˜¯ä¸‹é¢è¿™æ ·ï¼š 12345&#123; \"peerDependencies\": &#123; \"PackageB\": \"1.0.0\" &#125;&#125; é‚£ä¹ˆï¼Œå®ƒä¼šå‘Šè¯‰ npmï¼šå¦‚æœæŸä¸ª package æŠŠæˆ‘åˆ—ä¸ºä¾èµ–çš„è¯ï¼Œé‚£ä¹ˆé‚£ä¸ª package ä¹Ÿå¿…éœ€åº”è¯¥æœ‰å¯¹ PackageB çš„ä¾èµ–ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½  npm install PackageAï¼Œä½ å°†ä¼šå¾—åˆ°ä¸‹é¢çš„å¦‚ä¸‹çš„ç›®å½•ç»“æ„ï¼š 1234MyProjectâ””â”€â”¬â”€node_modules â”œâ”€ PackageA â””â”€ PackageB ä½ å¯èƒ½æ³¨æ„åˆ°ï¼š åœ¨ npm2 ä¸­ï¼Œå³ä½¿å½“å‰é¡¹ç›® MyProject ä¸­æ²¡æœ‰ç›´æ¥ä¾èµ– PackageBï¼Œè¯¥ PackageB åŒ…ä¾ç„¶ä¼šå®‰è£…åˆ°å½“å‰é¡¹ç›®çš„ node_modules æ–‡ä»¶å¤¹ä¸­ã€‚ ä¸‹é¢çš„ä»£ç ç°åœ¨å¯ä»¥æ­£å¸¸å·¥ä½œäº†ï¼Œå› ä¸ºä¸¤ä¸ªåŒ…åœ¨â€MyProject/node_modulesâ€ä¸­è¢«å®‰è£…äº†ï¼š 12var packageA = require('PackageA');var packageB = require('PackageB'); æ€»ç»“ä¸€å¥è¯ï¼ŒpeerDependencies çš„å…·ä½“ä½œç”¨ï¼š peerDependencies çš„ç›®çš„æ˜¯æç¤ºå®¿ä¸»ç¯å¢ƒå»å®‰è£…æ»¡è¶³æ’ä»¶ peerDependencies æ‰€æŒ‡å®šä¾èµ–çš„åŒ…ï¼Œç„¶ååœ¨æ’ä»¶ import æˆ–è€… require æ‰€ä¾èµ–çš„åŒ…çš„æ—¶å€™ï¼Œæ°¸è¿œéƒ½æ˜¯å¼•ç”¨å®¿ä¸»ç¯å¢ƒç»Ÿä¸€å®‰è£…çš„ npm åŒ…ï¼Œæœ€ç»ˆè§£å†³æ’ä»¶ä¸æ‰€ä¾èµ–åŒ…ä¸ä¸€è‡´çš„é—®é¢˜ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œå°±æ‹¿ç›®å‰åŸºäº react çš„ ui ç»„ä»¶åº“ ant-design@3.x æ¥è¯´ï¼Œå› è¯¥ ui ç»„ä»¶åº“åªæ˜¯æä¾›ä¸€å¥— react ç»„ä»¶åº“ï¼Œå®ƒè¦æ±‚å®¿ä¸»ç¯å¢ƒéœ€è¦å®‰è£…æŒ‡å®šçš„ react ç‰ˆæœ¬ã€‚å…·ä½“å¯ä»¥çœ‹å®ƒ package.json ä¸­çš„é…ç½®ï¼š 1234\"peerDependencies\": &#123; \"react\": \"&gt;=16.0.0\", \"react-dom\": \"&gt;=16.0.0\"&#125; å®ƒè¦æ±‚å®¿ä¸»ç¯å¢ƒå®‰è£… react@&gt;=16.0.0 å’Œ react-dom@&gt;=16.0.0 çš„ç‰ˆæœ¬ï¼Œè€Œåœ¨æ¯ä¸ª antd ç»„ä»¶çš„å®šä¹‰æ–‡ä»¶é¡¶éƒ¨ï¼š 12import * as React from 'react';import * as ReactDOM from 'react-dom'; ç»„ä»¶ä¸­å¼•å…¥çš„ react å’Œ react-dom åŒ…å…¶å®éƒ½æ˜¯å®¿ä¸»ç¯å¢ƒæä¾›çš„ä¾èµ–åŒ…ã€‚ æ–‡ç« æ¥æº","tags":[{"name":"webpack","slug":"webpack","permalink":"https://shleyz.github.io/tags/webpack/"}]},{"title":"05 ç´¢å¼•ï¼šä¸‹","date":"2019-10-10T09:15:42.000Z","path":"2019/10/10/05-ç´¢å¼•ï¼šä¸‹/","text":"åœ¨å¼€å§‹è¿™ç¯‡æ–‡ç« ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼š åœ¨ä¸‹é¢è¿™ä¸ªè¡¨ T ä¸­ï¼Œå¦‚æœæˆ‘æ‰§è¡Œ select * from T where k between 3 and 5ï¼Œéœ€è¦æ‰§è¡Œå‡ æ¬¡æ ‘çš„æœç´¢æ“ä½œï¼Œä¼šæ‰«æå¤šå°‘è¡Œï¼Ÿä¸‹é¢æ˜¯è¿™ä¸ªè¡¨çš„åˆå§‹åŒ–è¯­å¥ã€‚ 12345678mysql&gt; create table T (ID int primary key,k int NOT NULL DEFAULT 0, s varchar(16) NOT NULL DEFAULT '',index k(k))engine=InnoDB;insert into T values(100,1, 'aa'),(200,2,'bb'),(300,3,'cc'),(500,5,'ee'),(600,6,'ff'),(700,7,'gg'); ç°åœ¨ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹è¿™æ¡ SQL æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œæµç¨‹ï¼š åœ¨ k ç´¢å¼•æ ‘ä¸Šæ‰¾åˆ° k=3 çš„è®°å½•ï¼Œå–å¾— ID = 300ï¼› å†åˆ° ID ç´¢å¼•æ ‘æŸ¥åˆ° ID=300 å¯¹åº”çš„ R3ï¼› åœ¨ k ç´¢å¼•æ ‘å–ä¸‹ä¸€ä¸ªå€¼ k=5ï¼Œå–å¾— ID=500ï¼› å†å›åˆ° ID ç´¢å¼•æ ‘æŸ¥åˆ° ID=500 å¯¹åº”çš„ R4ï¼› åœ¨ k ç´¢å¼•æ ‘å–ä¸‹ä¸€ä¸ªå€¼ k=6ï¼Œä¸æ»¡è¶³æ¡ä»¶ï¼Œå¾ªç¯ç»“æŸã€‚ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå›åˆ°ä¸»é”®ç´¢å¼•æ ‘æœç´¢çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬ç§°ä¸ºå›è¡¨ã€‚å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªæŸ¥è¯¢è¿‡ç¨‹è¯»äº† k ç´¢å¼•æ ‘çš„ 3 æ¡è®°å½•ï¼ˆæ­¥éª¤ 1ã€3 å’Œ 5ï¼‰ï¼Œå›è¡¨äº†ä¸¤æ¬¡ï¼ˆæ­¥éª¤ 2 å’Œ 4ï¼‰ã€‚ åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç”±äºæŸ¥è¯¢ç»“æœæ‰€éœ€è¦çš„æ•°æ®åªåœ¨ä¸»é”®ç´¢å¼•ä¸Šæœ‰ï¼Œæ‰€ä»¥ä¸å¾—ä¸å›è¡¨ã€‚é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰å¯èƒ½ç»è¿‡ç´¢å¼•ä¼˜åŒ–ï¼Œé¿å…å›è¡¨è¿‡ç¨‹å‘¢ï¼Ÿ è¦†ç›–ç´¢å¼•å¦‚æœæ‰§è¡Œçš„è¯­å¥æ˜¯ select ID from T where k between 3 and 5ï¼Œè¿™æ—¶åªéœ€è¦æŸ¥ ID çš„å€¼ï¼Œè€Œ ID çš„å€¼å·²ç»åœ¨ k ç´¢å¼•æ ‘ä¸Šäº†ï¼Œå› æ­¤å¯ä»¥ç›´æ¥æä¾›æŸ¥è¯¢ç»“æœï¼Œä¸éœ€è¦å›è¡¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è¿™ä¸ªæŸ¥è¯¢é‡Œé¢ï¼Œç´¢å¼• k å·²ç»â€œè¦†ç›–äº†â€æˆ‘ä»¬çš„æŸ¥è¯¢éœ€æ±‚ï¼Œæˆ‘ä»¬ç§°ä¸ºè¦†ç›–ç´¢å¼•ã€‚ ç”±äºè¦†ç›–ç´¢å¼•å¯ä»¥å‡å°‘æ ‘çš„æœç´¢æ¬¡æ•°ï¼Œæ˜¾è‘—æå‡æŸ¥è¯¢æ€§èƒ½ï¼Œæ‰€ä»¥ä½¿ç”¨è¦†ç›–ç´¢å¼•æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨å¼•æ“å†…éƒ¨ä½¿ç”¨è¦†ç›–ç´¢å¼•åœ¨ç´¢å¼• k ä¸Šå…¶å®è¯»äº†ä¸‰ä¸ªè®°å½•ï¼ŒR3~R5ï¼ˆå¯¹åº”çš„ç´¢å¼• k ä¸Šçš„è®°å½•é¡¹ï¼‰ï¼Œä½†æ˜¯å¯¹äº MySQL çš„ Server å±‚æ¥è¯´ï¼Œå®ƒå°±æ˜¯æ‰¾å¼•æ“æ‹¿åˆ°äº†ä¸¤æ¡è®°å½•ï¼Œå› æ­¤ MySQL è®¤ä¸ºæ‰«æè¡Œæ•°æ˜¯ 2ã€‚ åŸºäºä¸Šé¢è¦†ç›–ç´¢å¼•çš„è¯´æ˜ï¼Œæˆ‘ä»¬æ¥è®¨è®ºä¸€ä¸ªé—®é¢˜ï¼šåœ¨ä¸€ä¸ªå¸‚æ°‘ä¿¡æ¯è¡¨ä¸Šï¼Œæ˜¯å¦æœ‰å¿…è¦å°†èº«ä»½è¯å·å’Œåå­—å»ºç«‹è”åˆç´¢å¼•ï¼Ÿ å‡è®¾è¿™ä¸ªå¸‚æ°‘è¡¨çš„å®šä¹‰æ˜¯è¿™æ ·çš„ï¼š 1CREATE TABLE `tuser` ( `id` int(11) NOT NULL, `id_card` varchar(32) DEFAULT NULL, `name` varchar(32) DEFAULT NULL, `age` int(11) DEFAULT NULL, `ismale` tinyint(1) DEFAULT NULL, PRIMARY KEY (`id`), KEY `id_card` (`id_card`), KEY `name_age` (`name`,`age`)) ENGINE=InnoDB æˆ‘ä»¬çŸ¥é“ï¼Œèº«ä»½è¯å·æ˜¯å¸‚æ°‘çš„å”¯ä¸€æ ‡è¯†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæœ‰æ ¹æ®èº«ä»½è¯å·æŸ¥è¯¢å¸‚æ°‘ä¿¡æ¯çš„éœ€æ±‚ï¼Œæˆ‘ä»¬åªè¦åœ¨èº«ä»½è¯å·å­—æ®µä¸Šå»ºç«‹ç´¢å¼•å°±å¤Ÿäº†ã€‚è€Œå†å»ºç«‹ä¸€ä¸ªï¼ˆèº«ä»½è¯å·ã€å§“åï¼‰çš„è”åˆç´¢å¼•ï¼Œæ˜¯ä¸æ˜¯æµªè´¹ç©ºé—´ï¼Ÿ å¦‚æœç°åœ¨æœ‰ä¸€ä¸ªé«˜é¢‘è¯·æ±‚ï¼Œè¦æ ¹æ®å¸‚æ°‘çš„èº«ä»½è¯å·æŸ¥è¯¢ä»–çš„å§“åï¼Œè¿™ä¸ªè”åˆç´¢å¼•å°±æœ‰æ„ä¹‰äº†ã€‚å®ƒå¯ä»¥åœ¨è¿™ä¸ªé«˜é¢‘è¯·æ±‚ä¸Šç”¨åˆ°è¦†ç›–ç´¢å¼•ï¼Œä¸å†éœ€è¦å›è¡¨æŸ¥æ•´è¡Œè®°å½•ï¼Œå‡å°‘è¯­å¥çš„æ‰§è¡Œæ—¶é—´ã€‚","tags":[{"name":"MySQL","slug":"MySQL","permalink":"https://shleyz.github.io/tags/MySQL/"}]},{"title":"04 ç´¢å¼•ï¼šä¸Š","date":"2019-10-09T04:51:42.000Z","path":"2019/10/09/04-ç´¢å¼•ï¼šä¸Š/","text":"æåˆ°æ•°æ®åº“ç´¢å¼•ï¼Œæˆ‘æƒ³ä½ å¹¶ä¸é™Œç”Ÿï¼Œåœ¨æ—¥å¸¸å·¥ä½œä¸­ä¼šç»å¸¸æ¥è§¦åˆ°ã€‚æ¯”å¦‚æŸä¸€ä¸ª SQL æŸ¥è¯¢æ¯”è¾ƒæ…¢ï¼Œåˆ†æå®ŒåŸå› ä¹‹åï¼Œä½ å¯èƒ½å°±ä¼šè¯´â€œç»™æŸä¸ªå­—æ®µåŠ ä¸ªç´¢å¼•å§â€ä¹‹ç±»çš„è§£å†³æ–¹æ¡ˆã€‚ä½†åˆ°åº•ä»€ä¹ˆæ˜¯ç´¢å¼•ï¼Œç´¢å¼•åˆæ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿä»Šå¤©å°±è®©æˆ‘ä»¬ä¸€èµ·æ¥èŠèŠè¿™ä¸ªè¯é¢˜å§ã€‚ ä¸€å¥è¯ç®€å•æ¥è¯´ï¼Œç´¢å¼•çš„å‡ºç°å…¶å®å°±æ˜¯ä¸ºäº†æé«˜æ•°æ®æŸ¥è¯¢çš„æ•ˆç‡ï¼Œå°±åƒä¹¦çš„ç›®å½•ä¸€æ ·ã€‚ä¸€æœ¬ 500 é¡µçš„ä¹¦ï¼Œå¦‚æœä½ æƒ³å¿«é€Ÿæ‰¾åˆ°å…¶ä¸­çš„æŸä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œåœ¨ä¸å€ŸåŠ©ç›®å½•çš„æƒ…å†µä¸‹ï¼Œé‚£æˆ‘ä¼°è®¡ä½ å¯å¾—æ‰¾ä¸€ä¼šå„¿ã€‚åŒæ ·ï¼Œå¯¹äºæ•°æ®åº“çš„è¡¨è€Œè¨€ï¼Œç´¢å¼•å…¶å®å°±æ˜¯å®ƒçš„â€œç›®å½•â€ã€‚ ç´¢å¼•çš„å¸¸è§æ¨¡å‹ç´¢å¼•çš„å‡ºç°æ˜¯ä¸ºäº†æé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œä½†æ˜¯å®ç°ç´¢å¼•çš„æ–¹å¼å´æœ‰å¾ˆå¤šç§ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿå°±å¼•å…¥äº†ç´¢å¼•æ¨¡å‹çš„æ¦‚å¿µã€‚å¯ä»¥ç”¨äºæé«˜è¯»å†™æ•ˆç‡çš„æ•°æ®ç»“æ„å¾ˆå¤šï¼Œè¿™é‡Œæˆ‘å…ˆç»™ä½ ä»‹ç»ä¸‰ç§å¸¸è§ã€ä¹Ÿæ¯”è¾ƒç®€å•çš„æ•°æ®ç»“æ„ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯å“ˆå¸Œè¡¨ã€æœ‰åºæ•°ç»„å’Œæœç´¢æ ‘ã€‚ ä¸‹é¢æˆ‘ä¸»è¦ä»ä½¿ç”¨çš„è§’åº¦ï¼Œä¸ºä½ ç®€å•åˆ†æä¸€ä¸‹è¿™ä¸‰ç§æ¨¡å‹çš„åŒºåˆ«ã€‚ 1. å“ˆå¸Œè¡¨å“ˆå¸Œè¡¨æ˜¯ä¸€ç§ä»¥é”® - å€¼ï¼ˆkey-valueï¼‰å­˜å‚¨æ•°æ®çš„ç»“æ„ï¼Œæˆ‘ä»¬åªè¦è¾“å…¥å¾…æŸ¥æ‰¾çš„å€¼å³ keyï¼Œå°±å¯ä»¥æ‰¾åˆ°å…¶å¯¹åº”çš„å€¼å³ Valueã€‚å“ˆå¸Œçš„æ€è·¯å¾ˆç®€å•ï¼ŒæŠŠå€¼æ”¾åœ¨æ•°ç»„é‡Œï¼Œç”¨ä¸€ä¸ªå“ˆå¸Œå‡½æ•°æŠŠ key æ¢ç®—æˆä¸€ä¸ªç¡®å®šçš„ä½ç½®ï¼Œç„¶åæŠŠ value æ”¾åœ¨æ•°ç»„çš„è¿™ä¸ªä½ç½®ã€‚ ä¸å¯é¿å…åœ°ï¼Œå¤šä¸ª key å€¼ç»è¿‡å“ˆå¸Œå‡½æ•°çš„æ¢ç®—ï¼Œä¼šå‡ºç°åŒä¸€ä¸ªå€¼çš„æƒ…å†µã€‚å¤„ç†è¿™ç§æƒ…å†µçš„ä¸€ç§æ–¹æ³•æ˜¯ï¼Œæ‹‰å‡ºä¸€ä¸ªé“¾è¡¨ã€‚ å‡è®¾ï¼Œä½ ç°åœ¨ç»´æŠ¤ç€ä¸€ä¸ªèº«ä»½è¯ä¿¡æ¯å’Œå§“åçš„è¡¨ï¼Œéœ€è¦æ ¹æ®èº«ä»½è¯å·æŸ¥æ‰¾å¯¹åº”çš„åå­—ï¼Œè¿™æ—¶å¯¹åº”çš„å“ˆå¸Œç´¢å¼•çš„ç¤ºæ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š å›¾ä¸­ï¼ŒUser2 å’Œ User4 æ ¹æ®èº«ä»½è¯å·ç®—å‡ºæ¥çš„å€¼éƒ½æ˜¯ Nï¼Œä½†æ²¡å…³ç³»ï¼Œåé¢è¿˜è·Ÿäº†ä¸€ä¸ªé“¾è¡¨ã€‚å‡è®¾ï¼Œè¿™æ—¶å€™ä½ è¦æŸ¥ ID_card_n2 å¯¹åº”çš„åå­—æ˜¯ä»€ä¹ˆï¼Œå¤„ç†æ­¥éª¤å°±æ˜¯ï¼šé¦–å…ˆï¼Œå°† ID_card_n2 é€šè¿‡å“ˆå¸Œå‡½æ•°ç®—å‡º Nï¼›ç„¶åï¼ŒæŒ‰é¡ºåºéå†ï¼Œæ‰¾åˆ° User2ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå›¾ä¸­å››ä¸ª ID_card_n çš„å€¼å¹¶ä¸æ˜¯é€’å¢çš„ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯å¢åŠ æ–°çš„ User æ—¶é€Ÿåº¦ä¼šå¾ˆå¿«ï¼Œåªéœ€è¦å¾€åè¿½åŠ ã€‚ä½†ç¼ºç‚¹æ˜¯ï¼Œå› ä¸ºä¸æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥å“ˆå¸Œç´¢å¼•åšåŒºé—´æŸ¥è¯¢çš„é€Ÿåº¦æ˜¯å¾ˆæ…¢çš„ã€‚ ä½ å¯ä»¥è®¾æƒ³ä¸‹ï¼Œå¦‚æœä½ ç°åœ¨è¦æ‰¾èº«ä»½è¯å·åœ¨ [ID_card_X, ID_card_Y] è¿™ä¸ªåŒºé—´çš„æ‰€æœ‰ç”¨æˆ·ï¼Œå°±å¿…é¡»å…¨éƒ¨æ‰«æä¸€éäº†ã€‚ æ‰€ä»¥ï¼Œå“ˆå¸Œè¡¨è¿™ç§ç»“æ„é€‚ç”¨äºåªæœ‰ç­‰å€¼æŸ¥è¯¢çš„åœºæ™¯ï¼Œæ¯”å¦‚ Memcached åŠå…¶ä»–ä¸€äº› NoSQL å¼•æ“ã€‚ 2. æœ‰åºæ•°ç»„è€Œæœ‰åºæ•°ç»„åœ¨ç­‰å€¼æŸ¥è¯¢å’ŒèŒƒå›´æŸ¥è¯¢åœºæ™¯ä¸­çš„æ€§èƒ½å°±éƒ½éå¸¸ä¼˜ç§€ã€‚è¿˜æ˜¯ä¸Šé¢è¿™ä¸ªæ ¹æ®èº«ä»½è¯å·æŸ¥åå­—çš„ä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨æœ‰åºæ•°ç»„æ¥å®ç°çš„è¯ï¼Œç¤ºæ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š è¿™é‡Œæˆ‘ä»¬å‡è®¾èº«ä»½è¯å·æ²¡æœ‰é‡å¤ï¼Œè¿™ä¸ªæ•°ç»„å°±æ˜¯æŒ‰ç…§èº«ä»½è¯å·é€’å¢çš„é¡ºåºä¿å­˜çš„ã€‚è¿™æ—¶å€™å¦‚æœä½ è¦æŸ¥ ID_card_n2 å¯¹åº”çš„åå­—ï¼Œç”¨äºŒåˆ†æ³•å°±å¯ä»¥å¿«é€Ÿå¾—åˆ°ï¼Œè¿™ä¸ªæ—¶é—´å¤æ‚åº¦æ˜¯ O(log(N))ã€‚ åŒæ—¶å¾ˆæ˜¾ç„¶ï¼Œè¿™ä¸ªç´¢å¼•ç»“æ„æ”¯æŒèŒƒå›´æŸ¥è¯¢ã€‚ä½ è¦æŸ¥èº«ä»½è¯å·åœ¨ [ID_card_X, ID_card_Y] åŒºé—´çš„ Userï¼Œå¯ä»¥å…ˆç”¨äºŒåˆ†æ³•æ‰¾åˆ° ID_card_Xï¼ˆå¦‚æœä¸å­˜åœ¨ ID_card_Xï¼Œå°±æ‰¾åˆ°å¤§äº ID_card_X çš„ç¬¬ä¸€ä¸ª Userï¼‰ï¼Œç„¶åå‘å³éå†ï¼Œç›´åˆ°æŸ¥åˆ°ç¬¬ä¸€ä¸ªå¤§äº ID_card_Y çš„èº«ä»½è¯å·ï¼Œé€€å‡ºå¾ªç¯ã€‚ å¦‚æœä»…ä»…çœ‹æŸ¥è¯¢æ•ˆç‡ï¼Œæœ‰åºæ•°ç»„å°±æ˜¯æœ€å¥½çš„æ•°æ®ç»“æ„äº†ã€‚ä½†æ˜¯ï¼Œåœ¨éœ€è¦æ›´æ–°æ•°æ®çš„æ—¶å€™å°±éº»çƒ¦äº†ï¼Œä½ å¾€ä¸­é—´æ’å…¥ä¸€ä¸ªè®°å½•å°±å¿…é¡»å¾—æŒªåŠ¨åé¢æ‰€æœ‰çš„è®°å½•ï¼Œæˆæœ¬å¤ªé«˜ã€‚ æ‰€ä»¥ï¼Œæœ‰åºæ•°ç»„ç´¢å¼•åªé€‚ç”¨äºé™æ€å­˜å‚¨å¼•æ“ï¼Œæ¯”å¦‚ä½ è¦ä¿å­˜çš„æ˜¯ 2017 å¹´æŸä¸ªåŸå¸‚çš„æ‰€æœ‰äººå£ä¿¡æ¯ï¼Œè¿™ç±»ä¸ä¼šå†ä¿®æ”¹çš„æ•°æ®ã€‚ 3. äºŒå‰æœç´¢æ ‘äºŒå‰æœç´¢æ ‘ä¹Ÿæ˜¯è¯¾æœ¬é‡Œçš„ç»å…¸æ•°æ®ç»“æ„äº†ã€‚è¿˜æ˜¯ä¸Šé¢æ ¹æ®èº«ä»½è¯å·æŸ¥åå­—çš„ä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬ç”¨äºŒå‰æœç´¢æ ‘æ¥å®ç°çš„è¯ï¼Œç¤ºæ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š äºŒå‰æœç´¢æ ‘çš„ç‰¹ç‚¹æ˜¯ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å·¦å„¿å­å°äºçˆ¶èŠ‚ç‚¹ï¼Œçˆ¶èŠ‚ç‚¹åˆå°äºå³å„¿å­ã€‚è¿™æ ·å¦‚æœä½ è¦æŸ¥ ID_card_n2 çš„è¯ï¼ŒæŒ‰ç…§å›¾ä¸­çš„æœç´¢é¡ºåºå°±æ˜¯æŒ‰ç…§ UserA -&gt; UserC -&gt; UserF -&gt; User2 è¿™ä¸ªè·¯å¾„å¾—åˆ°ã€‚è¿™ä¸ªæ—¶é—´å¤æ‚åº¦æ˜¯ O(log(N))ã€‚ å½“ç„¶ä¸ºäº†ç»´æŒ O(log(N)) çš„æŸ¥è¯¢å¤æ‚åº¦ï¼Œä½ å°±éœ€è¦ä¿æŒè¿™æ£µæ ‘æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚ä¸ºäº†åšè¿™ä¸ªä¿è¯ï¼Œæ›´æ–°çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯ O(log(N))ã€‚ æ ‘å¯ä»¥æœ‰äºŒå‰ï¼Œä¹Ÿå¯ä»¥æœ‰å¤šå‰ã€‚å¤šå‰æ ‘å°±æ˜¯æ¯ä¸ªèŠ‚ç‚¹æœ‰å¤šä¸ªå„¿å­ï¼Œå„¿å­ä¹‹é—´çš„å¤§å°ä¿è¯ä»å·¦åˆ°å³é€’å¢ã€‚äºŒå‰æ ‘æ˜¯æœç´¢æ•ˆç‡æœ€é«˜çš„ï¼Œä½†æ˜¯å®é™…ä¸Šå¤§å¤šæ•°çš„æ•°æ®åº“å­˜å‚¨å´å¹¶ä¸ä½¿ç”¨äºŒå‰æ ‘ã€‚å…¶åŸå› æ˜¯ï¼Œç´¢å¼•ä¸æ­¢å­˜åœ¨å†…å­˜ä¸­ï¼Œè¿˜è¦å†™åˆ°ç£ç›˜ä¸Šã€‚ ä½ å¯ä»¥æƒ³è±¡ä¸€ä¸‹ä¸€æ£µ 100 ä¸‡èŠ‚ç‚¹çš„å¹³è¡¡äºŒå‰æ ‘ï¼Œæ ‘é«˜ 20ã€‚ä¸€æ¬¡æŸ¥è¯¢å¯èƒ½éœ€è¦è®¿é—® 20 ä¸ªæ•°æ®å—ã€‚åœ¨æœºæ¢°ç¡¬ç›˜æ—¶ä»£ï¼Œä»ç£ç›˜éšæœºè¯»ä¸€ä¸ªæ•°æ®å—éœ€è¦ 10 ms å·¦å³çš„å¯»å€æ—¶é—´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºä¸€ä¸ª 100 ä¸‡è¡Œçš„è¡¨ï¼Œå¦‚æœä½¿ç”¨äºŒå‰æ ‘æ¥å­˜å‚¨ï¼Œå•ç‹¬è®¿é—®ä¸€ä¸ªè¡Œå¯èƒ½éœ€è¦ 20 ä¸ª 10 ms çš„æ—¶é—´ï¼Œè¿™ä¸ªæŸ¥è¯¢å¯çœŸå¤Ÿæ…¢çš„ã€‚ ä¸ºäº†è®©ä¸€ä¸ªæŸ¥è¯¢å°½é‡å°‘åœ°è¯»ç£ç›˜ï¼Œå°±å¿…é¡»è®©æŸ¥è¯¢è¿‡ç¨‹è®¿é—®å°½é‡å°‘çš„æ•°æ®å—ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å°±ä¸åº”è¯¥ä½¿ç”¨äºŒå‰æ ‘ï¼Œè€Œæ˜¯è¦ä½¿ç”¨â€œN å‰â€æ ‘ã€‚è¿™é‡Œï¼Œâ€œN å‰â€æ ‘ä¸­çš„â€œNâ€å–å†³äºæ•°æ®å—çš„å¤§å°ã€‚ ä»¥ InnoDB çš„ä¸€ä¸ªæ•´æ•°å­—æ®µç´¢å¼•ä¸ºä¾‹ï¼Œè¿™ä¸ª N å·®ä¸å¤šæ˜¯ 1200ã€‚è¿™æ£µæ ‘é«˜æ˜¯ 4 çš„æ—¶å€™ï¼Œå°±å¯ä»¥å­˜ 1200 çš„ 3 æ¬¡æ–¹ä¸ªå€¼ï¼Œè¿™å·²ç» 17 äº¿äº†ã€‚è€ƒè™‘åˆ°æ ‘æ ¹çš„æ•°æ®å—æ€»æ˜¯åœ¨å†…å­˜ä¸­çš„ï¼Œä¸€ä¸ª 10 äº¿è¡Œçš„è¡¨ä¸Šä¸€ä¸ªæ•´æ•°å­—æ®µçš„ç´¢å¼•ï¼ŒæŸ¥æ‰¾ä¸€ä¸ªå€¼æœ€å¤šåªéœ€è¦è®¿é—® 3 æ¬¡ç£ç›˜ã€‚å…¶å®ï¼Œæ ‘çš„ç¬¬äºŒå±‚ä¹Ÿæœ‰å¾ˆå¤§æ¦‚ç‡åœ¨å†…å­˜ä¸­ï¼Œé‚£ä¹ˆè®¿é—®ç£ç›˜çš„å¹³å‡æ¬¡æ•°å°±æ›´å°‘äº†ã€‚ N å‰æ ‘ç”±äºåœ¨è¯»å†™ä¸Šçš„æ€§èƒ½ä¼˜ç‚¹ï¼Œä»¥åŠé€‚é…ç£ç›˜çš„è®¿é—®æ¨¡å¼ï¼Œå·²ç»è¢«å¹¿æ³›åº”ç”¨åœ¨æ•°æ®åº“å¼•æ“ä¸­äº†ã€‚ æ€»ç»“ä¸ç®¡æ˜¯å“ˆå¸Œè¿˜æ˜¯æœ‰åºæ•°ç»„ï¼Œæˆ–è€… N å‰æ ‘ï¼Œå®ƒä»¬éƒ½æ˜¯ä¸æ–­è¿­ä»£ã€ä¸æ–­ä¼˜åŒ–çš„äº§ç‰©æˆ–è€…è§£å†³æ–¹æ¡ˆã€‚æ•°æ®åº“æŠ€æœ¯å‘å±•åˆ°ä»Šå¤©ï¼Œè·³è¡¨ã€LSM æ ‘ç­‰æ•°æ®ç»“æ„ä¹Ÿè¢«ç”¨äºå¼•æ“è®¾è®¡ä¸­ï¼Œè¿™é‡Œæˆ‘å°±ä¸å†ä¸€ä¸€å±•å¼€äº†ã€‚ ä½ å¿ƒé‡Œè¦æœ‰ä¸ªæ¦‚å¿µï¼Œæ•°æ®åº“åº•å±‚å­˜å‚¨çš„æ ¸å¿ƒå°±æ˜¯åŸºäºè¿™äº›æ•°æ®æ¨¡å‹çš„ã€‚æ¯ç¢°åˆ°ä¸€ä¸ªæ–°æ•°æ®åº“ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå…³æ³¨å®ƒçš„æ•°æ®æ¨¡å‹ï¼Œè¿™æ ·æ‰èƒ½ä»ç†è®ºä¸Šåˆ†æå‡ºè¿™ä¸ªæ•°æ®åº“çš„é€‚ç”¨åœºæ™¯ã€‚ æˆªæ­¢åˆ°è¿™é‡Œï¼Œæˆ‘ç”¨äº†åŠç¯‡æ–‡ç« çš„ç¯‡å¹…å’Œä½ ä»‹ç»äº†ä¸åŒçš„æ•°æ®ç»“æ„ï¼Œä»¥åŠå®ƒä»¬çš„é€‚ç”¨åœºæ™¯ï¼Œä½ å¯èƒ½ä¼šè§‰å¾—æœ‰äº›æ¯ç‡¥ã€‚ä½†æ˜¯ï¼Œæˆ‘å»ºè®®ä½ è¿˜æ˜¯è¦å¤šèŠ±ä¸€äº›æ—¶é—´æ¥ç†è§£è¿™éƒ¨åˆ†å†…å®¹ï¼Œæ¯•ç«Ÿè¿™æ˜¯æ•°æ®åº“å¤„ç†æ•°æ®çš„æ ¸å¿ƒæ¦‚å¿µä¹‹ä¸€ï¼Œåœ¨åˆ†æé—®é¢˜çš„æ—¶å€™ä¼šç»å¸¸ç”¨åˆ°ã€‚å½“ä½ ç†è§£äº†ç´¢å¼•çš„æ¨¡å‹åï¼Œå°±ä¼šå‘ç°åœ¨åˆ†æé—®é¢˜çš„æ—¶å€™ä¼šæœ‰ä¸€ä¸ªæ›´æ¸…æ™°çš„è§†è§’ï¼Œä½“ä¼šåˆ°å¼•æ“è®¾è®¡çš„ç²¾å¦™ä¹‹å¤„ã€‚ å®æˆ˜åœ¨ MySQL ä¸­ï¼Œç´¢å¼•æ˜¯åœ¨å­˜å‚¨å¼•æ“å±‚å®ç°çš„ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰ç»Ÿä¸€çš„ç´¢å¼•æ ‡å‡†ï¼Œå³ä¸åŒå­˜å‚¨å¼•æ“çš„ç´¢å¼•çš„å·¥ä½œæ–¹å¼å¹¶ä¸ä¸€æ ·ã€‚è€Œå³ä½¿å¤šä¸ªå­˜å‚¨å¼•æ“æ”¯æŒåŒä¸€ç§ç±»å‹çš„ç´¢å¼•ï¼Œå…¶åº•å±‚çš„å®ç°ä¹Ÿå¯èƒ½ä¸åŒã€‚ç”±äº InnoDB å­˜å‚¨å¼•æ“åœ¨ MySQL æ•°æ®åº“ä¸­ä½¿ç”¨æœ€ä¸ºå¹¿æ³›ï¼Œæ‰€ä»¥ä¸‹é¢æˆ‘å°±ä»¥ InnoDB ä¸ºä¾‹ï¼Œå’Œä½ åˆ†æä¸€ä¸‹å…¶ä¸­çš„ç´¢å¼•æ¨¡å‹ã€‚ InnoDB çš„ç´¢å¼•æ¨¡å‹åœ¨ InnoDB ä¸­ï¼Œè¡¨éƒ½æ˜¯æ ¹æ®ä¸»é”®é¡ºåºä»¥ç´¢å¼•çš„å½¢å¼å­˜æ”¾çš„ï¼Œè¿™ç§å­˜å‚¨æ–¹å¼çš„è¡¨ç§°ä¸ºç´¢å¼•ç»„ç»‡è¡¨ã€‚åˆå› ä¸ºå‰é¢æˆ‘ä»¬æåˆ°çš„ï¼ŒInnoDB ä½¿ç”¨äº† B+ æ ‘ç´¢å¼•æ¨¡å‹ï¼Œæ‰€ä»¥æ•°æ®éƒ½æ˜¯å­˜å‚¨åœ¨ B+ æ ‘ä¸­çš„ã€‚ æ¯ä¸€ä¸ªç´¢å¼•åœ¨ InnoDB é‡Œé¢å¯¹åº”ä¸€æ£µ B+ æ ‘ã€‚ å‡è®¾ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªä¸»é”®åˆ—ä¸º ID çš„è¡¨ï¼Œè¡¨ä¸­æœ‰å­—æ®µ kï¼Œå¹¶ä¸”åœ¨ k ä¸Šæœ‰ç´¢å¼•ã€‚ è¿™ä¸ªè¡¨çš„å»ºè¡¨è¯­å¥æ˜¯ï¼š 12345mysql&gt; create table T(id int primary key, k int not null, name varchar(16),index (k))engine=InnoDB; è¡¨ä¸­ R1~R5 çš„ (ID,k) å€¼åˆ†åˆ«ä¸º (100,1)ã€(200,2)ã€(300,3)ã€(500,5) å’Œ (600,6)ï¼Œä¸¤æ£µæ ‘çš„ç¤ºä¾‹ç¤ºæ„å›¾å¦‚ä¸‹ã€‚ ä»å›¾ä¸­ä¸éš¾çœ‹å‡ºï¼Œæ ¹æ®å¶å­èŠ‚ç‚¹çš„å†…å®¹ï¼Œç´¢å¼•ç±»å‹åˆ†ä¸ºä¸»é”®ç´¢å¼•å’Œéä¸»é”®ç´¢å¼•ã€‚ ä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜çš„æ˜¯æ•´è¡Œæ•°æ®ã€‚åœ¨ InnoDB é‡Œï¼Œä¸»é”®ç´¢å¼•ä¹Ÿè¢«ç§°ä¸ºèšç°‡ç´¢å¼•ï¼ˆclustered indexï¼‰ã€‚ éä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å†…å®¹æ˜¯ä¸»é”®çš„å€¼ã€‚åœ¨ InnoDB é‡Œï¼Œéä¸»é”®ç´¢å¼•ä¹Ÿè¢«ç§°ä¸ºäºŒçº§ç´¢å¼•ï¼ˆsecondary indexï¼‰ã€‚ æ ¹æ®ä¸Šé¢çš„ç´¢å¼•ç»“æ„è¯´æ˜ï¼Œæˆ‘ä»¬æ¥è®¨è®ºä¸€ä¸ªé—®é¢˜ï¼šåŸºäºä¸»é”®ç´¢å¼•å’Œæ™®é€šç´¢å¼•çš„æŸ¥è¯¢æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å¦‚æœè¯­å¥æ˜¯ select * from T where ID=500ï¼Œå³ä¸»é”®æŸ¥è¯¢æ–¹å¼ï¼Œåˆ™åªéœ€è¦æœç´¢ ID è¿™æ£µ B+ æ ‘ï¼› å¦‚æœè¯­å¥æ˜¯ select * from T where k=5ï¼Œå³æ™®é€šç´¢å¼•æŸ¥è¯¢æ–¹å¼ï¼Œåˆ™éœ€è¦å…ˆæœç´¢ k ç´¢å¼•æ ‘ï¼Œå¾—åˆ° ID çš„å€¼ä¸º 500ï¼Œå†åˆ° ID ç´¢å¼•æ ‘æœç´¢ä¸€æ¬¡ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºå›è¡¨ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŸºäºéä¸»é”®ç´¢å¼•çš„æŸ¥è¯¢éœ€è¦å¤šæ‰«æä¸€æ£µç´¢å¼•æ ‘ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨åº”ç”¨ä¸­åº”è¯¥å°½é‡ä½¿ç”¨ä¸»é”®æŸ¥è¯¢ã€‚ ç´¢å¼•ç»´æŠ¤B+ æ ‘ä¸ºäº†ç»´æŠ¤ç´¢å¼•æœ‰åºæ€§ï¼Œåœ¨æ’å…¥æ–°å€¼çš„æ—¶å€™éœ€è¦åšå¿…è¦çš„ç»´æŠ¤ã€‚ä»¥ä¸Šé¢è¿™ä¸ªå›¾ä¸ºä¾‹ï¼Œå¦‚æœæ’å…¥æ–°çš„è¡Œ ID å€¼ä¸º 700ï¼Œåˆ™åªéœ€è¦åœ¨ R5 çš„è®°å½•åé¢æ’å…¥ä¸€ä¸ªæ–°è®°å½•ã€‚å¦‚æœæ–°æ’å…¥çš„ ID å€¼ä¸º 400ï¼Œå°±ç›¸å¯¹éº»çƒ¦äº†ï¼Œéœ€è¦é€»è¾‘ä¸ŠæŒªåŠ¨åé¢çš„æ•°æ®ï¼Œç©ºå‡ºä½ç½®ã€‚ è€Œæ›´ç³Ÿçš„æƒ…å†µæ˜¯ï¼Œå¦‚æœ R5 æ‰€åœ¨çš„æ•°æ®é¡µå·²ç»æ»¡äº†ï¼Œæ ¹æ® B+ æ ‘çš„ç®—æ³•ï¼Œè¿™æ—¶å€™éœ€è¦ç”³è¯·ä¸€ä¸ªæ–°çš„æ•°æ®é¡µï¼Œç„¶åæŒªåŠ¨éƒ¨åˆ†æ•°æ®è¿‡å»ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºé¡µåˆ†è£‚ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ€§èƒ½è‡ªç„¶ä¼šå—å½±å“ã€‚ é™¤äº†æ€§èƒ½å¤–ï¼Œé¡µåˆ†è£‚æ“ä½œè¿˜å½±å“æ•°æ®é¡µçš„åˆ©ç”¨ç‡ã€‚åŸæœ¬æ”¾åœ¨ä¸€ä¸ªé¡µçš„æ•°æ®ï¼Œç°åœ¨åˆ†åˆ°ä¸¤ä¸ªé¡µä¸­ï¼Œæ•´ä½“ç©ºé—´åˆ©ç”¨ç‡é™ä½å¤§çº¦ 50%ã€‚ å½“ç„¶æœ‰åˆ†è£‚å°±æœ‰åˆå¹¶ã€‚å½“ç›¸é‚»ä¸¤ä¸ªé¡µç”±äºåˆ é™¤äº†æ•°æ®ï¼Œåˆ©ç”¨ç‡å¾ˆä½ä¹‹åï¼Œä¼šå°†æ•°æ®é¡µåšåˆå¹¶ã€‚åˆå¹¶çš„è¿‡ç¨‹ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯åˆ†è£‚è¿‡ç¨‹çš„é€†è¿‡ç¨‹ã€‚ åŸºäºä¸Šé¢çš„ç´¢å¼•ç»´æŠ¤è¿‡ç¨‹è¯´æ˜ï¼Œæˆ‘ä»¬æ¥è®¨è®ºä¸€ä¸ªæ¡ˆä¾‹ï¼š ä½ å¯èƒ½åœ¨ä¸€äº›å»ºè¡¨è§„èŒƒé‡Œé¢è§åˆ°è¿‡ç±»ä¼¼çš„æè¿°ï¼Œè¦æ±‚å»ºè¡¨è¯­å¥é‡Œä¸€å®šè¦æœ‰è‡ªå¢ä¸»é”®ã€‚å½“ç„¶äº‹æ— ç»å¯¹ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹å“ªäº›åœºæ™¯ä¸‹åº”è¯¥ä½¿ç”¨è‡ªå¢ä¸»é”®ï¼Œè€Œå“ªäº›åœºæ™¯ä¸‹ä¸åº”è¯¥ã€‚ è‡ªå¢ä¸»é”®æ˜¯æŒ‡è‡ªå¢åˆ—ä¸Šå®šä¹‰çš„ä¸»é”®ï¼Œåœ¨å»ºè¡¨è¯­å¥ä¸­ä¸€èˆ¬æ˜¯è¿™ä¹ˆå®šä¹‰çš„ï¼š NOT NULL PRIMARY KEY AUTO_INCREMENTã€‚ æ’å…¥æ–°è®°å½•çš„æ—¶å€™å¯ä»¥ä¸æŒ‡å®š ID çš„å€¼ï¼Œç³»ç»Ÿä¼šè·å–å½“å‰ ID æœ€å¤§å€¼åŠ  1 ä½œä¸ºä¸‹ä¸€æ¡è®°å½•çš„ ID å€¼ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œè‡ªå¢ä¸»é”®çš„æ’å…¥æ•°æ®æ¨¡å¼ï¼Œæ­£ç¬¦åˆäº†æˆ‘ä»¬å‰é¢æåˆ°çš„é€’å¢æ’å…¥çš„åœºæ™¯ã€‚æ¯æ¬¡æ’å…¥ä¸€æ¡æ–°è®°å½•ï¼Œéƒ½æ˜¯è¿½åŠ æ“ä½œï¼Œéƒ½ä¸æ¶‰åŠåˆ°æŒªåŠ¨å…¶ä»–è®°å½•ï¼Œä¹Ÿä¸ä¼šè§¦å‘å¶å­èŠ‚ç‚¹çš„åˆ†è£‚ã€‚ è€Œæœ‰ä¸šåŠ¡é€»è¾‘çš„å­—æ®µåšä¸»é”®ï¼Œåˆ™å¾€å¾€ä¸å®¹æ˜“ä¿è¯æœ‰åºæ’å…¥ï¼Œè¿™æ ·å†™æ•°æ®æˆæœ¬ç›¸å¯¹è¾ƒé«˜ã€‚ é™¤äº†è€ƒè™‘æ€§èƒ½å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä»å­˜å‚¨ç©ºé—´çš„è§’åº¦æ¥çœ‹ã€‚å‡è®¾ä½ çš„è¡¨ä¸­ç¡®å®æœ‰ä¸€ä¸ªå”¯ä¸€å­—æ®µï¼Œæ¯”å¦‚å­—ç¬¦ä¸²ç±»å‹çš„èº«ä»½è¯å·ï¼Œé‚£åº”è¯¥ç”¨èº«ä»½è¯å·åšä¸»é”®ï¼Œè¿˜æ˜¯ç”¨è‡ªå¢å­—æ®µåšä¸»é”®å‘¢ï¼Ÿ ç”±äºæ¯ä¸ªéä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸Šéƒ½æ˜¯ä¸»é”®çš„å€¼ã€‚å¦‚æœç”¨èº«ä»½è¯å·åšä¸»é”®ï¼Œé‚£ä¹ˆæ¯ä¸ªäºŒçº§ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å ç”¨çº¦ 20 ä¸ªå­—èŠ‚ï¼Œè€Œå¦‚æœç”¨æ•´å‹åšä¸»é”®ï¼Œåˆ™åªè¦ 4 ä¸ªå­—èŠ‚ï¼Œå¦‚æœæ˜¯é•¿æ•´å‹ï¼ˆbigintï¼‰åˆ™æ˜¯ 8 ä¸ªå­—èŠ‚ã€‚ æ˜¾ç„¶ï¼Œä¸»é”®é•¿åº¦è¶Šå°ï¼Œæ™®é€šç´¢å¼•çš„å¶å­èŠ‚ç‚¹å°±è¶Šå°ï¼Œæ™®é€šç´¢å¼•å ç”¨çš„ç©ºé—´ä¹Ÿå°±è¶Šå°ã€‚ æ‰€ä»¥ï¼Œä»æ€§èƒ½å’Œå­˜å‚¨ç©ºé—´æ–¹é¢è€ƒé‡ï¼Œè‡ªå¢ä¸»é”®å¾€å¾€æ˜¯æ›´åˆç†çš„é€‰æ‹©ã€‚ æœ‰æ²¡æœ‰ä»€ä¹ˆåœºæ™¯é€‚åˆç”¨ä¸šåŠ¡å­—æ®µç›´æ¥åšä¸»é”®çš„å‘¢ï¼Ÿè¿˜æ˜¯æœ‰çš„ã€‚æ¯”å¦‚ï¼Œæœ‰äº›ä¸šåŠ¡çš„åœºæ™¯éœ€æ±‚æ˜¯è¿™æ ·çš„ï¼š åªæœ‰ä¸€ä¸ªç´¢å¼•ï¼› è¯¥ç´¢å¼•å¿…é¡»æ˜¯å”¯ä¸€ç´¢å¼•ã€‚ ä½ ä¸€å®šçœ‹å‡ºæ¥äº†ï¼Œè¿™å°±æ˜¯å…¸å‹çš„ KV åœºæ™¯ã€‚ ç”±äºæ²¡æœ‰å…¶ä»–ç´¢å¼•ï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸ç”¨è€ƒè™‘å…¶ä»–ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å¤§å°çš„é—®é¢˜ã€‚ è¿™æ—¶å€™æˆ‘ä»¬å°±è¦ä¼˜å…ˆè€ƒè™‘ä¸Šä¸€æ®µæåˆ°çš„â€œå°½é‡ä½¿ç”¨ä¸»é”®æŸ¥è¯¢â€åŸåˆ™ï¼Œç›´æ¥å°†è¿™ä¸ªç´¢å¼•è®¾ç½®ä¸ºä¸»é”®ï¼Œå¯ä»¥é¿å…æ¯æ¬¡æŸ¥è¯¢éœ€è¦æœç´¢ä¸¤æ£µæ ‘ã€‚","tags":[{"name":"MySQL","slug":"MySQL","permalink":"https://shleyz.github.io/tags/MySQL/"}]},{"title":"03 äº‹åŠ¡éš”ç¦»ï¼šä¸ºä»€ä¹ˆä½ æ”¹äº†æˆ‘è¿˜çœ‹ä¸è§","date":"2019-10-09T04:30:55.000Z","path":"2019/10/09/03-äº‹åŠ¡éš”ç¦»ï¼šä¸ºä»€ä¹ˆä½ æ”¹äº†æˆ‘è¿˜çœ‹ä¸è§/","text":"æåˆ°äº‹åŠ¡ï¼Œä½ è‚¯å®šä¸é™Œç”Ÿï¼Œå’Œæ•°æ®åº“æ‰“äº¤é“çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ€»æ˜¯ä¼šç”¨åˆ°äº‹åŠ¡ã€‚æœ€ç»å…¸çš„ä¾‹å­å°±æ˜¯è½¬è´¦ï¼Œä½ è¦ç»™æœ‹å‹å°ç‹è½¬ 100 å—é’±ï¼Œè€Œæ­¤æ—¶ä½ çš„é“¶è¡Œå¡åªæœ‰ 100 å—é’±ã€‚ è½¬è´¦è¿‡ç¨‹å…·ä½“åˆ°ç¨‹åºé‡Œä¼šæœ‰ä¸€ç³»åˆ—çš„æ“ä½œï¼Œæ¯”å¦‚æŸ¥è¯¢ä½™é¢ã€åšåŠ å‡æ³•ã€æ›´æ–°ä½™é¢ç­‰ï¼Œè¿™äº›æ“ä½œå¿…é¡»ä¿è¯æ˜¯ä¸€ä½“çš„ï¼Œä¸ç„¶ç­‰ç¨‹åºæŸ¥å®Œä¹‹åï¼Œè¿˜æ²¡åšå‡æ³•ä¹‹å‰ï¼Œä½ è¿™ 100 å—é’±ï¼Œå®Œå…¨å¯ä»¥å€Ÿç€è¿™ä¸ªæ—¶é—´å·®å†æŸ¥ä¸€æ¬¡ï¼Œç„¶åå†ç»™å¦å¤–ä¸€ä¸ªæœ‹å‹è½¬è´¦ï¼Œå¦‚æœé“¶è¡Œè¿™ä¹ˆæ•´ï¼Œä¸å°±ä¹±äº†ä¹ˆï¼Ÿè¿™æ—¶å°±è¦ç”¨åˆ°â€œäº‹åŠ¡â€è¿™ä¸ªæ¦‚å¿µäº†ã€‚ ç®€å•æ¥è¯´ï¼Œäº‹åŠ¡å°±æ˜¯è¦ä¿è¯ä¸€ç»„æ•°æ®åº“æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‚åœ¨ MySQL ä¸­ï¼Œäº‹åŠ¡æ”¯æŒæ˜¯åœ¨å¼•æ“å±‚å®ç°çš„ã€‚ä½ ç°åœ¨çŸ¥é“ï¼ŒMySQL æ˜¯ä¸€ä¸ªæ”¯æŒå¤šå¼•æ“çš„ç³»ç»Ÿï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„å¼•æ“éƒ½æ”¯æŒäº‹åŠ¡ã€‚æ¯”å¦‚ MySQL åŸç”Ÿçš„ MyISAM å¼•æ“å°±ä¸æ”¯æŒäº‹åŠ¡ï¼Œè¿™ä¹Ÿæ˜¯ MyISAM è¢« InnoDB å–ä»£çš„é‡è¦åŸå› ä¹‹ä¸€ã€‚ ä»Šå¤©çš„æ–‡ç« é‡Œï¼Œæˆ‘å°†ä¼šä»¥ InnoDB ä¸ºä¾‹ï¼Œå‰–æ MySQL åœ¨äº‹åŠ¡æ”¯æŒæ–¹é¢çš„ç‰¹å®šå®ç°ï¼Œå¹¶åŸºäºåŸç†ç»™å‡ºç›¸åº”çš„å®è·µå»ºè®®ï¼Œå¸Œæœ›è¿™äº›æ¡ˆä¾‹èƒ½åŠ æ·±ä½ å¯¹ MySQL äº‹åŠ¡åŸç†çš„ç†è§£ã€‚ éš”ç¦»æ€§ä¸éš”ç¦»çº§åˆ«æåˆ°äº‹åŠ¡ï¼Œä½ è‚¯å®šä¼šæƒ³åˆ° ACIDï¼ˆAtomicityã€Consistencyã€Isolationã€Durabilityï¼Œå³åŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ï¼‰ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥è¯´è¯´å…¶ä¸­ Iï¼Œä¹Ÿå°±æ˜¯â€œéš”ç¦»æ€§â€ã€‚ å½“æ•°æ®åº“ä¸Šæœ‰å¤šä¸ªäº‹åŠ¡åŒæ—¶æ‰§è¡Œçš„æ—¶å€™ï¼Œå°±å¯èƒ½å‡ºç°è„è¯»ï¼ˆdirty readï¼‰ã€ä¸å¯é‡å¤è¯»ï¼ˆnon-repeatable readï¼‰ã€å¹»è¯»ï¼ˆphantom readï¼‰çš„é—®é¢˜ï¼Œä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œå°±æœ‰äº†â€œéš”ç¦»çº§åˆ«â€çš„æ¦‚å¿µã€‚ åœ¨è°ˆéš”ç¦»çº§åˆ«ä¹‹å‰ï¼Œä½ é¦–å…ˆè¦çŸ¥é“ï¼Œä½ éš”ç¦»å¾—è¶Šä¸¥å®ï¼Œæ•ˆç‡å°±ä¼šè¶Šä½ã€‚å› æ­¤å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬éƒ½è¦åœ¨äºŒè€…ä¹‹é—´å¯»æ‰¾ä¸€ä¸ªå¹³è¡¡ç‚¹ã€‚SQL æ ‡å‡†çš„äº‹åŠ¡éš”ç¦»çº§åˆ«åŒ…æ‹¬ï¼šè¯»æœªæäº¤ï¼ˆread uncommittedï¼‰ã€è¯»æäº¤ï¼ˆread committedï¼‰ã€å¯é‡å¤è¯»ï¼ˆrepeatable readï¼‰å’Œä¸²è¡ŒåŒ–ï¼ˆserializable ï¼‰ã€‚ä¸‹é¢æˆ‘é€ä¸€ä¸ºä½ è§£é‡Šï¼š è¯»æœªæäº¤æ˜¯æŒ‡ï¼Œä¸€ä¸ªäº‹åŠ¡è¿˜æ²¡æäº¤æ—¶ï¼Œå®ƒåšçš„å˜æ›´å°±èƒ½è¢«åˆ«çš„äº‹åŠ¡çœ‹åˆ°ã€‚ è¯»æäº¤æ˜¯æŒ‡ï¼Œä¸€ä¸ªäº‹åŠ¡æäº¤ä¹‹åï¼Œå®ƒåšçš„å˜æ›´æ‰ä¼šè¢«å…¶ä»–äº‹åŠ¡çœ‹åˆ°ã€‚ å¯é‡å¤è¯»æ˜¯æŒ‡ï¼Œä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­çœ‹åˆ°çš„æ•°æ®ï¼Œæ€»æ˜¯è·Ÿè¿™ä¸ªäº‹åŠ¡åœ¨å¯åŠ¨æ—¶çœ‹åˆ°çš„æ•°æ®æ˜¯ä¸€è‡´çš„ã€‚å½“ç„¶åœ¨å¯é‡å¤è¯»éš”ç¦»çº§åˆ«ä¸‹ï¼Œæœªæäº¤å˜æ›´å¯¹å…¶ä»–äº‹åŠ¡ä¹Ÿæ˜¯ä¸å¯è§çš„ã€‚ ä¸²è¡ŒåŒ–ï¼Œé¡¾åæ€ä¹‰æ˜¯å¯¹äºåŒä¸€è¡Œè®°å½•ï¼Œâ€œå†™â€ä¼šåŠ â€œå†™é”â€ï¼Œâ€œè¯»â€ä¼šåŠ â€œè¯»é”â€ã€‚å½“å‡ºç°è¯»å†™é”å†²çªçš„æ—¶å€™ï¼Œåè®¿é—®çš„äº‹åŠ¡å¿…é¡»ç­‰å‰ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œå®Œæˆï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚ å…¶ä¸­â€œè¯»æäº¤â€å’Œâ€œå¯é‡å¤è¯»â€æ¯”è¾ƒéš¾ç†è§£ï¼Œæ‰€ä»¥æˆ‘ç”¨ä¸€ä¸ªä¾‹å­è¯´æ˜è¿™å‡ ç§éš”ç¦»çº§åˆ«ã€‚å‡è®¾æ•°æ®è¡¨ T ä¸­åªæœ‰ä¸€åˆ—ï¼Œå…¶ä¸­ä¸€è¡Œçš„å€¼ä¸º 1ï¼Œä¸‹é¢æ˜¯æŒ‰ç…§æ—¶é—´é¡ºåºæ‰§è¡Œä¸¤ä¸ªäº‹åŠ¡çš„è¡Œä¸ºã€‚ 12mysql&gt; create table T(c int) engine=InnoDB;insert into T(c) values(1); æˆ‘ä»¬æ¥çœ‹çœ‹åœ¨ä¸åŒçš„éš”ç¦»çº§åˆ«ä¸‹ï¼Œäº‹åŠ¡ A ä¼šæœ‰å“ªäº›ä¸åŒçš„è¿”å›ç»“æœï¼Œä¹Ÿå°±æ˜¯å›¾é‡Œé¢ V1ã€V2ã€V3 çš„è¿”å›å€¼åˆ†åˆ«æ˜¯ä»€ä¹ˆã€‚ è‹¥éš”ç¦»çº§åˆ«æ˜¯â€œè¯»æœªæäº¤â€ï¼Œ åˆ™ V1 çš„å€¼å°±æ˜¯ 2ã€‚è¿™æ—¶å€™äº‹åŠ¡ B è™½ç„¶è¿˜æ²¡æœ‰æäº¤ï¼Œä½†æ˜¯ç»“æœå·²ç»è¢« A çœ‹åˆ°äº†ã€‚å› æ­¤ï¼ŒV2ã€V3 ä¹Ÿéƒ½æ˜¯ 2ã€‚ è‹¥éš”ç¦»çº§åˆ«æ˜¯â€œè¯»æäº¤â€ï¼Œåˆ™ V1 æ˜¯ 1ï¼ŒV2 çš„å€¼æ˜¯ 2ã€‚äº‹åŠ¡ B çš„æ›´æ–°åœ¨æäº¤åæ‰èƒ½è¢« A çœ‹åˆ°ã€‚æ‰€ä»¥ï¼Œ V3 çš„å€¼ä¹Ÿæ˜¯ 2ã€‚ è‹¥éš”ç¦»çº§åˆ«æ˜¯â€œå¯é‡å¤è¯»â€ï¼Œåˆ™ V1ã€V2 æ˜¯ 1ï¼ŒV3 æ˜¯ 2ã€‚ä¹‹æ‰€ä»¥ V2 è¿˜æ˜¯ 1ï¼Œéµå¾ªçš„å°±æ˜¯è¿™ä¸ªè¦æ±‚ï¼šäº‹åŠ¡åœ¨æ‰§è¡ŒæœŸé—´çœ‹åˆ°çš„æ•°æ®å‰åå¿…é¡»æ˜¯ä¸€è‡´çš„ã€‚ è‹¥éš”ç¦»çº§åˆ«æ˜¯â€œä¸²è¡ŒåŒ–â€ï¼Œåˆ™åœ¨äº‹åŠ¡ B æ‰§è¡Œâ€œå°† 1 æ”¹æˆ 2â€çš„æ—¶å€™ï¼Œä¼šè¢«é”ä½ã€‚ç›´åˆ°äº‹åŠ¡ A æäº¤åï¼Œäº‹åŠ¡ B æ‰å¯ä»¥ç»§ç»­æ‰§è¡Œã€‚æ‰€ä»¥ä» A çš„è§’åº¦çœ‹ï¼Œ V1ã€V2 å€¼æ˜¯ 1ï¼ŒV3 çš„å€¼æ˜¯ 2ã€‚ åœ¨å®ç°ä¸Šï¼Œæ•°æ®åº“é‡Œé¢ä¼šåˆ›å»ºä¸€ä¸ªè§†å›¾ï¼Œè®¿é—®çš„æ—¶å€™ä»¥è§†å›¾çš„é€»è¾‘ç»“æœä¸ºå‡†ã€‚ åœ¨â€œå¯é‡å¤è¯»â€éš”ç¦»çº§åˆ«ä¸‹ï¼Œè¿™ä¸ªè§†å›¾æ˜¯åœ¨äº‹åŠ¡å¯åŠ¨æ—¶åˆ›å»ºçš„ï¼Œæ•´ä¸ªäº‹åŠ¡å­˜åœ¨æœŸé—´éƒ½ç”¨è¿™ä¸ªè§†å›¾ã€‚åœ¨â€œè¯»æäº¤â€éš”ç¦»çº§åˆ«ä¸‹ï¼Œè¿™ä¸ªè§†å›¾æ˜¯åœ¨æ¯ä¸ª SQL è¯­å¥å¼€å§‹æ‰§è¡Œçš„æ—¶å€™åˆ›å»ºçš„ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œâ€œè¯»æœªæäº¤â€éš”ç¦»çº§åˆ«ä¸‹ç›´æ¥è¿”å›è®°å½•ä¸Šçš„æœ€æ–°å€¼ï¼Œæ²¡æœ‰è§†å›¾æ¦‚å¿µï¼›è€Œâ€œä¸²è¡ŒåŒ–â€éš”ç¦»çº§åˆ«ä¸‹ç›´æ¥ç”¨åŠ é”çš„æ–¹å¼æ¥é¿å…å¹¶è¡Œè®¿é—®ã€‚ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨ä¸åŒçš„éš”ç¦»çº§åˆ«ä¸‹ï¼Œæ•°æ®åº“è¡Œä¸ºæ˜¯æœ‰æ‰€ä¸åŒçš„ã€‚Oracle æ•°æ®åº“çš„é»˜è®¤éš”ç¦»çº§åˆ«å…¶å®å°±æ˜¯â€œè¯»æäº¤â€ï¼Œå› æ­¤å¯¹äºä¸€äº›ä» Oracle è¿ç§»åˆ° MySQL çš„åº”ç”¨ï¼Œä¸ºä¿è¯æ•°æ®åº“éš”ç¦»çº§åˆ«çš„ä¸€è‡´ï¼Œä½ ä¸€å®šè¦è®°å¾—å°† MySQL çš„éš”ç¦»çº§åˆ«è®¾ç½®ä¸ºâ€œè¯»æäº¤â€ã€‚ é…ç½®çš„æ–¹å¼æ˜¯ï¼Œå°†å¯åŠ¨å‚æ•° transaction-isolation çš„å€¼è®¾ç½®æˆ READ-COMMITTEDã€‚ä½ å¯ä»¥ç”¨ show variables æ¥æŸ¥çœ‹å½“å‰çš„å€¼ã€‚ 123456789101112mysql&gt; show variables like 'transaction_isolation';+-----------------------+----------------+| Variable_name | Value |+-----------------------+----------------+| transaction_isolation | READ-COMMITTED |+-----------------------+----------------+ æ€»ç»“æ¥è¯´ï¼Œå­˜åœ¨å³åˆç†ï¼Œå“ªä¸ªéš”ç¦»çº§åˆ«éƒ½æœ‰å®ƒè‡ªå·±çš„ä½¿ç”¨åœºæ™¯ï¼Œä½ è¦æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡æƒ…å†µæ¥å®šã€‚æˆ‘æƒ³ä½ å¯èƒ½ä¼šé—®é‚£ä»€ä¹ˆæ—¶å€™éœ€è¦â€œå¯é‡å¤è¯»â€çš„åœºæ™¯å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ•°æ®æ ¡å¯¹é€»è¾‘çš„æ¡ˆä¾‹ã€‚ å‡è®¾ä½ åœ¨ç®¡ç†ä¸€ä¸ªä¸ªäººé“¶è¡Œè´¦æˆ·è¡¨ã€‚ä¸€ä¸ªè¡¨å­˜äº†æ¯ä¸ªæœˆæœˆåº•çš„ä½™é¢ï¼Œä¸€ä¸ªè¡¨å­˜äº†è´¦å•æ˜ç»†ã€‚è¿™æ—¶å€™ä½ è¦åšæ•°æ®æ ¡å¯¹ï¼Œä¹Ÿå°±æ˜¯åˆ¤æ–­ä¸Šä¸ªæœˆçš„ä½™é¢å’Œå½“å‰ä½™é¢çš„å·®é¢ï¼Œæ˜¯å¦ä¸æœ¬æœˆçš„è´¦å•æ˜ç»†ä¸€è‡´ã€‚ä½ ä¸€å®šå¸Œæœ›åœ¨æ ¡å¯¹è¿‡ç¨‹ä¸­ï¼Œå³ä½¿æœ‰ç”¨æˆ·å‘ç”Ÿäº†ä¸€ç¬”æ–°çš„äº¤æ˜“ï¼Œä¹Ÿä¸å½±å“ä½ çš„æ ¡å¯¹ç»“æœã€‚ è¿™æ—¶å€™ä½¿ç”¨â€œå¯é‡å¤è¯»â€éš”ç¦»çº§åˆ«å°±å¾ˆæ–¹ä¾¿ã€‚äº‹åŠ¡å¯åŠ¨æ—¶çš„è§†å›¾å¯ä»¥è®¤ä¸ºæ˜¯é™æ€çš„ï¼Œä¸å—å…¶ä»–äº‹åŠ¡æ›´æ–°çš„å½±å“ã€‚ äº‹åŠ¡éš”ç¦»çš„å®ç°ç†è§£äº†äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹äº‹åŠ¡éš”ç¦»å…·ä½“æ˜¯æ€ä¹ˆå®ç°çš„ã€‚è¿™é‡Œæˆ‘ä»¬å±•å¼€è¯´æ˜â€œå¯é‡å¤è¯»â€ã€‚ åœ¨ MySQL ä¸­ï¼Œå®é™…ä¸Šæ¯æ¡è®°å½•åœ¨æ›´æ–°çš„æ—¶å€™éƒ½ä¼šåŒæ—¶è®°å½•ä¸€æ¡å›æ»šæ“ä½œã€‚è®°å½•ä¸Šçš„æœ€æ–°å€¼ï¼Œé€šè¿‡å›æ»šæ“ä½œï¼Œéƒ½å¯ä»¥å¾—åˆ°å‰ä¸€ä¸ªçŠ¶æ€çš„å€¼ã€‚ å‡è®¾ä¸€ä¸ªå€¼ä» 1 è¢«æŒ‰é¡ºåºæ”¹æˆäº† 2ã€3ã€4ï¼Œåœ¨å›æ»šæ—¥å¿—é‡Œé¢å°±ä¼šæœ‰ç±»ä¼¼ä¸‹é¢çš„è®°å½•ã€‚ å½“å‰å€¼æ˜¯ 4ï¼Œä½†æ˜¯åœ¨æŸ¥è¯¢è¿™æ¡è®°å½•çš„æ—¶å€™ï¼Œä¸åŒæ—¶åˆ»å¯åŠ¨çš„äº‹åŠ¡ä¼šæœ‰ä¸åŒçš„ read-viewã€‚å¦‚å›¾ä¸­çœ‹åˆ°çš„ï¼Œåœ¨è§†å›¾ Aã€Bã€C é‡Œé¢ï¼Œè¿™ä¸€ä¸ªè®°å½•çš„å€¼åˆ†åˆ«æ˜¯ 1ã€2ã€4ï¼ŒåŒä¸€æ¡è®°å½•åœ¨ç³»ç»Ÿä¸­å¯ä»¥å­˜åœ¨å¤šä¸ªç‰ˆæœ¬ï¼Œå°±æ˜¯æ•°æ®åº“çš„å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆMVCCï¼‰ã€‚å¯¹äº read-view Aï¼Œè¦å¾—åˆ° 1ï¼Œå°±å¿…é¡»å°†å½“å‰å€¼ä¾æ¬¡æ‰§è¡Œå›¾ä¸­æ‰€æœ‰çš„å›æ»šæ“ä½œå¾—åˆ°ã€‚ åŒæ—¶ä½ ä¼šå‘ç°ï¼Œå³ä½¿ç°åœ¨æœ‰å¦å¤–ä¸€ä¸ªäº‹åŠ¡æ­£åœ¨å°† 4 æ”¹æˆ 5ï¼Œè¿™ä¸ªäº‹åŠ¡è·Ÿ read-view Aã€Bã€C å¯¹åº”çš„äº‹åŠ¡æ˜¯ä¸ä¼šå†²çªçš„ã€‚ ä½ ä¸€å®šä¼šé—®ï¼Œå›æ»šæ—¥å¿—æ€»ä¸èƒ½ä¸€ç›´ä¿ç•™å§ï¼Œä»€ä¹ˆæ—¶å€™åˆ é™¤å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼Œåœ¨ä¸éœ€è¦çš„æ—¶å€™æ‰åˆ é™¤ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç³»ç»Ÿä¼šåˆ¤æ–­ï¼Œå½“æ²¡æœ‰äº‹åŠ¡å†éœ€è¦ç”¨åˆ°è¿™äº›å›æ»šæ—¥å¿—æ—¶ï¼Œå›æ»šæ—¥å¿—ä¼šè¢«åˆ é™¤ã€‚ ä»€ä¹ˆæ—¶å€™æ‰ä¸éœ€è¦äº†å‘¢ï¼Ÿå°±æ˜¯å½“ç³»ç»Ÿé‡Œæ²¡æœ‰æ¯”è¿™ä¸ªå›æ»šæ—¥å¿—æ›´æ—©çš„ read-view çš„æ—¶å€™ã€‚ åŸºäºä¸Šé¢çš„è¯´æ˜ï¼Œæˆ‘ä»¬æ¥è®¨è®ºä¸€ä¸‹ä¸ºä»€ä¹ˆå»ºè®®ä½ å°½é‡ä¸è¦ä½¿ç”¨é•¿äº‹åŠ¡ã€‚ é•¿äº‹åŠ¡æ„å‘³ç€ç³»ç»Ÿé‡Œé¢ä¼šå­˜åœ¨å¾ˆè€çš„äº‹åŠ¡è§†å›¾ã€‚ç”±äºè¿™äº›äº‹åŠ¡éšæ—¶å¯èƒ½è®¿é—®æ•°æ®åº“é‡Œé¢çš„ä»»ä½•æ•°æ®ï¼Œæ‰€ä»¥è¿™ä¸ªäº‹åŠ¡æäº¤ä¹‹å‰ï¼Œæ•°æ®åº“é‡Œé¢å®ƒå¯èƒ½ç”¨åˆ°çš„å›æ»šè®°å½•éƒ½å¿…é¡»ä¿ç•™ï¼Œè¿™å°±ä¼šå¯¼è‡´å¤§é‡å ç”¨å­˜å‚¨ç©ºé—´ã€‚ åœ¨ MySQL 5.5 åŠä»¥å‰çš„ç‰ˆæœ¬ï¼Œå›æ»šæ—¥å¿—æ˜¯è·Ÿæ•°æ®å­—å…¸ä¸€èµ·æ”¾åœ¨ ibdata æ–‡ä»¶é‡Œçš„ï¼Œå³ä½¿é•¿äº‹åŠ¡æœ€ç»ˆæäº¤ï¼Œå›æ»šæ®µè¢«æ¸…ç†ï¼Œæ–‡ä»¶ä¹Ÿä¸ä¼šå˜å°ã€‚æˆ‘è§è¿‡æ•°æ®åªæœ‰ 20GBï¼Œè€Œå›æ»šæ®µæœ‰ 200GB çš„åº“ã€‚æœ€ç»ˆåªå¥½ä¸ºäº†æ¸…ç†å›æ»šæ®µï¼Œé‡å»ºæ•´ä¸ªåº“ã€‚ é™¤äº†å¯¹å›æ»šæ®µçš„å½±å“ï¼Œé•¿äº‹åŠ¡è¿˜å ç”¨é”èµ„æºï¼Œä¹Ÿå¯èƒ½æ‹–å®æ•´ä¸ªåº“ï¼Œè¿™ä¸ªæˆ‘ä»¬ä¼šåœ¨åé¢è®²é”çš„æ—¶å€™å±•å¼€ã€‚ äº‹åŠ¡çš„å¯åŠ¨æ–¹å¼å¦‚å‰é¢æ‰€è¿°ï¼Œé•¿äº‹åŠ¡æœ‰è¿™äº›æ½œåœ¨é£é™©ï¼Œæˆ‘å½“ç„¶æ˜¯å»ºè®®ä½ å°½é‡é¿å…ã€‚å…¶å®å¾ˆå¤šæ—¶å€™ä¸šåŠ¡å¼€å‘åŒå­¦å¹¶ä¸æ˜¯æœ‰æ„ä½¿ç”¨é•¿äº‹åŠ¡ï¼Œé€šå¸¸æ˜¯ç”±äºè¯¯ç”¨æ‰€è‡´ã€‚MySQL çš„äº‹åŠ¡å¯åŠ¨æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š æ˜¾å¼å¯åŠ¨äº‹åŠ¡è¯­å¥ï¼Œ begin æˆ– start transactionã€‚é…å¥—çš„æäº¤è¯­å¥æ˜¯ commitï¼Œå›æ»šè¯­å¥æ˜¯ rollbackã€‚ set autocommit=0ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šå°†è¿™ä¸ªçº¿ç¨‹çš„è‡ªåŠ¨æäº¤å…³æ‰ã€‚æ„å‘³ç€å¦‚æœä½ åªæ‰§è¡Œä¸€ä¸ª select è¯­å¥ï¼Œè¿™ä¸ªäº‹åŠ¡å°±å¯åŠ¨äº†ï¼Œè€Œä¸”å¹¶ä¸ä¼šè‡ªåŠ¨æäº¤ã€‚è¿™ä¸ªäº‹åŠ¡æŒç»­å­˜åœ¨ç›´åˆ°ä½ ä¸»åŠ¨æ‰§è¡Œ commit æˆ– rollback è¯­å¥ï¼Œæˆ–è€…æ–­å¼€è¿æ¥ã€‚ æœ‰äº›å®¢æˆ·ç«¯è¿æ¥æ¡†æ¶ä¼šé»˜è®¤è¿æ¥æˆåŠŸåå…ˆæ‰§è¡Œä¸€ä¸ª set autocommit=0 çš„å‘½ä»¤ã€‚è¿™å°±å¯¼è‡´æ¥ä¸‹æ¥çš„æŸ¥è¯¢éƒ½åœ¨äº‹åŠ¡ä¸­ï¼Œå¦‚æœæ˜¯é•¿è¿æ¥ï¼Œå°±å¯¼è‡´äº†æ„å¤–çš„é•¿äº‹åŠ¡ã€‚ å› æ­¤ï¼Œæˆ‘ä¼šå»ºè®®ä½ æ€»æ˜¯ä½¿ç”¨ set autocommit=1, é€šè¿‡æ˜¾å¼è¯­å¥çš„æ–¹å¼æ¥å¯åŠ¨äº‹åŠ¡ã€‚ ä½†æ˜¯æœ‰çš„å¼€å‘åŒå­¦ä¼šçº ç»“â€œå¤šä¸€æ¬¡äº¤äº’â€çš„é—®é¢˜ã€‚å¯¹äºä¸€ä¸ªéœ€è¦é¢‘ç¹ä½¿ç”¨äº‹åŠ¡çš„ä¸šåŠ¡ï¼Œç¬¬äºŒç§æ–¹å¼æ¯ä¸ªäº‹åŠ¡åœ¨å¼€å§‹æ—¶éƒ½ä¸éœ€è¦ä¸»åŠ¨æ‰§è¡Œä¸€æ¬¡ â€œbeginâ€ï¼Œå‡å°‘äº†è¯­å¥çš„äº¤äº’æ¬¡æ•°ã€‚å¦‚æœä½ ä¹Ÿæœ‰è¿™ä¸ªé¡¾è™‘ï¼Œæˆ‘å»ºè®®ä½ ä½¿ç”¨ commit work and chain è¯­æ³•ã€‚ åœ¨ autocommit ä¸º 1 çš„æƒ…å†µä¸‹ï¼Œç”¨ begin æ˜¾å¼å¯åŠ¨çš„äº‹åŠ¡ï¼Œå¦‚æœæ‰§è¡Œ commit åˆ™æäº¤äº‹åŠ¡ã€‚å¦‚æœæ‰§è¡Œ commit work and chainï¼Œåˆ™æ˜¯æäº¤äº‹åŠ¡å¹¶è‡ªåŠ¨å¯åŠ¨ä¸‹ä¸€ä¸ªäº‹åŠ¡ï¼Œè¿™æ ·ä¹Ÿçœå»äº†å†æ¬¡æ‰§è¡Œ begin è¯­å¥çš„å¼€é”€ã€‚åŒæ—¶å¸¦æ¥çš„å¥½å¤„æ˜¯ä»ç¨‹åºå¼€å‘çš„è§’åº¦æ˜ç¡®åœ°çŸ¥é“æ¯ä¸ªè¯­å¥æ˜¯å¦å¤„äºäº‹åŠ¡ä¸­ã€‚ ä½ å¯ä»¥åœ¨ information_schema åº“çš„ innodb_trx è¿™ä¸ªè¡¨ä¸­æŸ¥è¯¢é•¿äº‹åŠ¡ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªè¯­å¥ï¼Œç”¨äºæŸ¥æ‰¾æŒç»­æ—¶é—´è¶…è¿‡ 60s çš„äº‹åŠ¡ã€‚ 1select * from information_schema.innodb_trx where TIME_TO_SEC(timediff(now(),trx_started))&gt;60 æ€»ç»“ä»‹ç»äº† MySQL çš„äº‹åŠ¡éš”ç¦»çº§åˆ«çš„ç°è±¡å’Œå®ç°ï¼Œæ ¹æ®å®ç°åŸç†åˆ†æäº†é•¿äº‹åŠ¡å­˜åœ¨çš„é£é™©ï¼Œä»¥åŠå¦‚ä½•ç”¨æ­£ç¡®çš„æ–¹å¼é¿å…é•¿äº‹åŠ¡ã€‚","tags":[{"name":"MySQL","slug":"MySQL","permalink":"https://shleyz.github.io/tags/MySQL/"}]},{"title":"02 æ—¥å¿—ç³»ç»Ÿï¼šä¸€æ¡SQLæ›´æ–°è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„","date":"2019-10-09T02:40:29.000Z","path":"2019/10/09/02-æ—¥å¿—ç³»ç»Ÿï¼šä¸€æ¡SQLæ›´æ–°è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„/","text":"ä¸€æ¡æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œè¿‡ç¨‹ä¸€èˆ¬æ˜¯ç»è¿‡è¿æ¥å™¨ã€åˆ†æå™¨ã€ä¼˜åŒ–å™¨ã€æ‰§è¡Œå™¨ç­‰åŠŸèƒ½æ¨¡å—ï¼Œæœ€ååˆ°è¾¾å­˜å‚¨å¼•æ“ã€‚ é‚£ä¹ˆï¼Œä¸€æ¡æ›´æ–°è¯­å¥çš„æ‰§è¡Œæµç¨‹åˆæ˜¯æ€æ ·çš„å‘¢ï¼Ÿ ä¹‹å‰ä½ å¯èƒ½ç»å¸¸å¬ DBA åŒäº‹è¯´ï¼ŒMySQL å¯ä»¥æ¢å¤åˆ°åŠä¸ªæœˆå†…ä»»æ„ä¸€ç§’çš„çŠ¶æ€ï¼ŒæƒŠå¹çš„åŒæ—¶ï¼Œä½ æ˜¯ä¸æ˜¯å¿ƒä¸­ä¹Ÿä¼šä¸å…ä¼šå¥½å¥‡ï¼Œè¿™æ˜¯æ€æ ·åšåˆ°çš„å‘¢ï¼Ÿ æˆ‘ä»¬è¿˜æ˜¯ä»ä¸€ä¸ªè¡¨çš„ä¸€æ¡æ›´æ–°è¯­å¥è¯´èµ·ï¼Œä¸‹é¢æ˜¯è¿™ä¸ªè¡¨çš„åˆ›å»ºè¯­å¥ï¼Œè¿™ä¸ªè¡¨æœ‰ä¸€ä¸ªä¸»é”® ID å’Œä¸€ä¸ªæ•´å‹å­—æ®µ cï¼š 1mysql&gt; create table T(ID int primary key, c int); å¦‚æœè¦å°† ID=2 è¿™ä¸€è¡Œçš„å€¼åŠ  1ï¼ŒSQL è¯­å¥å°±ä¼šè¿™ä¹ˆå†™ï¼š 1mysql&gt; update T set c=c+1 where ID=2; å‰é¢ä»‹ç»è¿‡ SQL è¯­å¥åŸºæœ¬çš„æ‰§è¡Œé“¾è·¯ï¼Œè¿™é‡Œå†æŠŠé‚£å¼ å›¾æ‹¿è¿‡æ¥ï¼Œä½ ä¹Ÿå¯ä»¥å…ˆç®€å•çœ‹çœ‹è¿™ä¸ªå›¾å›é¡¾ä¸‹ã€‚é¦–å…ˆï¼Œå¯ä»¥ç¡®å®šçš„è¯´ï¼ŒæŸ¥è¯¢è¯­å¥çš„é‚£ä¸€å¥—æµç¨‹ï¼Œæ›´æ–°è¯­å¥ä¹Ÿæ˜¯åŒæ ·ä¼šèµ°ä¸€éã€‚ ä½ æ‰§è¡Œè¯­å¥å‰è¦å…ˆè¿æ¥æ•°æ®åº“ï¼Œè¿™æ˜¯è¿æ¥å™¨çš„å·¥ä½œã€‚ å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼Œåœ¨ä¸€ä¸ªè¡¨ä¸Šæœ‰æ›´æ–°çš„æ—¶å€™ï¼Œè·Ÿè¿™ä¸ªè¡¨æœ‰å…³çš„æŸ¥è¯¢ç¼“å­˜ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥è¿™æ¡è¯­å¥å°±ä¼šæŠŠè¡¨ T ä¸Šæ‰€æœ‰ç¼“å­˜ç»“æœéƒ½æ¸…ç©ºã€‚è¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜çš„åŸå› ã€‚ æ¥ä¸‹æ¥ï¼Œåˆ†æå™¨ä¼šé€šè¿‡è¯æ³•å’Œè¯­æ³•è§£æçŸ¥é“è¿™æ˜¯ä¸€æ¡æ›´æ–°è¯­å¥ã€‚ ä¼˜åŒ–å™¨å†³å®šè¦ä½¿ç”¨ ID è¿™ä¸ªç´¢å¼•ã€‚ ç„¶åï¼Œæ‰§è¡Œå™¨è´Ÿè´£å…·ä½“æ‰§è¡Œï¼Œæ‰¾åˆ°è¿™ä¸€è¡Œï¼Œç„¶åæ›´æ–°ã€‚ ä¸æŸ¥è¯¢æµç¨‹ä¸ä¸€æ ·çš„æ˜¯ï¼Œæ›´æ–°æµç¨‹è¿˜æ¶‰åŠä¸¤ä¸ªé‡è¦çš„æ—¥å¿—æ¨¡å—ï¼Œå®ƒä»¬æ­£æ˜¯æˆ‘ä»¬ä»Šå¤©è¦è®¨è®ºçš„ä¸»è§’ï¼šredo logï¼ˆé‡åšæ—¥å¿—ï¼‰å’Œ binlogï¼ˆå½’æ¡£æ—¥å¿—ï¼‰ã€‚å¦‚æœæ¥è§¦ MySQLï¼Œé‚£è¿™ä¸¤ä¸ªè¯è‚¯å®šæ˜¯ç»•ä¸è¿‡çš„ï¼Œæˆ‘åé¢çš„å†…å®¹é‡Œä¹Ÿä¼šä¸æ–­åœ°å’Œä½ å¼ºè°ƒã€‚ä¸è¿‡è¯è¯´å›æ¥ï¼Œredo log å’Œ binlog åœ¨è®¾è®¡ä¸Šæœ‰å¾ˆå¤šæœ‰æ„æ€çš„åœ°æ–¹ï¼Œè¿™äº›è®¾è®¡æ€è·¯ä¹Ÿå¯ä»¥ç”¨åˆ°ä½ è‡ªå·±çš„ç¨‹åºé‡Œã€‚ é‡è¦çš„æ—¥å¿—æ¨¡å—-ç‰©ç†æ—¥å¿—ï¼šredo logä¸çŸ¥é“ä½ è¿˜è®°ä¸è®°å¾—ã€Šå­”ä¹™å·±ã€‹è¿™ç¯‡æ–‡ç« ï¼Œé…’åº—æŒæŸœæœ‰ä¸€ä¸ªç²‰æ¿ï¼Œä¸“é—¨ç”¨æ¥è®°å½•å®¢äººçš„èµŠè´¦è®°å½•ã€‚å¦‚æœèµŠè´¦çš„äººä¸å¤šï¼Œé‚£ä¹ˆä»–å¯ä»¥æŠŠé¡¾å®¢åå’Œè´¦ç›®å†™åœ¨æ¿ä¸Šã€‚ä½†å¦‚æœèµŠè´¦çš„äººå¤šäº†ï¼Œç²‰æ¿æ€»ä¼šæœ‰è®°ä¸ä¸‹çš„æ—¶å€™ï¼Œè¿™ä¸ªæ—¶å€™æŒæŸœä¸€å®šè¿˜æœ‰ä¸€ä¸ªä¸“é—¨è®°å½•èµŠè´¦çš„è´¦æœ¬ã€‚ å¦‚æœæœ‰äººè¦èµŠè´¦æˆ–è€…è¿˜è´¦çš„è¯ï¼ŒæŒæŸœä¸€èˆ¬æœ‰ä¸¤ç§åšæ³•ï¼š ä¸€ç§åšæ³•æ˜¯ç›´æ¥æŠŠè´¦æœ¬ç¿»å‡ºæ¥ï¼ŒæŠŠè¿™æ¬¡èµŠçš„è´¦åŠ ä¸Šå»æˆ–è€…æ‰£é™¤æ‰ï¼› å¦ä¸€ç§åšæ³•æ˜¯å…ˆåœ¨ç²‰æ¿ä¸Šè®°ä¸‹è¿™æ¬¡çš„è´¦ï¼Œç­‰æ‰“çƒŠä»¥åå†æŠŠè´¦æœ¬ç¿»å‡ºæ¥æ ¸ç®—ã€‚ åœ¨ç”Ÿæ„çº¢ç«æŸœå°å¾ˆå¿™æ—¶ï¼ŒæŒæŸœä¸€å®šä¼šé€‰æ‹©åè€…ï¼Œå› ä¸ºå‰è€…æ“ä½œå®åœ¨æ˜¯å¤ªéº»çƒ¦äº†ã€‚é¦–å…ˆï¼Œä½ å¾—æ‰¾åˆ°è¿™ä¸ªäººçš„èµŠè´¦æ€»é¢é‚£æ¡è®°å½•ã€‚ä½ æƒ³æƒ³ï¼Œå¯†å¯†éº»éº»å‡ åé¡µï¼ŒæŒæŸœè¦æ‰¾åˆ°é‚£ä¸ªåå­—ï¼Œå¯èƒ½è¿˜å¾—å¸¦ä¸Šè€èŠ±é•œæ…¢æ…¢æ‰¾ï¼Œæ‰¾åˆ°ä¹‹åå†æ‹¿å‡ºç®—ç›˜è®¡ç®—ï¼Œæœ€åå†å°†ç»“æœå†™å›åˆ°è´¦æœ¬ä¸Šã€‚ è¿™æ•´ä¸ªè¿‡ç¨‹æƒ³æƒ³éƒ½éº»çƒ¦ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œè¿˜æ˜¯å…ˆåœ¨ç²‰æ¿ä¸Šè®°ä¸€ä¸‹æ–¹ä¾¿ã€‚ä½ æƒ³æƒ³ï¼Œå¦‚æœæŒæŸœæ²¡æœ‰ç²‰æ¿çš„å¸®åŠ©ï¼Œæ¯æ¬¡è®°è´¦éƒ½å¾—ç¿»è´¦æœ¬ï¼Œæ•ˆç‡æ˜¯ä¸æ˜¯ä½å¾—è®©äººéš¾ä»¥å¿å—ï¼Ÿ åŒæ ·ï¼Œåœ¨ MySQL é‡Œä¹Ÿæœ‰è¿™ä¸ªé—®é¢˜ï¼Œå¦‚æœæ¯ä¸€æ¬¡çš„æ›´æ–°æ“ä½œéƒ½éœ€è¦å†™è¿›ç£ç›˜ï¼Œç„¶åç£ç›˜ä¹Ÿè¦æ‰¾åˆ°å¯¹åº”çš„é‚£æ¡è®°å½•ï¼Œç„¶åå†æ›´æ–°ï¼Œæ•´ä¸ªè¿‡ç¨‹ IO æˆæœ¬ã€æŸ¥æ‰¾æˆæœ¬éƒ½å¾ˆé«˜ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒMySQL çš„è®¾è®¡è€…å°±ç”¨äº†ç±»ä¼¼é…’åº—æŒæŸœç²‰æ¿çš„æ€è·¯æ¥æå‡æ›´æ–°æ•ˆç‡ã€‚ è€Œç²‰æ¿å’Œè´¦æœ¬é…åˆçš„æ•´ä¸ªè¿‡ç¨‹ï¼Œå…¶å®å°±æ˜¯ MySQL é‡Œç»å¸¸è¯´åˆ°çš„ WAL æŠ€æœ¯ï¼ŒWAL çš„å…¨ç§°æ˜¯ Write-Ahead Loggingï¼Œå®ƒçš„å…³é”®ç‚¹å°±æ˜¯å…ˆå†™æ—¥å¿—ï¼Œå†å†™ç£ç›˜ï¼Œä¹Ÿå°±æ˜¯å…ˆå†™ç²‰æ¿ï¼Œç­‰ä¸å¿™çš„æ—¶å€™å†å†™è´¦æœ¬ã€‚ å…·ä½“æ¥è¯´ï¼Œå½“æœ‰ä¸€æ¡è®°å½•éœ€è¦æ›´æ–°çš„æ—¶å€™ï¼ŒInnoDB å¼•æ“å°±ä¼šå…ˆæŠŠè®°å½•å†™åˆ° redo logï¼ˆç²‰æ¿ï¼‰é‡Œé¢ï¼Œå¹¶æ›´æ–°å†…å­˜ï¼Œè¿™ä¸ªæ—¶å€™æ›´æ–°å°±ç®—å®Œæˆäº†ã€‚åŒæ—¶ï¼ŒInnoDB å¼•æ“ä¼šåœ¨é€‚å½“çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªæ“ä½œè®°å½•æ›´æ–°åˆ°ç£ç›˜é‡Œé¢ï¼Œè€Œè¿™ä¸ªæ›´æ–°å¾€å¾€æ˜¯åœ¨ç³»ç»Ÿæ¯”è¾ƒç©ºé—²çš„æ—¶å€™åšï¼Œè¿™å°±åƒæ‰“çƒŠä»¥åæŒæŸœåšçš„äº‹ã€‚ å¦‚æœä»Šå¤©èµŠè´¦çš„ä¸å¤šï¼ŒæŒæŸœå¯ä»¥ç­‰æ‰“çƒŠåå†æ•´ç†ã€‚ä½†å¦‚æœæŸå¤©èµŠè´¦çš„ç‰¹åˆ«å¤šï¼Œç²‰æ¿å†™æ»¡äº†ï¼Œåˆæ€ä¹ˆåŠå‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™æŒæŸœåªå¥½æ”¾ä¸‹æ‰‹ä¸­çš„æ´»å„¿ï¼ŒæŠŠç²‰æ¿ä¸­çš„ä¸€éƒ¨åˆ†èµŠè´¦è®°å½•æ›´æ–°åˆ°è´¦æœ¬ä¸­ï¼Œç„¶åæŠŠè¿™äº›è®°å½•ä»ç²‰æ¿ä¸Šæ“¦æ‰ï¼Œä¸ºè®°æ–°è´¦è…¾å‡ºç©ºé—´ã€‚ ä¸æ­¤ç±»ä¼¼ï¼ŒInnoDB çš„ redo log æ˜¯å›ºå®šå¤§å°çš„ï¼Œæ¯”å¦‚å¯ä»¥é…ç½®ä¸ºä¸€ç»„ 4 ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶çš„å¤§å°æ˜¯ 1GBï¼Œé‚£ä¹ˆè¿™å—â€œç²‰æ¿â€æ€»å…±å°±å¯ä»¥è®°å½• 4GB çš„æ“ä½œã€‚ä»å¤´å¼€å§‹å†™ï¼Œå†™åˆ°æœ«å°¾å°±åˆå›åˆ°å¼€å¤´å¾ªç¯å†™ï¼Œå¦‚ä¸‹é¢è¿™ä¸ªå›¾æ‰€ç¤ºã€‚ write pos æ˜¯å½“å‰è®°å½•çš„ä½ç½®ï¼Œä¸€è¾¹å†™ä¸€è¾¹åç§»ï¼Œå†™åˆ°ç¬¬ 3 å·æ–‡ä»¶æœ«å°¾åå°±å›åˆ° 0 å·æ–‡ä»¶å¼€å¤´ã€‚checkpoint æ˜¯å½“å‰è¦æ“¦é™¤çš„ä½ç½®ï¼Œä¹Ÿæ˜¯å¾€åæ¨ç§»å¹¶ä¸”å¾ªç¯çš„ï¼Œæ“¦é™¤è®°å½•å‰è¦æŠŠè®°å½•æ›´æ–°åˆ°æ•°æ®æ–‡ä»¶ã€‚ write pos å’Œ checkpoint ä¹‹é—´çš„æ˜¯â€œç²‰æ¿â€ä¸Šè¿˜ç©ºç€çš„éƒ¨åˆ†ï¼Œå¯ä»¥ç”¨æ¥è®°å½•æ–°çš„æ“ä½œã€‚å¦‚æœ write pos è¿½ä¸Š checkpointï¼Œè¡¨ç¤ºâ€œç²‰æ¿â€æ»¡äº†ï¼Œè¿™æ—¶å€™ä¸èƒ½å†æ‰§è¡Œæ–°çš„æ›´æ–°ï¼Œå¾—åœä¸‹æ¥å…ˆæ“¦æ‰ä¸€äº›è®°å½•ï¼ŒæŠŠ checkpoint æ¨è¿›ä¸€ä¸‹ã€‚ æœ‰äº† redo logï¼ŒInnoDB å°±å¯ä»¥ä¿è¯å³ä½¿æ•°æ®åº“å‘ç”Ÿå¼‚å¸¸é‡å¯ï¼Œä¹‹å‰æäº¤çš„è®°å½•éƒ½ä¸ä¼šä¸¢å¤±ï¼Œè¿™ä¸ªèƒ½åŠ›ç§°ä¸º crash-safeã€‚ è¦ç†è§£ crash-safe è¿™ä¸ªæ¦‚å¿µï¼Œå¯ä»¥æƒ³æƒ³æˆ‘ä»¬å‰é¢èµŠè´¦è®°å½•çš„ä¾‹å­ã€‚åªè¦èµŠè´¦è®°å½•è®°åœ¨äº†ç²‰æ¿ä¸Šæˆ–å†™åœ¨äº†è´¦æœ¬ä¸Šï¼Œä¹‹åå³ä½¿æŒæŸœå¿˜è®°äº†ï¼Œæ¯”å¦‚çªç„¶åœä¸šå‡ å¤©ï¼Œæ¢å¤ç”Ÿæ„åä¾ç„¶å¯ä»¥é€šè¿‡è´¦æœ¬å’Œç²‰æ¿ä¸Šçš„æ•°æ®æ˜ç¡®èµŠè´¦è´¦ç›®ã€‚ é‡è¦çš„æ—¥å¿—æ¨¡å—-é€»è¾‘æ—¥å¿—ï¼šbinlogå‰é¢æˆ‘ä»¬è®²è¿‡ï¼ŒMySQL æ•´ä½“æ¥çœ‹ï¼Œå…¶å®å°±æœ‰ä¸¤å—ï¼š ä¸€å—æ˜¯ Server å±‚ï¼Œå®ƒä¸»è¦åšçš„æ˜¯ MySQL åŠŸèƒ½å±‚é¢çš„äº‹æƒ…ï¼› è¿˜æœ‰ä¸€å—æ˜¯å¼•æ“å±‚ï¼Œè´Ÿè´£å­˜å‚¨ç›¸å…³çš„å…·ä½“äº‹å®œã€‚ ä¸Šé¢æˆ‘ä»¬èŠåˆ°çš„ç²‰æ¿ redo log æ˜¯ InnoDB å¼•æ“ç‰¹æœ‰çš„æ—¥å¿—ï¼Œè€Œ Server å±‚ä¹Ÿæœ‰è‡ªå·±çš„æ—¥å¿—ï¼Œç§°ä¸º binlogï¼ˆå½’æ¡£æ—¥å¿—ï¼‰ã€‚ æˆ‘æƒ³ä½ è‚¯å®šä¼šé—®ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰ä¸¤ä»½æ—¥å¿—å‘¢ï¼Ÿ å› ä¸ºæœ€å¼€å§‹ MySQL é‡Œå¹¶æ²¡æœ‰ InnoDB å¼•æ“ã€‚MySQL è‡ªå¸¦çš„å¼•æ“æ˜¯ MyISAMï¼Œä½†æ˜¯ MyISAM æ²¡æœ‰ crash-safe çš„èƒ½åŠ›ï¼Œbinlog æ—¥å¿—åªèƒ½ç”¨äºå½’æ¡£ã€‚è€Œ InnoDB æ˜¯å¦ä¸€ä¸ªå…¬å¸ä»¥æ’ä»¶å½¢å¼å¼•å…¥ MySQL çš„ï¼Œæ—¢ç„¶åªä¾é  binlog æ˜¯æ²¡æœ‰ crash-safe èƒ½åŠ›çš„ï¼Œæ‰€ä»¥ InnoDB ä½¿ç”¨å¦å¤–ä¸€å¥—æ—¥å¿—ç³»ç»Ÿâ€”â€”ä¹Ÿå°±æ˜¯ redo log æ¥å®ç° crash-safe èƒ½åŠ›ã€‚ è¿™ä¸¤ç§æ—¥å¿—æœ‰ä»¥ä¸‹ä¸‰ç‚¹ä¸åŒã€‚ redo log æ˜¯ InnoDB å¼•æ“ç‰¹æœ‰çš„ï¼›binlog æ˜¯ MySQL çš„ Server å±‚å®ç°çš„ï¼Œæ‰€æœ‰å¼•æ“éƒ½å¯ä»¥ä½¿ç”¨ã€‚ redo log æ˜¯ç‰©ç†æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯â€œåœ¨æŸä¸ªæ•°æ®é¡µä¸Šåšäº†ä»€ä¹ˆä¿®æ”¹â€ï¼›binlog æ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯è¿™ä¸ªè¯­å¥çš„åŸå§‹é€»è¾‘ï¼Œæ¯”å¦‚â€œç»™ ID=2 è¿™ä¸€è¡Œçš„ c å­—æ®µåŠ  1 â€ã€‚ redo log æ˜¯å¾ªç¯å†™çš„ï¼Œç©ºé—´å›ºå®šä¼šç”¨å®Œï¼›binlog æ˜¯å¯ä»¥è¿½åŠ å†™å…¥çš„ã€‚â€œè¿½åŠ å†™â€æ˜¯æŒ‡ binlog æ–‡ä»¶å†™åˆ°ä¸€å®šå¤§å°åä¼šåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªï¼Œå¹¶ä¸ä¼šè¦†ç›–ä»¥å‰çš„æ—¥å¿—ã€‚ æœ‰äº†å¯¹è¿™ä¸¤ä¸ªæ—¥å¿—çš„æ¦‚å¿µæ€§ç†è§£ï¼Œæˆ‘ä»¬å†æ¥çœ‹æ‰§è¡Œå™¨å’Œ InnoDB å¼•æ“åœ¨æ‰§è¡Œè¿™ä¸ªç®€å•çš„ update è¯­å¥æ—¶çš„å†…éƒ¨æµç¨‹ã€‚ æ‰§è¡Œå™¨å…ˆæ‰¾å¼•æ“å– ID=2 è¿™ä¸€è¡Œã€‚ID æ˜¯ä¸»é”®ï¼Œå¼•æ“ç›´æ¥ç”¨æ ‘æœç´¢æ‰¾åˆ°è¿™ä¸€è¡Œã€‚å¦‚æœ ID=2 è¿™ä¸€è¡Œæ‰€åœ¨çš„æ•°æ®é¡µæœ¬æ¥å°±åœ¨å†…å­˜ä¸­ï¼Œå°±ç›´æ¥è¿”å›ç»™æ‰§è¡Œå™¨ï¼›å¦åˆ™ï¼Œéœ€è¦å…ˆä»ç£ç›˜è¯»å…¥å†…å­˜ï¼Œç„¶åå†è¿”å›ã€‚ æ‰§è¡Œå™¨æ‹¿åˆ°å¼•æ“ç»™çš„è¡Œæ•°æ®ï¼ŒæŠŠè¿™ä¸ªå€¼åŠ ä¸Š 1ï¼Œæ¯”å¦‚åŸæ¥æ˜¯ Nï¼Œç°åœ¨å°±æ˜¯ N+1ï¼Œå¾—åˆ°æ–°çš„ä¸€è¡Œæ•°æ®ï¼Œå†è°ƒç”¨å¼•æ“æ¥å£å†™å…¥è¿™è¡Œæ–°æ•°æ®ã€‚ å¼•æ“å°†è¿™è¡Œæ–°æ•°æ®æ›´æ–°åˆ°å†…å­˜ä¸­ï¼ŒåŒæ—¶å°†è¿™ä¸ªæ›´æ–°æ“ä½œè®°å½•åˆ° redo log é‡Œé¢ï¼Œæ­¤æ—¶ redo log å¤„äº prepare çŠ¶æ€ã€‚ç„¶åå‘ŠçŸ¥æ‰§è¡Œå™¨æ‰§è¡Œå®Œæˆäº†ï¼Œéšæ—¶å¯ä»¥æäº¤äº‹åŠ¡ã€‚ æ‰§è¡Œå™¨ç”Ÿæˆè¿™ä¸ªæ“ä½œçš„ binlogï¼Œå¹¶æŠŠ binlog å†™å…¥ç£ç›˜ã€‚ æ‰§è¡Œå™¨è°ƒç”¨å¼•æ“çš„æäº¤äº‹åŠ¡æ¥å£ï¼Œå¼•æ“æŠŠåˆšåˆšå†™å…¥çš„ redo log æ”¹æˆæäº¤ï¼ˆcommitï¼‰çŠ¶æ€ï¼Œæ›´æ–°å®Œæˆã€‚ è¿™é‡Œæˆ‘ç»™å‡ºè¿™ä¸ª update è¯­å¥çš„æ‰§è¡Œæµç¨‹å›¾ï¼Œå›¾ä¸­æµ…è‰²æ¡†è¡¨ç¤ºæ˜¯åœ¨ InnoDB å†…éƒ¨æ‰§è¡Œçš„ï¼Œæ·±è‰²æ¡†è¡¨ç¤ºæ˜¯åœ¨æ‰§è¡Œå™¨ä¸­æ‰§è¡Œçš„ã€‚ ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œæœ€åä¸‰æ­¥çœ‹ä¸Šå»æœ‰ç‚¹â€œç»•â€ï¼Œå°† redo log çš„å†™å…¥æ‹†æˆäº†ä¸¤ä¸ªæ­¥éª¤ï¼šprepare å’Œ commitï¼Œè¿™å°±æ˜¯â€ä¸¤é˜¶æ®µæäº¤â€ã€‚ ä¸¤é˜¶æ®µæäº¤ä¸ºä»€ä¹ˆå¿…é¡»æœ‰â€œä¸¤é˜¶æ®µæäº¤â€å‘¢ï¼Ÿè¿™æ˜¯ä¸ºäº†è®©ä¸¤ä»½æ—¥å¿—ä¹‹é—´çš„é€»è¾‘ä¸€è‡´ã€‚è¦è¯´æ˜è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¾—ä»æ–‡ç« å¼€å¤´çš„é‚£ä¸ªé—®é¢˜è¯´èµ·ï¼šæ€æ ·è®©æ•°æ®åº“æ¢å¤åˆ°åŠä¸ªæœˆå†…ä»»æ„ä¸€ç§’çš„çŠ¶æ€ï¼Ÿ å‰é¢æˆ‘ä»¬è¯´è¿‡äº†ï¼Œbinlog ä¼šè®°å½•æ‰€æœ‰çš„é€»è¾‘æ“ä½œï¼Œå¹¶ä¸”æ˜¯é‡‡ç”¨â€œè¿½åŠ å†™â€çš„å½¢å¼ã€‚å¦‚æœä½ çš„ DBA æ‰¿è¯ºè¯´åŠä¸ªæœˆå†…å¯ä»¥æ¢å¤ï¼Œé‚£ä¹ˆå¤‡ä»½ç³»ç»Ÿä¸­ä¸€å®šä¼šä¿å­˜æœ€è¿‘åŠä¸ªæœˆçš„æ‰€æœ‰ binlogï¼ŒåŒæ—¶ç³»ç»Ÿä¼šå®šæœŸåšæ•´åº“å¤‡ä»½ã€‚è¿™é‡Œçš„â€œå®šæœŸâ€å–å†³äºç³»ç»Ÿçš„é‡è¦æ€§ï¼Œå¯ä»¥æ˜¯ä¸€å¤©ä¸€å¤‡ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€å‘¨ä¸€å¤‡ã€‚ å½“éœ€è¦æ¢å¤åˆ°æŒ‡å®šçš„æŸä¸€ç§’æ—¶ï¼Œæ¯”å¦‚æŸå¤©ä¸‹åˆä¸¤ç‚¹å‘ç°ä¸­åˆåäºŒç‚¹æœ‰ä¸€æ¬¡è¯¯åˆ è¡¨ï¼Œéœ€è¦æ‰¾å›æ•°æ®ï¼Œé‚£ä½ å¯ä»¥è¿™ä¹ˆåšï¼š é¦–å…ˆï¼Œæ‰¾åˆ°æœ€è¿‘çš„ä¸€æ¬¡å…¨é‡å¤‡ä»½ï¼Œå¦‚æœä½ è¿æ°”å¥½ï¼Œå¯èƒ½å°±æ˜¯æ˜¨å¤©æ™šä¸Šçš„ä¸€ä¸ªå¤‡ä»½ï¼Œä»è¿™ä¸ªå¤‡ä»½æ¢å¤åˆ°ä¸´æ—¶åº“ï¼› ç„¶åï¼Œä»å¤‡ä»½çš„æ—¶é—´ç‚¹å¼€å§‹ï¼Œå°†å¤‡ä»½çš„ binlog ä¾æ¬¡å–å‡ºæ¥ï¼Œé‡æ”¾åˆ°ä¸­åˆè¯¯åˆ è¡¨ä¹‹å‰çš„é‚£ä¸ªæ—¶åˆ»ã€‚ è¿™æ ·ä½ çš„ä¸´æ—¶åº“å°±è·Ÿè¯¯åˆ ä¹‹å‰çš„çº¿ä¸Šåº“ä¸€æ ·äº†ï¼Œç„¶åä½ å¯ä»¥æŠŠè¡¨æ•°æ®ä»ä¸´æ—¶åº“å–å‡ºæ¥ï¼ŒæŒ‰éœ€è¦æ¢å¤åˆ°çº¿ä¸Šåº“å»ã€‚ å¥½äº†ï¼Œè¯´å®Œäº†æ•°æ®æ¢å¤è¿‡ç¨‹ï¼Œæˆ‘ä»¬å›æ¥è¯´è¯´ï¼Œä¸ºä»€ä¹ˆæ—¥å¿—éœ€è¦â€œä¸¤é˜¶æ®µæäº¤â€ã€‚è¿™é‡Œä¸å¦¨ç”¨åè¯æ³•æ¥è¿›è¡Œè§£é‡Šã€‚ ç”±äº redo log å’Œ binlog æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„é€»è¾‘ï¼Œå¦‚æœä¸ç”¨ä¸¤é˜¶æ®µæäº¤ï¼Œè¦ä¹ˆå°±æ˜¯å…ˆå†™å®Œ redo log å†å†™ binlogï¼Œæˆ–è€…é‡‡ç”¨åè¿‡æ¥çš„é¡ºåºã€‚æˆ‘ä»¬çœ‹çœ‹è¿™ä¸¤ç§æ–¹å¼ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ã€‚ ä»ç„¶ç”¨å‰é¢çš„ update è¯­å¥æ¥åšä¾‹å­ã€‚å‡è®¾å½“å‰ ID=2 çš„è¡Œï¼Œå­—æ®µ c çš„å€¼æ˜¯ 0ï¼Œå†å‡è®¾æ‰§è¡Œ update è¯­å¥è¿‡ç¨‹ä¸­åœ¨å†™å®Œç¬¬ä¸€ä¸ªæ—¥å¿—åï¼Œç¬¬äºŒä¸ªæ—¥å¿—è¿˜æ²¡æœ‰å†™å®ŒæœŸé—´å‘ç”Ÿäº† crashï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿ å…ˆå†™ç‰©ç†æ—¥å¿— redo log åå†™é€»è¾‘æ—¥å¿— binlogã€‚ å‡è®¾åœ¨ redo log å†™å®Œï¼Œbinlog è¿˜æ²¡æœ‰å†™å®Œçš„æ—¶å€™ï¼ŒMySQL è¿›ç¨‹å¼‚å¸¸é‡å¯ã€‚ç”±äºæˆ‘ä»¬å‰é¢è¯´è¿‡çš„ï¼Œredo log å†™å®Œä¹‹åï¼Œç³»ç»Ÿå³ä½¿å´©æºƒï¼Œä»ç„¶èƒ½å¤ŸæŠŠæ•°æ®æ¢å¤å›æ¥ï¼Œæ‰€ä»¥æ¢å¤åè¿™ä¸€è¡Œ c çš„å€¼æ˜¯ 1ã€‚ä½†æ˜¯ç”±äº binlog æ²¡å†™å®Œå°± crash äº†ï¼Œè¿™æ—¶å€™ binlog é‡Œé¢å°±æ²¡æœ‰è®°å½•è¿™ä¸ªè¯­å¥ã€‚å› æ­¤ï¼Œä¹‹åå¤‡ä»½æ—¥å¿—çš„æ—¶å€™ï¼Œå­˜èµ·æ¥çš„ binlog é‡Œé¢å°±æ²¡æœ‰è¿™æ¡è¯­å¥ã€‚ç„¶åä½ ä¼šå‘ç°ï¼Œå¦‚æœéœ€è¦ç”¨è¿™ä¸ª binlog æ¥æ¢å¤ä¸´æ—¶åº“çš„è¯ï¼Œç”±äºè¿™ä¸ªè¯­å¥çš„ binlog ä¸¢å¤±ï¼Œè¿™ä¸ªä¸´æ—¶åº“å°±ä¼šå°‘äº†è¿™ä¸€æ¬¡æ›´æ–°ï¼Œæ¢å¤å‡ºæ¥çš„è¿™ä¸€è¡Œ c çš„å€¼å°±æ˜¯ 0ï¼Œä¸åŸåº“çš„å€¼ä¸åŒã€‚ å…ˆå†™é€»è¾‘æ—¥å¿— binlog åå†™ç‰©ç†æ—¥å¿— redo logã€‚ å¦‚æœåœ¨ binlog å†™å®Œä¹‹å crashï¼Œç”±äº redo log è¿˜æ²¡å†™ï¼Œå´©æºƒæ¢å¤ä»¥åè¿™ä¸ªäº‹åŠ¡æ— æ•ˆï¼Œæ‰€ä»¥è¿™ä¸€è¡Œ c çš„å€¼æ˜¯ 0ã€‚ä½†æ˜¯ binlog é‡Œé¢å·²ç»è®°å½•äº†â€œæŠŠ c ä» 0 æ”¹æˆ 1â€è¿™ä¸ªæ—¥å¿—ã€‚æ‰€ä»¥ï¼Œåœ¨ä¹‹åç”¨ binlog æ¥æ¢å¤çš„æ—¶å€™å°±å¤šäº†ä¸€ä¸ªäº‹åŠ¡å‡ºæ¥ï¼Œæ¢å¤å‡ºæ¥çš„è¿™ä¸€è¡Œ c çš„å€¼å°±æ˜¯ 1ï¼Œä¸åŸåº“çš„å€¼ä¸åŒã€‚ å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœä¸ä½¿ç”¨â€œä¸¤é˜¶æ®µæäº¤â€ï¼Œé‚£ä¹ˆæ•°æ®åº“çš„çŠ¶æ€å°±æœ‰å¯èƒ½å’Œç”¨å®ƒçš„æ—¥å¿—æ¢å¤å‡ºæ¥çš„åº“çš„çŠ¶æ€ä¸ä¸€è‡´ã€‚ä½ å¯èƒ½ä¼šè¯´ï¼Œè¿™ä¸ªæ¦‚ç‡æ˜¯ä¸æ˜¯å¾ˆä½ï¼Œå¹³æ—¶ä¹Ÿæ²¡æœ‰ä»€ä¹ˆåŠ¨ä¸åŠ¨å°±éœ€è¦æ¢å¤ä¸´æ—¶åº“çš„åœºæ™¯å‘€ï¼Ÿ å…¶å®ä¸æ˜¯çš„ï¼Œä¸åªæ˜¯è¯¯æ“ä½œåéœ€è¦ç”¨è¿™ä¸ªè¿‡ç¨‹æ¥æ¢å¤æ•°æ®ã€‚å½“ä½ éœ€è¦æ‰©å®¹çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯éœ€è¦å†å¤šæ­å»ºä¸€äº›å¤‡åº“æ¥å¢åŠ ç³»ç»Ÿçš„è¯»èƒ½åŠ›çš„æ—¶å€™ï¼Œç°åœ¨å¸¸è§çš„åšæ³•ä¹Ÿæ˜¯ç”¨å…¨é‡å¤‡ä»½åŠ ä¸Šåº”ç”¨ binlog æ¥å®ç°çš„ï¼Œè¿™ä¸ªâ€œä¸ä¸€è‡´â€å°±ä¼šå¯¼è‡´ä½ çš„çº¿ä¸Šå‡ºç°ä¸»ä»æ•°æ®åº“ä¸ä¸€è‡´çš„æƒ…å†µã€‚ ç®€å•è¯´ï¼Œredo log å’Œ binlog éƒ½å¯ä»¥ç”¨äºè¡¨ç¤ºäº‹åŠ¡çš„æäº¤çŠ¶æ€ï¼Œè€Œä¸¤é˜¶æ®µæäº¤å°±æ˜¯è®©è¿™ä¸¤ä¸ªçŠ¶æ€ä¿æŒé€»è¾‘ä¸Šçš„ä¸€è‡´ã€‚ æ€»ç»“redo log ç”¨äºä¿è¯ crash-safe èƒ½åŠ› innodb_flush_log_at_trx_commit è¿™ä¸ªå‚æ•°è®¾ç½®æˆ 1 çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„ redo log éƒ½ç›´æ¥æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸ªå‚æ•°å»ºè®®è®¾ç½®æˆ 1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ MySQL å¼‚å¸¸é‡å¯ä¹‹åæ•°æ®ä¸ä¸¢å¤±ã€‚ sync_binlog è¿™ä¸ªå‚æ•°è®¾ç½®æˆ 1 çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡çš„ binlog éƒ½æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸ªå‚æ•°ä¹Ÿå»ºè®®è®¾ç½®æˆ 1ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ MySQL å¼‚å¸¸é‡å¯ä¹‹å binlog ä¸ä¸¢å¤±ã€‚ æœ¬æ–‡ä»‹ç»äº†ä¸ MySQL æ—¥å¿—ç³»ç»Ÿå¯†åˆ‡ç›¸å…³çš„â€œä¸¤é˜¶æ®µæäº¤â€ã€‚ä¸¤é˜¶æ®µæäº¤æ˜¯è·¨ç³»ç»Ÿç»´æŒæ•°æ®é€»è¾‘ä¸€è‡´æ€§æ—¶å¸¸ç”¨çš„ä¸€ä¸ªæ–¹æ¡ˆï¼Œå³ä½¿ä½ ä¸åšæ•°æ®åº“å†…æ ¸å¼€å‘ï¼Œæ—¥å¸¸å¼€å‘ä¸­ä¹Ÿæœ‰å¯èƒ½ä¼šç”¨åˆ°ã€‚","tags":[{"name":"MySQL","slug":"MySQL","permalink":"https://shleyz.github.io/tags/MySQL/"}]},{"title":"01 åŸºç¡€æ¶æ„ï¼šä¸€æ¡SQLæŸ¥è¯¢è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„","date":"2019-10-09T01:55:13.000Z","path":"2019/10/09/01-åŸºç¡€æ¶æ„ï¼šä¸€æ¡SQLæŸ¥è¯¢è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„/","text":"æ¥è‡ª ä¸å¥‡çš„MySQLåŸºç¡€è¯¾ https://time.geekbang.org/column/article/115537 æœ€ç®€å•çš„ä¸€æ¡æŸ¥è¯¢è¯­å¥ï¼š 1mysql&gt; select * from T where ID=10; è¿™æ¡è¯­å¥åœ¨ MySQL å†…éƒ¨çš„æ‰§è¡Œè¿‡ç¨‹æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ å¤§ä½“æ¥è¯´ï¼ŒMySQL å¯ä»¥åˆ†ä¸º Server å±‚å’Œå­˜å‚¨å¼•æ“å±‚ä¸¤éƒ¨åˆ†ã€‚ Server å±‚åŒ…æ‹¬è¿æ¥å™¨ã€æŸ¥è¯¢ç¼“å­˜ã€åˆ†æå™¨ã€ä¼˜åŒ–å™¨ã€æ‰§è¡Œå™¨ç­‰ã€‚æ¶µç›–äº† MySQL çš„å¤§å¤šæ•°æ ¸å¿ƒæœåŠ¡åŠŸèƒ½ï¼Œä»¥åŠæ‰€æœ‰çš„å†…ç½®å‡½æ•°ï¼ˆå¦‚æ—¥æœŸï¼Œæ—¶é—´ï¼Œæ•°å­¦å’ŒåŠ å¯†å‡½æ•°ç­‰ï¼‰ï¼Œæ‰€æœ‰è·¨å­˜å‚¨å¼•æ“çš„åŠŸèƒ½éƒ½åœ¨è¿™ä¸€å±‚å®ç°ã€‚æ¯”å¦‚å­˜å‚¨è¿‡ç¨‹ã€è§¦å‘å™¨ã€è§†å›¾ç­‰ã€‚ å­˜å‚¨å¼•æ“è´Ÿè´£æ•°æ®çš„å­˜å’Œå–ï¼Œå…¶æ¶æ„æ¨¡å¼æ˜¯æ’ä»¶å¼çš„ï¼Œæ”¯æŒ InnoDBã€MyISAMã€Memory ç­‰å¤šä¸ªå­˜å‚¨å¼•æ“ã€‚ç°åœ¨æœ€å¸¸ç”¨çš„å­˜å‚¨å¼•æ“æ˜¯ InnoDBï¼Œå®ƒä» MySQL 5.5.5 ç‰ˆæœ¬å¼€å§‹æˆä¸ºäº†é»˜è®¤å­˜å‚¨å¼•æ“ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ æ‰§è¡Œ create table å»ºè¡¨çš„æ—¶å€™ï¼Œå¦‚æœä¸æŒ‡å®šå¼•æ“ç±»å‹ï¼Œé»˜è®¤ä½¿ç”¨çš„å°±æ˜¯ InnoDBã€‚ä¸è¿‡ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡æŒ‡å®šå­˜å‚¨å¼•æ“çš„ç±»å‹æ¥é€‰æ‹©åˆ«çš„å¼•æ“ï¼Œæ¯”å¦‚åœ¨ create table è¯­å¥ä¸­ä½¿ç”¨ engine=memory, æ¥æŒ‡å®šä½¿ç”¨å†…å­˜å¼•æ“åˆ›å»ºè¡¨ã€‚ä¸åŒå­˜å‚¨å¼•æ“çš„è¡¨æ•°æ®å­˜å–æ–¹å¼ä¸åŒï¼Œæ”¯æŒçš„åŠŸèƒ½ä¹Ÿä¸åŒã€‚ ä»å›¾ä¸­ä¸éš¾çœ‹å‡ºï¼Œä¸åŒçš„å­˜å‚¨å¼•æ“å…±ç”¨ä¸€ä¸ª Server å±‚ï¼Œä¹Ÿå°±æ˜¯ä»è¿æ¥å™¨åˆ°æ‰§è¡Œå™¨çš„éƒ¨åˆ†ã€‚ä½ å¯ä»¥å…ˆå¯¹æ¯ä¸ªç»„ä»¶çš„åå­—æœ‰ä¸ªå°è±¡ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç»“åˆå¼€å¤´æåˆ°çš„é‚£æ¡ SQL è¯­å¥ï¼Œå¸¦ä½ èµ°ä¸€éæ•´ä¸ªæ‰§è¡Œæµç¨‹ï¼Œä¾æ¬¡çœ‹ä¸‹æ¯ä¸ªç»„ä»¶çš„ä½œç”¨ã€‚ è¿æ¥å™¨ç¬¬ä¸€æ­¥ï¼Œå…ˆè¿æ¥åˆ°è¿™ä¸ªæ•°æ®åº“ä¸Šï¼Œè¿æ¥å™¨è´Ÿè´£ä¸å®¢æˆ·ç«¯å»ºç«‹è¿æ¥ã€è·å–æƒé™ã€ç»´æŒå’Œç®¡ç†è¿æ¥ã€‚è¿æ¥å‘½ä»¤ï¼š 1mysql -h$ip -P$port -u$user -p è¾“å®Œå‘½ä»¤ä¹‹åï¼Œä½ å°±éœ€è¦åœ¨äº¤äº’å¯¹è¯é‡Œé¢è¾“å…¥å¯†ç ã€‚è™½ç„¶å¯†ç ä¹Ÿå¯ä»¥ç›´æ¥è·Ÿåœ¨ -p åé¢å†™åœ¨å‘½ä»¤è¡Œä¸­ï¼Œä½†è¿™æ ·å¯èƒ½ä¼šå¯¼è‡´ä½ çš„å¯†ç æ³„éœ²ã€‚å¦‚æœä½ è¿çš„æ˜¯ç”Ÿäº§æœåŠ¡å™¨ï¼Œå¼ºçƒˆå»ºè®®ä½ ä¸è¦è¿™ä¹ˆåšã€‚ è¿æ¥å‘½ä»¤ä¸­çš„ mysql æ˜¯å®¢æˆ·ç«¯å·¥å…·ï¼Œç”¨æ¥è·ŸæœåŠ¡ç«¯å»ºç«‹è¿æ¥ã€‚åœ¨å®Œæˆç»å…¸çš„ TCP æ¡æ‰‹åï¼Œè¿æ¥å™¨å°±è¦å¼€å§‹è®¤è¯ä½ çš„èº«ä»½ï¼Œè¿™ä¸ªæ—¶å€™ç”¨çš„å°±æ˜¯ä½ è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç ã€‚ å¦‚æœç”¨æˆ·åæˆ–å¯†ç ä¸å¯¹ï¼Œä½ å°±ä¼šæ”¶åˆ°ä¸€ä¸ªâ€Access denied for userâ€çš„é”™è¯¯ï¼Œç„¶åå®¢æˆ·ç«¯ç¨‹åºç»“æŸæ‰§è¡Œã€‚ å¦‚æœç”¨æˆ·åå¯†ç è®¤è¯é€šè¿‡ï¼Œè¿æ¥å™¨ä¼šåˆ°æƒé™è¡¨é‡Œé¢æŸ¥å‡ºä½ æ‹¥æœ‰çš„æƒé™ã€‚ä¹‹åï¼Œè¿™ä¸ªè¿æ¥é‡Œé¢çš„æƒé™åˆ¤æ–­é€»è¾‘ï¼Œéƒ½å°†ä¾èµ–äºæ­¤æ—¶è¯»åˆ°çš„æƒé™ã€‚ è¿™å°±æ„å‘³ç€ï¼Œä¸€ä¸ªç”¨æˆ·æˆåŠŸå»ºç«‹è¿æ¥åï¼Œå³ä½¿ä½ ç”¨ç®¡ç†å‘˜è´¦å·å¯¹è¿™ä¸ªç”¨æˆ·çš„æƒé™åšäº†ä¿®æ”¹ï¼Œä¹Ÿä¸ä¼šå½±å“å·²ç»å­˜åœ¨è¿æ¥çš„æƒé™ã€‚ä¿®æ”¹å®Œæˆåï¼Œåªæœ‰å†æ–°å»ºçš„è¿æ¥æ‰ä¼šä½¿ç”¨æ–°çš„æƒé™è®¾ç½®ã€‚ è¿æ¥å®Œæˆåï¼Œå¦‚æœä½ æ²¡æœ‰åç»­çš„åŠ¨ä½œï¼Œè¿™ä¸ªè¿æ¥å°±å¤„äºç©ºé—²çŠ¶æ€ï¼Œä½ å¯ä»¥åœ¨ show processlist å‘½ä»¤ä¸­çœ‹åˆ°å®ƒã€‚æ–‡æœ¬ä¸­è¿™ä¸ªå›¾æ˜¯ show processlist çš„ç»“æœï¼Œå…¶ä¸­çš„ Command åˆ—æ˜¾ç¤ºä¸ºâ€œSleepâ€çš„è¿™ä¸€è¡Œï¼Œå°±è¡¨ç¤ºç°åœ¨ç³»ç»Ÿé‡Œé¢æœ‰ä¸€ä¸ªç©ºé—²è¿æ¥ã€‚ å®¢æˆ·ç«¯å¦‚æœå¤ªé•¿æ—¶é—´æ²¡åŠ¨é™ï¼Œè¿æ¥å™¨å°±ä¼šè‡ªåŠ¨å°†å®ƒæ–­å¼€ã€‚è¿™ä¸ªæ—¶é—´æ˜¯ç”±å‚æ•° wait_timeout æ§åˆ¶çš„ï¼Œé»˜è®¤å€¼æ˜¯ 8 å°æ—¶ã€‚å¦‚æœåœ¨è¿æ¥è¢«æ–­å¼€ä¹‹åï¼Œå®¢æˆ·ç«¯å†æ¬¡å‘é€è¯·æ±‚çš„è¯ï¼Œå°±ä¼šæ”¶åˆ°ä¸€ä¸ªé”™è¯¯æé†’ï¼š1Lost connection to MySQL server during queryã€‚ è¿™æ—¶å€™å¦‚æœä½ è¦ç»§ç»­ï¼Œå°±éœ€è¦é‡è¿ï¼Œç„¶åå†æ‰§è¡Œè¯·æ±‚äº†ã€‚ æ•°æ®åº“é‡Œé¢ï¼Œé•¿è¿æ¥æ˜¯æŒ‡è¿æ¥æˆåŠŸåï¼Œå¦‚æœå®¢æˆ·ç«¯æŒç»­æœ‰è¯·æ±‚ï¼Œåˆ™ä¸€ç›´ä½¿ç”¨åŒä¸€ä¸ªè¿æ¥ã€‚çŸ­è¿æ¥åˆ™æ˜¯æŒ‡æ¯æ¬¡æ‰§è¡Œå®Œå¾ˆå°‘çš„å‡ æ¬¡æŸ¥è¯¢å°±æ–­å¼€è¿æ¥ï¼Œä¸‹æ¬¡æŸ¥è¯¢å†é‡æ–°å»ºç«‹ä¸€ä¸ªã€‚å»ºç«‹è¿æ¥çš„è¿‡ç¨‹é€šå¸¸æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œæ‰€ä»¥æˆ‘å»ºè®®ä½ åœ¨ä½¿ç”¨ä¸­è¦å°½é‡å‡å°‘å»ºç«‹è¿æ¥çš„åŠ¨ä½œï¼Œä¹Ÿå°±æ˜¯å°½é‡ä½¿ç”¨é•¿è¿æ¥ã€‚ ä½†æ˜¯å…¨éƒ¨ä½¿ç”¨é•¿è¿æ¥åï¼Œä½ å¯èƒ½ä¼šå‘ç°ï¼Œæœ‰äº›æ—¶å€™ MySQL å ç”¨å†…å­˜æ¶¨å¾—ç‰¹åˆ«å¿«ï¼Œè¿™æ˜¯å› ä¸º MySQL åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸´æ—¶ä½¿ç”¨çš„å†…å­˜æ˜¯ç®¡ç†åœ¨è¿æ¥å¯¹è±¡é‡Œé¢çš„ã€‚è¿™äº›èµ„æºä¼šåœ¨è¿æ¥æ–­å¼€çš„æ—¶å€™æ‰é‡Šæ”¾ã€‚æ‰€ä»¥å¦‚æœé•¿è¿æ¥ç´¯ç§¯ä¸‹æ¥ï¼Œå¯èƒ½å¯¼è‡´å†…å­˜å ç”¨å¤ªå¤§ï¼Œè¢«ç³»ç»Ÿå¼ºè¡Œæ€æ‰ï¼ˆOOMï¼‰ï¼Œä»ç°è±¡çœ‹å°±æ˜¯ MySQL å¼‚å¸¸é‡å¯äº†ã€‚æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿä½ å¯ä»¥è€ƒè™‘ä»¥ä¸‹ä¸¤ç§æ–¹æ¡ˆã€‚å®šæœŸæ–­å¼€é•¿è¿æ¥ã€‚ä½¿ç”¨ä¸€æ®µæ—¶é—´ï¼Œæˆ–è€…ç¨‹åºé‡Œé¢åˆ¤æ–­æ‰§è¡Œè¿‡ä¸€ä¸ªå ç”¨å†…å­˜çš„å¤§æŸ¥è¯¢åï¼Œæ–­å¼€è¿æ¥ï¼Œä¹‹åè¦æŸ¥è¯¢å†é‡è¿ã€‚å¦‚æœä½ ç”¨çš„æ˜¯ MySQL 5.7 æˆ–æ›´æ–°ç‰ˆæœ¬ï¼Œå¯ä»¥åœ¨æ¯æ¬¡æ‰§è¡Œä¸€ä¸ªæ¯”è¾ƒå¤§çš„æ“ä½œåï¼Œé€šè¿‡æ‰§è¡Œ mysql_reset_connection æ¥é‡æ–°åˆå§‹åŒ–è¿æ¥èµ„æºã€‚è¿™ä¸ªè¿‡ç¨‹ä¸éœ€è¦é‡è¿å’Œé‡æ–°åšæƒé™éªŒè¯ï¼Œä½†æ˜¯ä¼šå°†è¿æ¥æ¢å¤åˆ°åˆšåˆšåˆ›å»ºå®Œæ—¶çš„çŠ¶æ€ã€‚ æŸ¥è¯¢ç¼“å­˜è¿æ¥å»ºç«‹å®Œæˆåï¼Œä½ å°±å¯ä»¥æ‰§è¡Œ select è¯­å¥äº†ã€‚æ‰§è¡Œé€»è¾‘å°±ä¼šæ¥åˆ°ç¬¬äºŒæ­¥ï¼šæŸ¥è¯¢ç¼“å­˜ã€‚ MySQL æ‹¿åˆ°ä¸€ä¸ªæŸ¥è¯¢è¯·æ±‚åï¼Œä¼šå…ˆåˆ°æŸ¥è¯¢ç¼“å­˜çœ‹çœ‹ï¼Œä¹‹å‰æ˜¯ä¸æ˜¯æ‰§è¡Œè¿‡è¿™æ¡è¯­å¥ã€‚ä¹‹å‰æ‰§è¡Œè¿‡çš„è¯­å¥åŠå…¶ç»“æœå¯èƒ½ä¼šä»¥ key-value å¯¹çš„å½¢å¼ï¼Œè¢«ç›´æ¥ç¼“å­˜åœ¨å†…å­˜ä¸­ã€‚ key æ˜¯æŸ¥è¯¢çš„è¯­å¥ï¼Œvalue æ˜¯æŸ¥è¯¢çš„ç»“æœã€‚å¦‚æœä½ çš„æŸ¥è¯¢èƒ½å¤Ÿç›´æ¥åœ¨è¿™ä¸ªç¼“å­˜ä¸­æ‰¾åˆ° keyï¼Œé‚£ä¹ˆè¿™ä¸ª value å°±ä¼šè¢«ç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯ã€‚ å¦‚æœè¯­å¥ä¸åœ¨æŸ¥è¯¢ç¼“å­˜ä¸­ï¼Œå°±ä¼šç»§ç»­åé¢çš„æ‰§è¡Œé˜¶æ®µã€‚æ‰§è¡Œå®Œæˆåï¼Œæ‰§è¡Œç»“æœä¼šè¢«å­˜å…¥æŸ¥è¯¢ç¼“å­˜ä¸­ã€‚ä½ å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæŸ¥è¯¢å‘½ä¸­ç¼“å­˜ï¼ŒMySQL ä¸éœ€è¦æ‰§è¡Œåé¢çš„å¤æ‚æ“ä½œï¼Œå°±å¯ä»¥ç›´æ¥è¿”å›ç»“æœï¼Œè¿™ä¸ªæ•ˆç‡ä¼šå¾ˆé«˜ã€‚ ä½†æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹æˆ‘ä¼šå»ºè®®ä½ ä¸è¦ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºæŸ¥è¯¢ç¼“å­˜å¾€å¾€å¼Šå¤§äºåˆ©ã€‚ æŸ¥è¯¢ç¼“å­˜çš„å¤±æ•ˆéå¸¸é¢‘ç¹ï¼Œåªè¦æœ‰å¯¹ä¸€ä¸ªè¡¨çš„æ›´æ–°ï¼Œè¿™ä¸ªè¡¨ä¸Šæ‰€æœ‰çš„æŸ¥è¯¢ç¼“å­˜éƒ½ä¼šè¢«æ¸…ç©ºã€‚å› æ­¤å¾ˆå¯èƒ½ä½ è´¹åŠ²åœ°æŠŠç»“æœå­˜èµ·æ¥ï¼Œè¿˜æ²¡ä½¿ç”¨å‘¢ï¼Œå°±è¢«ä¸€ä¸ªæ›´æ–°å…¨æ¸…ç©ºäº†ã€‚å¯¹äºæ›´æ–°å‹åŠ›å¤§çš„æ•°æ®åº“æ¥è¯´ï¼ŒæŸ¥è¯¢ç¼“å­˜çš„å‘½ä¸­ç‡ä¼šéå¸¸ä½ã€‚é™¤éä½ çš„ä¸šåŠ¡å°±æ˜¯æœ‰ä¸€å¼ é™æ€è¡¨ï¼Œå¾ˆé•¿æ—¶é—´æ‰ä¼šæ›´æ–°ä¸€æ¬¡ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªç³»ç»Ÿé…ç½®è¡¨ï¼Œé‚£è¿™å¼ è¡¨ä¸Šçš„æŸ¥è¯¢æ‰é€‚åˆä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ã€‚ å¥½åœ¨ MySQL ä¹Ÿæä¾›äº†è¿™ç§â€œæŒ‰éœ€ä½¿ç”¨â€çš„æ–¹å¼ã€‚ä½ å¯ä»¥å°†å‚æ•° query_cache_type è®¾ç½®æˆ DEMANDï¼Œè¿™æ ·å¯¹äºé»˜è®¤çš„ SQL è¯­å¥éƒ½ä¸ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ã€‚è€Œå¯¹äºä½ ç¡®å®šè¦ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜çš„è¯­å¥ï¼Œå¯ä»¥ç”¨ SQL_CACHE æ˜¾å¼æŒ‡å®šï¼Œåƒä¸‹é¢è¿™ä¸ªè¯­å¥ä¸€æ ·ï¼š 1mysql&gt; select SQL_CACHE * from T where ID=10ï¼› éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒMySQL 8.0 ç‰ˆæœ¬ç›´æ¥å°†æŸ¥è¯¢ç¼“å­˜çš„æ•´å—åŠŸèƒ½åˆ æ‰äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ 8.0 å¼€å§‹å½»åº•æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½äº†ã€‚ åˆ†æå™¨å¦‚æœæ²¡æœ‰å‘½ä¸­æŸ¥è¯¢ç¼“å­˜ï¼Œå°±è¦å¼€å§‹çœŸæ­£æ‰§è¡Œè¯­å¥äº†ã€‚é¦–å…ˆï¼ŒMySQL éœ€è¦çŸ¥é“ä½ è¦åšä»€ä¹ˆï¼Œå› æ­¤éœ€è¦å¯¹ SQL è¯­å¥åšè§£æã€‚ åˆ†æå™¨å…ˆä¼šåšè¯æ³•åˆ†æã€‚ä½ è¾“å…¥çš„æ˜¯ç”±å¤šä¸ªå­—ç¬¦ä¸²å’Œç©ºæ ¼ç»„æˆçš„ä¸€æ¡ SQL è¯­å¥ï¼ŒMySQL éœ€è¦è¯†åˆ«å‡ºé‡Œé¢çš„å­—ç¬¦ä¸²åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œä»£è¡¨ä»€ä¹ˆã€‚ MySQL ä»ä½ è¾“å…¥çš„â€selectâ€è¿™ä¸ªå…³é”®å­—è¯†åˆ«å‡ºæ¥ï¼Œè¿™æ˜¯ä¸€ä¸ªæŸ¥è¯¢è¯­å¥ã€‚å®ƒä¹Ÿè¦æŠŠå­—ç¬¦ä¸²â€œTâ€è¯†åˆ«æˆâ€œè¡¨å Tâ€ï¼ŒæŠŠå­—ç¬¦ä¸²â€œIDâ€è¯†åˆ«æˆâ€œåˆ— IDâ€ã€‚ åšå®Œäº†è¿™äº›è¯†åˆ«ä»¥åï¼Œå°±è¦åšè¯­æ³•åˆ†æã€‚æ ¹æ®è¯æ³•åˆ†æçš„ç»“æœï¼Œè¯­æ³•åˆ†æå™¨ä¼šæ ¹æ®è¯­æ³•è§„åˆ™ï¼Œåˆ¤æ–­ä½ è¾“å…¥çš„è¿™ä¸ª SQL è¯­å¥æ˜¯å¦æ»¡è¶³ MySQL è¯­æ³•ã€‚ å¦‚æœä½ çš„è¯­å¥ä¸å¯¹ï¼Œå°±ä¼šæ”¶åˆ°â€œYou have an error in your SQL syntaxâ€çš„é”™è¯¯æé†’ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªè¯­å¥ select å°‘æ‰“äº†å¼€å¤´çš„å­—æ¯â€œsâ€ã€‚ 1234mysql&gt; elect * from t where ID=1;ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'elect * from t where ID=1' at line 1 ä¸€èˆ¬è¯­æ³•é”™è¯¯ä¼šæç¤ºç¬¬ä¸€ä¸ªå‡ºç°é”™è¯¯çš„ä½ç½®ï¼Œæ‰€ä»¥ä½ è¦å…³æ³¨çš„æ˜¯ç´§æ¥â€œuse nearâ€çš„å†…å®¹ã€‚ ä¼˜åŒ–å™¨ç»è¿‡äº†åˆ†æå™¨ï¼ŒMySQL å°±çŸ¥é“ä½ è¦åšä»€ä¹ˆäº†ã€‚åœ¨å¼€å§‹æ‰§è¡Œä¹‹å‰ï¼Œè¿˜è¦å…ˆç»è¿‡ä¼˜åŒ–å™¨çš„å¤„ç†ã€‚ ä¼˜åŒ–å™¨æ˜¯åœ¨è¡¨é‡Œé¢æœ‰å¤šä¸ªç´¢å¼•çš„æ—¶å€™ï¼Œå†³å®šä½¿ç”¨å“ªä¸ªç´¢å¼•ï¼›æˆ–è€…åœ¨ä¸€ä¸ªè¯­å¥æœ‰å¤šè¡¨å…³è”ï¼ˆjoinï¼‰çš„æ—¶å€™ï¼Œå†³å®šå„ä¸ªè¡¨çš„è¿æ¥é¡ºåºã€‚æ¯”å¦‚ä½ æ‰§è¡Œä¸‹é¢è¿™æ ·çš„è¯­å¥ï¼Œè¿™ä¸ªè¯­å¥æ˜¯æ‰§è¡Œä¸¤ä¸ªè¡¨çš„ joinï¼š 1mysql&gt; select * from t1 join t2 using(ID) where t1.c=10 and t2.d=20; æ—¢å¯ä»¥å…ˆä»è¡¨ t1 é‡Œé¢å–å‡º c=10 çš„è®°å½•çš„ ID å€¼ï¼Œå†æ ¹æ® ID å€¼å…³è”åˆ°è¡¨ t2ï¼Œå†åˆ¤æ–­ t2 é‡Œé¢ d çš„å€¼æ˜¯å¦ç­‰äº 20ã€‚ ä¹Ÿå¯ä»¥å…ˆä»è¡¨ t2 é‡Œé¢å–å‡º d=20 çš„è®°å½•çš„ ID å€¼ï¼Œå†æ ¹æ® ID å€¼å…³è”åˆ° t1ï¼Œå†åˆ¤æ–­ t1 é‡Œé¢ c çš„å€¼æ˜¯å¦ç­‰äº 10ã€‚ è¿™ä¸¤ç§æ‰§è¡Œæ–¹æ³•çš„é€»è¾‘ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æ‰§è¡Œçš„æ•ˆç‡ä¼šæœ‰ä¸åŒï¼Œè€Œä¼˜åŒ–å™¨çš„ä½œç”¨å°±æ˜¯å†³å®šé€‰æ‹©ä½¿ç”¨å“ªä¸€ä¸ªæ–¹æ¡ˆã€‚ ä¼˜åŒ–å™¨é˜¶æ®µå®Œæˆåï¼Œè¿™ä¸ªè¯­å¥çš„æ‰§è¡Œæ–¹æ¡ˆå°±ç¡®å®šä¸‹æ¥äº†ï¼Œç„¶åè¿›å…¥æ‰§è¡Œå™¨é˜¶æ®µã€‚å¦‚æœä½ è¿˜æœ‰ä¸€äº›ç–‘é—®ï¼Œæ¯”å¦‚ä¼˜åŒ–å™¨æ˜¯æ€ä¹ˆé€‰æ‹©ç´¢å¼•çš„ï¼Œæœ‰æ²¡æœ‰å¯èƒ½é€‰æ‹©é”™ç­‰ç­‰ï¼Œæ²¡å…³ç³»ï¼Œæˆ‘ä¼šåœ¨åé¢çš„æ–‡ç« ä¸­å•ç‹¬å±•å¼€è¯´æ˜ä¼˜åŒ–å™¨çš„å†…å®¹ã€‚ æ‰§è¡Œå™¨MySQL é€šè¿‡åˆ†æå™¨çŸ¥é“äº†ä½ è¦åšä»€ä¹ˆï¼Œé€šè¿‡ä¼˜åŒ–å™¨çŸ¥é“äº†è¯¥æ€ä¹ˆåšï¼Œäºæ˜¯å°±è¿›å…¥äº†æ‰§è¡Œå™¨é˜¶æ®µï¼Œå¼€å§‹æ‰§è¡Œè¯­å¥ã€‚ å¼€å§‹æ‰§è¡Œçš„æ—¶å€™ï¼Œè¦å…ˆåˆ¤æ–­ä¸€ä¸‹ä½ å¯¹è¿™ä¸ªè¡¨ T æœ‰æ²¡æœ‰æ‰§è¡ŒæŸ¥è¯¢çš„æƒé™ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±ä¼šè¿”å›æ²¡æœ‰æƒé™çš„é”™è¯¯ï¼Œå¦‚ä¸‹æ‰€ç¤º (åœ¨å·¥ç¨‹å®ç°ä¸Šï¼Œå¦‚æœå‘½ä¸­æŸ¥è¯¢ç¼“å­˜ï¼Œä¼šåœ¨æŸ¥è¯¢ç¼“å­˜è¿”å›ç»“æœçš„æ—¶å€™ï¼Œåšæƒé™éªŒè¯ã€‚æŸ¥è¯¢ä¹Ÿä¼šåœ¨ä¼˜åŒ–å™¨ä¹‹å‰è°ƒç”¨ precheck éªŒè¯æƒé™)ã€‚ 1234mysql&gt; select * from T where ID=10;ERROR 1142 (42000): SELECT command denied to user 'b'@'localhost' for table 'T' å¦‚æœæœ‰æƒé™ï¼Œå°±æ‰“å¼€è¡¨ç»§ç»­æ‰§è¡Œã€‚æ‰“å¼€è¡¨çš„æ—¶å€™ï¼Œæ‰§è¡Œå™¨å°±ä¼šæ ¹æ®è¡¨çš„å¼•æ“å®šä¹‰ï¼Œå»ä½¿ç”¨è¿™ä¸ªå¼•æ“æä¾›çš„æ¥å£ã€‚ æ¯”å¦‚æˆ‘ä»¬è¿™ä¸ªä¾‹å­ä¸­çš„è¡¨ T ä¸­ï¼ŒID å­—æ®µæ²¡æœ‰ç´¢å¼•ï¼Œé‚£ä¹ˆæ‰§è¡Œå™¨çš„æ‰§è¡Œæµç¨‹æ˜¯è¿™æ ·çš„ï¼š è°ƒç”¨ InnoDB å¼•æ“æ¥å£å–è¿™ä¸ªè¡¨çš„ç¬¬ä¸€è¡Œï¼Œåˆ¤æ–­ ID å€¼æ˜¯ä¸æ˜¯ 10ï¼Œå¦‚æœä¸æ˜¯åˆ™è·³è¿‡ï¼Œå¦‚æœæ˜¯åˆ™å°†è¿™è¡Œå­˜åœ¨ç»“æœé›†ä¸­ï¼› è°ƒç”¨å¼•æ“æ¥å£å–â€œä¸‹ä¸€è¡Œâ€ï¼Œé‡å¤ç›¸åŒçš„åˆ¤æ–­é€»è¾‘ï¼Œç›´åˆ°å–åˆ°è¿™ä¸ªè¡¨çš„æœ€åä¸€è¡Œã€‚ æ‰§è¡Œå™¨å°†ä¸Šè¿°éå†è¿‡ç¨‹ä¸­æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„è¡Œç»„æˆçš„è®°å½•é›†ä½œä¸ºç»“æœé›†è¿”å›ç»™å®¢æˆ·ç«¯ã€‚ è‡³æ­¤ï¼Œè¿™ä¸ªè¯­å¥å°±æ‰§è¡Œå®Œæˆäº†ã€‚ å¯¹äºæœ‰ç´¢å¼•çš„è¡¨ï¼Œæ‰§è¡Œçš„é€»è¾‘ä¹Ÿå·®ä¸å¤šã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ˜¯â€œå–æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€è¡Œâ€è¿™ä¸ªæ¥å£ï¼Œä¹‹åå¾ªç¯å–â€œæ»¡è¶³æ¡ä»¶çš„ä¸‹ä¸€è¡Œâ€è¿™ä¸ªæ¥å£ï¼Œè¿™äº›æ¥å£éƒ½æ˜¯å¼•æ“ä¸­å·²ç»å®šä¹‰å¥½çš„ã€‚ ä½ ä¼šåœ¨æ•°æ®åº“çš„æ…¢æŸ¥è¯¢æ—¥å¿—ä¸­çœ‹åˆ°ä¸€ä¸ª rows_examined çš„å­—æ®µï¼Œè¡¨ç¤ºè¿™ä¸ªè¯­å¥æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰«æäº†å¤šå°‘è¡Œã€‚è¿™ä¸ªå€¼å°±æ˜¯åœ¨æ‰§è¡Œå™¨æ¯æ¬¡è°ƒç”¨å¼•æ“è·å–æ•°æ®è¡Œçš„æ—¶å€™ç´¯åŠ çš„ã€‚ åœ¨æœ‰äº›åœºæ™¯ä¸‹ï¼Œæ‰§è¡Œå™¨è°ƒç”¨ä¸€æ¬¡ï¼Œåœ¨å¼•æ“å†…éƒ¨åˆ™æ‰«æäº†å¤šè¡Œï¼Œå› æ­¤å¼•æ“æ‰«æè¡Œæ•°è·Ÿ rows_examined å¹¶ä¸æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚æˆ‘ä»¬åé¢ä¼šä¸“é—¨æœ‰ä¸€ç¯‡æ–‡ç« æ¥è®²å­˜å‚¨å¼•æ“çš„å†…éƒ¨æœºåˆ¶ï¼Œé‡Œé¢ä¼šæœ‰è¯¦ç»†çš„è¯´æ˜ã€‚","tags":[{"name":"MySQL","slug":"MySQL","permalink":"https://shleyz.github.io/tags/MySQL/"}]},{"title":"nginx å¯ç”¨websocketè¿æ¥","date":"2019-09-02T06:11:22.000Z","path":"2019/09/02/nginx-å¯ç”¨websocketè¿æ¥/","text":"nginxé…ç½®wsä»£ç†12345678910111213141516171819server &#123; listen 8888; server_name XXXXXXXX; location /api &#123; proxy_pass http://XXX.XXX.XX.XX:XXXX/; &#125; // å¯ç”¨æ”¯æŒwebsocketè¿æ¥ location /ws &#123; proxy_pass http://XXX.XXX.XX.XX:XXXX/; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \"upgrade\"; &#125; location / &#123; root /root/www/XXX; index index.html index.htm; try_files $uri $uri/ /index.html; &#125;&#125; æœ¬åœ°webpacké…ç½®wsä»£ç†:1234567\"/ws\": &#123; changeOrigin: true, ws: true, pathRewrite: &#123; \"/ws\": \"/\" &#125;&#125;,","tags":[{"name":"nginx","slug":"nginx","permalink":"https://shleyz.github.io/tags/nginx/"}]},{"title":"å‰ç«¯ä¼˜åŒ–æ€»ç»“","date":"2019-08-21T12:10:04.000Z","path":"2019/08/21/å‰ç«¯ä¼˜åŒ–æ€»ç»“/","text":"dns é¢„è§£æ DNS å…¨ç§°ä¸º Domain Name Systemï¼Œå³åŸŸåç³»ç»Ÿï¼Œæ˜¯åŸŸåå’Œ IP åœ°å€ç›¸äº’æ˜ å°„çš„ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ã€‚ æµè§ˆå™¨å¯¹ç½‘ç«™ç¬¬ä¸€æ¬¡çš„åŸŸå DNS è§£ææŸ¥æ‰¾æµç¨‹ä¾æ¬¡ä¸ºï¼šæµè§ˆå™¨ç¼“å­˜ - ç³»ç»Ÿç¼“å­˜ - è·¯ç”±å™¨ç¼“å­˜ - ISP DNS ç¼“å­˜ - é€’å½’æœç´¢ DNS é¢„è§£ææ˜¯æµè§ˆå™¨è¯•å›¾åœ¨ç”¨æˆ·è®¿é—®é“¾æ¥ä¹‹å‰è§£æåŸŸåï¼Œè¿™æ˜¯è®¡ç®—æœºçš„æ­£å¸¸ DNS è§£ææœºåˆ¶ã€‚ x-DNS-Prefetch-Control å¤´æ§åˆ¶ç€æµè§ˆå™¨çš„ DNS é¢„è§£æåŠŸèƒ½ X-DNS_prefetch-Control: on|off onï¼šå¯ç”¨ DNS é¢„è§£æã€‚åœ¨æµè§ˆå™¨æ”¯æŒ DNS é¢„è§£æçš„ç‰¹æ€§æ—¶åŠæ—¶ä¸é€‚ç”¨è¯¥æ ‡ç­¾æµè§ˆå™¨ä¾ç„¶ä¼šè¿›è¡Œé¢„è§£æã€‚offï¼šå…³é—­ DNS é¢„è§£æã€‚è¿™ä¸ªå±æ€§åœ¨é¡µé¢ä¸Šçš„é“¾æ¥å¹¶ä¸æ˜¯ç”±ä½ æ§åˆ¶çš„æˆ–æ˜¯ä½ æ ¹æœ¬ä¸æƒ³å‘è¿™äº›åŸŸåå¼•å¯¼æ•°æ®æ—¶éå¸¸æœ‰ç”¨ã€‚ 12// æ‰“å¼€å’Œå…³é—­DNSé¢„è¯»å–&lt;meta http-equiv=\"x-dns-prefetch-control\" content=\"on\"&gt; 12// å¼ºåˆ¶æŸ¥è¯¢ç‰¹å®šä¸»æœºå&lt;link ref=\"dns-prefetch\" href=\"//hm.baidu.com\"&gt; æœåŠ¡ç«¯é¿å…è¿”å›é‡å®šå‘ï¼ˆä¸æ˜¯ç¼“å­˜é‡å®šå‘ï¼‰ å¦‚æœæœåŠ¡å™¨è¿”å›äº†è·³è½¬é‡å®šå‘ï¼ˆéç¼“å­˜é‡å®šå‘ï¼‰ï¼Œé‚£ä¹ˆæµè§ˆå™¨ç«¯å°±ä¼šå‘æ–°çš„ URL åœ°å€é‡æ–°èµ°ä¸€é DNS è§£æå’Œå»ºç«‹è¿æ¥ã€‚æ‰€ä»¥åº”è¯¥é¿å…ä¸å¿…è¦çš„é‡å®šå‘ é™æ€èµ„æºæœåŠ¡å™¨ cdn å‡å°‘é¡µé¢ä¸­çš„è¯·æ±‚æ•°é‡ gzip å¯¹å“åº”ä½“è¿›è¡Œå‹ç¼©ï¼Œå¯å‡å°‘ 70%å¤§å°æ•°æ® å‡å°‘ cookie çš„ä½¿ç”¨ å›¾ç‰‡æ ¼å¼ åˆç†ä½¿ç”¨ç¼“å­˜ ç®€åŒ– dom ç»“æ„ å‡å°‘ DOM æ ‘å’Œæ¸²æŸ“æ ‘æ„å»ºæˆæœ¬ï¼Œå‡å°‘é¡µé¢å…ƒç´ ä¸ªæ•° js è„šæœ¬æ”¾åœ¨ body æœ€åé¢ï¼Œä¸è¦é˜»å¡å…¶ä»–è¿‡ç¨‹ å‡å°‘ä¸å¿…è¦çš„ dom æ“ä½œï¼Œ ä¾‹å¦‚ä¿®æ”¹ classname è€Œä¸æ˜¯ä¿®æ”¹ styleï¼Œå‡å°‘å¯¹é‡æ’å’Œé‡ç»˜çš„è§¦å‘ å°† css æ”¾å…¥ head ä¸­ï¼Œæå‰åŠ è½½ ä½¿ç”¨æ›´é«˜æ€§èƒ½çš„ css æ ·å¼ï¼Œä¾‹å¦‚ flex æ›¿ä»£ float åˆç†ä½¿ç”¨ absolute ç­‰è„±ç¦»æ–‡æ¡£æµ å¯¹é¡µé¢æŸäº›æ•°æ® storage å­˜å‚¨ åŠ è½½è¿›åº¦ã€éª¨æ¶å›¾ã€å ä½å›¾ç­‰ç±»ä¼¼è®©ç”¨æˆ·æ„Ÿè§‰å¥½ä¸€ç‚¹çš„æªæ–½","tags":[]},{"title":"Restful APIæ€»ç»“","date":"2019-07-22T02:54:40.000Z","path":"2019/07/22/Restful-APIæ€»ç»“/","text":"Restful æ˜¯ç›®å‰æœ€æµè¡Œçš„ API è®¾è®¡è§„èŒƒï¼Œ ç”¨äº web æ¥å£è®¾è®¡ã€‚ 1 URL è®¾è®¡Restful çš„æ ¸å¿ƒå°±æ˜¯å®¢æˆ·ç«¯å‘å‡ºçš„æ•°æ®æ“ä½œæŒ‡ä»¤éƒ½æ˜¯ â€œåŠ¨è¯ + å®¾è¯­â€ çš„å½¢å¼ 1.1 åŠ¨è¯é€šå¸¸æ˜¯äº”ç§ http æ–¹æ³•ï¼Œå¯¹åº” curd æ“ä½œ GETï¼šè¯»å–ï¼ˆReadï¼‰ POSTï¼šæ–°å»ºï¼ˆCreateï¼‰ PUTï¼šæ›´æ–°ï¼ˆUpdateï¼‰ PATCHï¼šæ›´æ–°ï¼ˆUpdateï¼‰ï¼Œé€šå¸¸æ˜¯éƒ¨åˆ†æ›´æ–° DELETEï¼šåˆ é™¤ï¼ˆDeleteï¼‰ 1.2 åŠ¨è¯çš„è¦†ç›–æœ‰äº›å®¢æˆ·ç«¯åªèƒ½ä½¿ç”¨ GET å’Œ POST è¿™ä¸¤ç§æ–¹æ³•ï¼ŒæœåŠ¡å™¨å¿…é¡»æ¥å— POST æ¨¡æ‹Ÿå…¶ä»–ä¸‰ä¸ªæ–¹æ³•ï¼ˆPUTã€PATCHã€DELETEï¼‰ã€‚ è¿™æ—¶ï¼Œå®¢æˆ·ç«¯å‘å‡ºçš„ HTTP è¯·æ±‚ï¼Œè¦åŠ ä¸Š X-HTTP-Method-Override å±æ€§ï¼Œå‘Šè¯‰æœåŠ¡å™¨åº”è¯¥ä½¿ç”¨å“ªä¸€ä¸ªåŠ¨è¯ï¼Œè¦†ç›– POST æ–¹æ³•ã€‚ 12POST /api/Person/4 HTTP/1.1X-HTTP-Method-Override: PUT ä¸Šé¢ä»£ç ä¸­ï¼ŒX-HTTP-Method-Override æŒ‡å®šæœ¬æ¬¡è¯·æ±‚çš„æ–¹æ³•æ˜¯ PUTï¼Œè€Œä¸æ˜¯ POSTã€‚ 1.3 å®¾è¯­å¿…é¡»æ˜¯åè¯å®¾è¯­å°±æ˜¯ API çš„ URLï¼Œæ˜¯ HTTP åŠ¨è¯ä½œç”¨çš„å¯¹è±¡ã€‚ 1.4 å¤æ•° URLå»ºè®®éƒ½ä½¿ç”¨å¤æ•° url 1.5 é¿å…å¤šçº§ urlæ¯”å¦‚è·å–æŸä¸ªä½œè€…çš„æŸä¸€ç±»æ–‡ç« ï¼š GET /authors/12/categories/2 è¿™ç§ URL ä¸åˆ©äºæ‰©å±•ï¼Œè¯­ä¹‰ä¹Ÿä¸æ˜ç¡®ï¼Œå¾€å¾€è¦æƒ³ä¸€ä¼šï¼Œæ‰èƒ½æ˜ç™½å«ä¹‰ã€‚ æ›´å¥½çš„åšæ³•æ˜¯: é™¤äº†ç¬¬ä¸€çº§ï¼Œå…¶ä»–çº§åˆ«éƒ½ç”¨æŸ¥è¯¢å­—ç¬¦ä¸²è¡¨è¾¾ã€‚ GET /authors/12?categories=2 2 çŠ¶æ€ç ï¼ŒçŠ¶æ€ç å¿…é¡»ç²¾ç¡®HTTP çŠ¶æ€ç å°±æ˜¯ä¸€ä¸ªä¸‰ä½æ•°ï¼Œåˆ†æˆäº”ä¸ªç±»åˆ«ï¼š 1xxï¼šç›¸å…³ä¿¡æ¯ 2xxï¼šæ“ä½œæˆåŠŸ 3xxï¼šé‡å®šå‘ 4xxï¼šå®¢æˆ·ç«¯é”™è¯¯ 5xxï¼šæœåŠ¡å™¨é”™è¯¯ 2.1 API ä¸éœ€è¦ 1xx çŠ¶æ€ç 2.2 2XX çŠ¶æ€ç GET 200 è¡¨ç¤ºæ“ä½œæˆåŠŸPOST 201 è¡¨ç¤ºç”Ÿæˆäº†æ–°çš„èµ„æºDELETE 204 è¡¨ç¤ºèµ„æºå·²ç»ä¸å­˜åœ¨ 2.3 3XX çŠ¶æ€ç ï¼Œé‡å®šå‘API ç”¨ä¸åˆ°çš„ï¼ˆæµè§ˆå™¨ä¼šè‡ªåŠ¨è·³è½¬ï¼‰ï¼š 301 æ°¸ä¹…é‡å®šå‘ 302 æš‚æ—¶é‡å®šå‘ï¼Œ ç”¨äº GET è¯·æ±‚ API ç”¨å¾—åˆ°çš„ï¼š 303 è¡¨ç¤ºå‚è€ƒå¦ä¸€ä¸ª URLï¼Œ ä¸»è¦ç”¨äº POSTã€PUT å’Œ DELETE è¯·æ±‚ï¼Œ æµè§ˆå™¨ä¸ä¼šè‡ªåŠ¨è·³è½¬ 2.4 4XX çŠ¶æ€ç , è¡¨ç¤ºå®¢æˆ·ç«¯é”™è¯¯ 400 Bad Request: æœåŠ¡å™¨ä¸ç†è§£å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œæœªåšä»»ä½•å¤„ç†. 401 Unauthorized: ç”¨æˆ·æœªæä¾›èº«ä»½éªŒè¯å‡­æ®ï¼Œæˆ–è€…æ²¡æœ‰é€šè¿‡èº«ä»½éªŒè¯. 403 Forbidden: ç”¨æˆ·é€šè¿‡äº†èº«ä»½éªŒè¯ï¼Œä½†æ˜¯ä¸å…·æœ‰è®¿é—®èµ„æºæ‰€éœ€çš„æƒé™. 404 Not Found: æ‰€è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨ï¼Œæˆ–ä¸å¯ç”¨. 405 Method Not Allowed: ç”¨æˆ·å·²ç»é€šè¿‡èº«ä»½éªŒè¯ï¼Œä½†æ˜¯æ‰€ç”¨çš„ HTTP æ–¹æ³•ä¸åœ¨ä»–çš„æƒé™ä¹‹å†…. ç­‰ç­‰ 2.5 5XX çŠ¶æ€ç , è¡¨ç¤ºæœåŠ¡ç«¯é”™è¯¯ã€‚ä¸€èˆ¬æ¥è¯´ï¼ŒAPI ä¸ä¼šå‘ç”¨æˆ·é€éœ²æœåŠ¡å™¨çš„è¯¦ç»†ä¿¡æ¯ 500 Internal Server Errorï¼šå®¢æˆ·ç«¯è¯·æ±‚æœ‰æ•ˆï¼ŒæœåŠ¡å™¨å¤„ç†æ—¶å‘ç”Ÿäº†æ„å¤– 503 Service Unavailableï¼šæœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚ï¼Œä¸€èˆ¬ç”¨äºç½‘ç«™ç»´æŠ¤çŠ¶æ€ 3. æœåŠ¡å™¨å›åº”3.1 è¿”å›å¯¹è±¡åº”è¯¥æ˜¯ json å¯¹è±¡3.2 å‘ç”Ÿé”™è¯¯æ—¶ï¼Œä¸è¦è¿”å› 200 çŠ¶æ€ç 3.3 æä¾›é“¾æ¥","tags":[{"name":"RestfulAPI","slug":"RestfulAPI","permalink":"https://shleyz.github.io/tags/RestfulAPI/"}]},{"title":"react typescripté¡¹ç›®æ­å»º-2ä¼˜åŒ–å¼€å‘ä½“éªŒ","date":"2019-07-21T02:20:14.000Z","path":"2019/07/21/react-typescripté¡¹ç›®æ­å»º-3ä¼˜åŒ–/","text":"é›†æˆ antdnpm install -S antd ä¿®æ”¹ antd çš„ä¸»é¢˜é…è‰² antd çš„æ ·å¼ä½¿ç”¨ less è¿›è¡Œç¼–å†™, é¦–å…ˆè¦å®‰è£… less å’Œ less-loader æ³¨æ„ less ç‰ˆæœ¬è¦å°äº 3.0ï¼Œå¦åˆ™ä¼šæŠ¥é”™ npm install -D less less-loader åœ¨æ ¹ç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ª theme.js æ–‡ä»¶ 1234module.exports = &#123; \"primary-color\": \"red\", \"border-radius-base\": \"20px\"&#125;; åœ¨ build/rules/styleRules ä¸­æ·»åŠ é’ˆå¯¹ less æ–‡ä»¶çš„ loader 123456789101112131415161718192021const &#123; resolve &#125; = require(\"../utils\");const theme = require(\"./../../theme\");module.exports = [ &#123; test: /\\.less$/, include: [resolve(\"node_modules\")], use: [ \"style-loader\", \"css-loader\", &#123; loader: \"less-loader\", options: &#123; // ç¦ç”¨å†…è”jsä»£ç  javascriptEnable: false, // æ ¹æ®antdå®˜ç½‘è¿›è¡Œä¸»é¢˜ä¿®æ”¹ modifyVars: theme &#125; &#125; ] &#125;]; å…¨å±€å¼•å…¥ antd çš„æ ·å¼æ–‡ä»¶ åœ¨ src/index.tsx ä¸­ import â€œantd/dist/antd.lessâ€; antd æŒ‰éœ€åŠ è½½import { Button } from â€˜antdâ€™; è¿™æ ·çš„å¼•å…¥æ–¹å¼å­˜åœ¨ä¸€ä¸ªå¾ˆå¤§çš„å¼Šç«¯ï¼Œå°±æ˜¯åœ¨å¼•å…¥å…¶ä¸­æŸä¸ªç»„ä»¶çš„åŒæ—¶ä¼šæŠŠæ•´ä¸ª antd æ–‡ä»¶éƒ½å¼•å…¥è¿›æ¥ï¼Œå½±å“æ„å»ºé€Ÿåº¦ï¼Œè€Œä¸”æ‰“åŒ…åä½“ç§¯ä¼šå˜å¤§ï¼Œ å› æ­¤éœ€è¦åš antd çš„æŒ‰éœ€åŠ è½½: 123456//tsconfig.json&#123; ... \"module\": \"ESNext\", ...&#125; 1npm install -D ts-import-plugin ä¿®æ”¹ build/rules/jsRule.js 12345678910111213141516171819202122232425262728const &#123; resolve &#125; = require(\"../utils\");const tsImportPluginFactory = require(\"ts-import-plugin\");module.exports = [ &#123; // åŒ¹é…è¦è§£æçš„æ–‡ä»¶ test: /\\.ts(x?)$/, use: [ &#123; loader: \"awesome-typescript-loader\", options: &#123; transpileOnly: true, useCache: true, cacheDirectory: resolve(\".cache-loader\"), getCustomTransformers: () =&gt; (&#123; before: [ tsImportPluginFactory(&#123; libraryName: \"antd\", libraryDirectory: \"lib\", style: true // å¡«å†™ true ä½¿ç”¨ç»„ä»¶çš„ less æ–‡ä»¶ï¼Œ å¡«å†™ css ä½¿ç”¨cssæ–‡ä»¶ä½†æ˜¯åŒæ—¶ä¸èƒ½å®šåˆ¶ä¸»é¢˜ &#125;) ] &#125;) &#125; &#125; ] &#125;]; çƒ­åŠ è½½npm install -D react-hot-loader é›†æˆ mobxnpm install -S mobx npm install -S mobx-react","tags":[{"name":"typescript","slug":"typescript","permalink":"https://shleyz.github.io/tags/typescript/"}]},{"title":"react typescripté¡¹ç›®æ­å»º-2ä¼˜åŒ–å¼€å‘ä½“éªŒ","date":"2019-07-20T05:24:34.000Z","path":"2019/07/20/react-typescripté¡¹ç›®æ­å»º-2ä¼˜åŒ–å¼€å‘ä½“éªŒ/","text":"åœ¨å‰é¢çš„åŸºç¡€æ­å»ºä¹‹åï¼Œå¦‚ä½•æå‡å¼€å‘ä½“éªŒå‘¢ï¼Œä¾‹å¦‚ sassï¼Œcss module ç­‰ æ”¯æŒ sass12npm install -D node-sass sass-loadernpm install -D style-loader css-loader scss ä»£ç çš„ç¼–è¯‘è¿‡ç¨‹ï¼š sass-loader å°† sass ä»£ç ç¼–è¯‘ä¸º css css-loader å°†ç¼–è¯‘å‡ºæ¥çš„ä»£ç å†æ¬¡ç¼–è¯‘æˆä¸ºç¬¦åˆ CommonJS çš„ä»£ç  style-loader å°†ç¬¬äºŒæ­¥ç¼–è¯‘å‡ºæ¥çš„ä»£ç è½¬ä¸º js ä»£ç ä»ä¸Šé¢è¿™ä¸‰ä¸ªæ­¥éª¤çœ‹å‡ºï¼š webpack è¿›è¡Œ loader ç¼–è¯‘çš„é¡ºåºæ˜¯ä»ä¸‹åˆ°ä¸Šçš„ è¿›è¡Œé…ç½® webpackï¼ˆåœ¨ module.rules ä¸‹é¢åŠ ä¸Š.scss æ–‡ä»¶ç±»å‹çš„ç¼–è¯‘é…ç½®ï¼‰ï¼š 12345&#123; test: /\\.scss$/, include: [path.join(__dirname, \"./../\", \"src\")], use: [\"style-loader\", \"css-loader\", \"sass-loader\"]&#125; è§£å†³æ¨¡å—å£°æ˜é—®é¢˜åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º typings æ–‡ä»¶å¤¹ï¼Œé‡Œé¢çš„ .d.ts æ–‡ä»¶è¿›è¡Œå£°æ˜ é…ç½®å…¬å…± sassè‡ªå®šä¹‰ï¼š æ ¹ç›®å½•/src/styles/var.scss å†…ç¼–å†™å…¬å…±çš„ sassåœ¨å…¶ä»–æ ·å¼æ–‡ä»¶é‡Œé¢ç›´æ¥å¯¼å…¥ä½¿ç”¨ @import ä¼˜åŒ–è·¯å¾„1import Test from \"../../../../components/Test\"; æ”¹æˆä¸ºè¿™æ ·å†™ï¼š 1import Test from \"@comonents/Test\"; åœ¨ tsconfig ä¸­è¿›è¡Œé…ç½®: 1234\"baseUrl\": \"./src\"\"paths\": &#123; \"@components/*\": [\"components/*\"]&#125; å®‰è£… tsconfig-paths-webpack-plugin å°† tsconfig ä¸­å¯¹è·¯å¾„çš„è®¾ç½®æ˜ å°„åˆ° webpack é…ç½® 1npm install -D tsconfig-paths-webpack-plugin ä¿®æ”¹ webpack é…ç½®ï¼š 12345678resolve: &#123; extensions: [\".ts\", \".tsx\", \".js\", \".jsx\"], plugins: [ new TsconfigPathsPlugin(&#123; configFile: path.join(__dirname, \"./../\", \"tsconfig.json\") &#125;) ] &#125;, æ„å»ºç¼“å­˜æˆ‘ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨ webpack-dev-server æ¥è¿›è¡Œé¡¹ç›®å¼€å‘ï¼Œå½“æˆ‘ä»¬è¿è¡Œ webpack-dev-server çš„æ—¶å€™å®ƒä¼šåœ¨å†…å­˜ä¸­è¿›è¡Œé¡¹ç›®çš„æ„å»ºï¼Œä½†æ˜¯å½“ä½¿ç”¨äº† babel ä¹‹ç±»çš„ä»£ç è½¬æ¢å·¥å…·åï¼Œä¼šå¯¹é¡¹ç›®æ„å»ºäº§ç”Ÿè¾ƒå¤§çš„æ€§èƒ½å½±å“ï¼Œè¿™æ˜¯å› ä¸ºæ¯ä¸€æ¬¡çš„æ„å»ºéƒ½ä¼šå¯¹ä»£ç è¿›è¡Œé‡æ–°è½¬æ¢ã€‚è€Œæ„å»ºç¼“å­˜å°±æ˜¯å°†æ„å»ºçš„å…¬ç”¨ä»£ç ç¼“å­˜åœ¨ç£ç›˜ä¸Šï¼Œè¿™æ ·åšçš„æ•ˆæœå°±æ˜¯ç¬¬ä¸€æ¬¡æ„å»ºçš„æ—¶é—´èŠ±é”€ä¼šæ¯”ä¸ç”¨ç¼“å­˜çš„æ„å»ºå¤§ï¼Œä½†æ˜¯åœ¨ä¹‹åæ¯æ¬¡æ„å»ºçš„æ—¶é—´èŠ±é”€éƒ½ä¼šå¤§å¤§å‡å°‘ã€‚ åœ¨è®¾ç½®æ„å»ºç¼“å­˜ä¹‹å‰æˆ‘ä»¬é¦–å…ˆè¦è€ƒè™‘çš„æ˜¯é‚£äº›åœ°æ–¹éœ€è¦è¿›è¡Œè®¾ç½®ï¼š å¯¹ ts(x)çš„è½¬æ¢ babel è½¬æ¢ scss è½¬æ¢ 1. å¯¹ ts(x)çš„è½¬æ¢ç”¨çš„æ˜¯ awesome-typescript-loaderï¼Œè¿™ä¸ªåº“æœ¬èº«è‡ªå¸¦äº†å¼€å¯ç¼“å­˜çš„é€‰é¡¹ useCacheï¼Œç„¶åæˆ‘ä»¬éœ€è¦æŒ‡å®šä¸€ä¸ªä¿å­˜ç¼“å­˜æ–‡ä»¶çš„åœ°æ–¹ cacheDirectoryï¼Œæ‰€ä»¥ webpack é…ç½®æ”¹ä¸ºå¦‚ä¸‹:12345678910111213&#123; // åŒ¹é…è¦è§£æçš„æ–‡ä»¶ test: /\\.ts(x?)$/, use: [ &#123; loader: \"awesome-typescript-loader\", options: &#123; useCache: true, cacheDirectory: path.join(__dirname, \"./../\", \".cacahe-loader\") &#125; &#125; ]&#125;, 2. scss è½¬æ¢æ„å»ºç¼“å­˜ï¼Œéœ€è¦ç”¨åˆ° cache-loader1npm install -D cache-loader ç„¶ååœ¨å¯¹.scss æ–‡ä»¶ç±»å‹çš„è½¬æ¢é…ç½®ä¸­ä½¿ç”¨å®ƒï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ä¸»è¦æ˜¯é’ˆå¯¹è½¬æ¢å‡ºæ¥çš„ css è¿›è¡Œç¼“å­˜ï¼Œæ‰€ä»¥éœ€è¦å†™åœ¨ css-loader é…ç½®çš„å‰é¢: 123456789101112131415&#123; test: /\\.scss$/, include: [path.join(__dirname, \"./../\", \"src\")], use: [ \"style-loader\", &#123; loader: \"cache-loader\", options: &#123; cacheDirectory: path.join(__dirname, \"./../\", \".cache-loader\") &#125; &#125;, \"css-loader\", \"sass-loader\" ]&#125; è¿™æ ·å°±é…ç½®å¥½å½“å‰çš„æ„å»ºç¼“å­˜äº†,åœ¨è¿›è¡Œ npm run dev çš„æ—¶å€™ä¼šå‘ç°æ ¹ç›®å½•å¤šäº†.cache-loader æ–‡ä»¶å¤¹","tags":[{"name":"typescript","slug":"typescript","permalink":"https://shleyz.github.io/tags/typescript/"}]},{"title":"react typescripté¡¹ç›®æ­å»º-1åŸºç¡€","date":"2019-07-20T03:19:10.000Z","path":"2019/07/20/react-typescripté¡¹ç›®æ­å»º-1åŸºç¡€/","text":"æœ€è¿‘å…¬å¸æœ‰äº†æ–°çš„é¡¹ç›®ï¼Œæ‰€ä»¥ä¸ºå¼€å‘åšå‡†å¤‡ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸ªæ™®é€‚çš„æ¨¡ç‰ˆï¼Œè‡ªå·±æ­å»ºä¸€ä¸ª react+ typescript é¡¹ç›® èµ·æ­¥å®‰è£…1234567891011121314151617// å…¨å±€å®‰è£… typescriptnpm install -g typescript// åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹mkdir iot-back &amp;&amp; cd iot-back// é¡¹ç›®åˆå§‹åŒ–ï¼Œç”Ÿæˆpackage.jsonå’Œtsconfig.jsonnpm init -y &amp;&amp; tsc --init// å®‰è£…webpacknpm install -D webpack webpack-cli webpack-dev-server// å®‰è£…reactç›¸å…³å’ŒtsåŒ…npm install -S react react-dom npm install -D @types/react @types/react-dom// å®‰è£…ts-loadernpm install -D awesome-typescript-loader è¿™æ—¶å€™ï¼Œèµ·æ­¥å®‰è£…åŸºæœ¬ä¸Šå°±å®Œæˆäº†ã€‚ é¡¹ç›®é…ç½® é¡¹ç›®æ ¹ç›®å½•åˆ›å»º build æ–‡ä»¶å¤¹ï¼Œåœ¨ build ä¸‹åˆ›å»º webpack.config.js é¡¹ç›®æ ¹ç›®å½•åˆ›å»º src æ–‡ä»¶å¤¹ï¼Œåœ¨ src ä¸‹åˆ›å»º index.js ä½œä¸ºé¡¹ç›®å…¥å£ ç¼–å†™ webpack é…ç½®æ–‡ä»¶ webpack.config.jsï¼Œæ·»åŠ  entry å’Œ output 1234567891011const path = require(\"path\");module.exports = &#123; entry: &#123; app: path.join(__dirname, \"./../\", \"src/index.tsx\") &#125;, output: &#123; path: path.join(__dirname, \"./../\", \"dist\"), filename: \"[name].js\" &#125;&#125;; webpack.config.js å†…ç»§ç»­ç¼–å†™ awesome-typescript-loader çš„é…ç½®ï¼Œè§£æ.tsx æ–‡ä»¶,ä¹Ÿå°±æ˜¯ module æ¨¡å— 1234567891011121314module: &#123; rules: [ &#123; // åŒ¹é…è¦è§£æçš„æ–‡ä»¶ test: /\\.ts(x?)$/, use: [ &#123; loader: \"awesome-typescript-loader\", options: &#123;&#125; &#125; ] &#125; ];&#125; webpack.config.js é…ç½®å¯¼å…¥æ–‡ä»¶ç±»å‹,è¿™æ ·ä»¥åå¼•å…¥æ–‡ä»¶å°±ä¸éœ€è¦å¸¦æ‰©å±•å 123resolve: &#123; extensions: [\".ts\", \".tsx\", \".js\", \".jsx\"]&#125;, åœ¨ tsconfig é‡Œé¢æ²¡æœ‰æŒ‡å®š JSX çš„ç‰ˆæœ¬ compilerOptions ä¸­æ·»åŠ â€jsxâ€: â€œreactâ€ src/index.tsx ä¸­ç¼–è¾‘å…¥å£æ–‡ä»¶ 1234567import * as React from \"react\";import * as ReactDOM from \"react-dom\";const render = () =&gt; &#123; ReactDOM.render(&lt;div&gt;123&lt;/div&gt;, document.querySelector(\"#app\"));&#125;;render(); æ·»åŠ é¡µé¢æ¨¡æ¿ æ ¹ç›®å½• &gt; build &gt; tpl &gt; index.html 123456789101112&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=\"utf-8\" /&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" /&gt; &lt;title&gt;Document&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=\"app\"&gt;&lt;/div&gt; &lt;/body&gt;&lt;/html&gt; å°†é¡µé¢æ¨¡æ¿å’Œæ‰“åŒ…å‡ºæ¥çš„ js æ–‡ä»¶å…³è”èµ·æ¥, å› ä¸ºè€ƒè™‘åˆ°ä»¥åæ‰“åŒ…å‡ºæ¥çš„ js çš„æ–‡ä»¶ä¸ä¼šæ˜¯ä¸€ä¸ªå›ºå®šçš„åç§°ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦ä½¿ç”¨ä¸€ä¸ª webpack çš„æ’ä»¶ html-webpack-plugin 1npm install -D html-webpack-plugin ç„¶ååœ¨ webpack çš„ plugins é…ç½®é¡¹ä¸‹è¿›è¡Œä¸€äº›ç®€å•é…ç½® 123456const HtmlWebpackPlugin = require(\"html-webpack-plugin\");plugins: [ new HtmlWebpackPlugin(&#123; template: \"build/tpl/index.html\" &#125;)]; é…ç½®å®Œæˆåå°±å¯ä»¥å¯åŠ¨é¡¹ç›®äº† package.json ä¸­æ·»åŠ å¯åŠ¨å‘½ä»¤ 1\"dev\": \"webpack-dev-server --config build/webpack.config.js --mode development\" å¯åŠ¨å‘½ä»¤ï¼š npm run dev","tags":[{"name":"typescript","slug":"typescript","permalink":"https://shleyz.github.io/tags/typescript/"}]},{"title":"rnè°ƒè¯•ä¸­é‡åˆ°çš„é—®é¢˜","date":"2019-06-27T07:30:06.000Z","path":"2019/06/27/rnè°ƒè¯•ä¸­é‡åˆ°çš„é—®é¢˜/","text":"1.Could not connect to development serverï¼ˆAndroidï¼‰è§£å†³æ–¹æ³• è§£å†³åŠæ³•ï¼š 1adb reverse tcp:8081 tcp:8081 å¦‚æœæç¤º adb æ‰¾ä¸åˆ°ä»€ä¹ˆçš„ï¼Œéœ€è¦åœ¨ç¯å¢ƒå˜é‡ä¸­æ·»åŠ ä»¥ä¸‹å¹¶é‡æ–° source ï¼š æ‰“å¼€æ–‡ä»¶ï¼švi ~/.bash_profile æ·»åŠ ï¼š 1export PATH=$&#123;PATH&#125;:/Users/******/Library/Android/sdk/platform-tools ä¿å­˜ä»¥åï¼šsource ~/.bash_profile æ‰§è¡Œå®Œä»¥ä¸Šåé‡æ–° react-native run-android 2. android ä¸ç”¨æ‘‡æ™ƒæ‰‹æœºï¼Œå³å¯è°ƒå‡º Reload ç­‰é€‰é¡¹1adb shell input keyevent 82 3.","tags":[{"name":"react-native","slug":"react-native","permalink":"https://shleyz.github.io/tags/react-native/"}]},{"title":"flutterå®‰è£…ä½¿ç”¨é‡åˆ°çš„é—®é¢˜","date":"2019-06-18T06:10:34.000Z","path":"2019/06/18/flutterå®‰è£…ä½¿ç”¨é‡åˆ°çš„é—®é¢˜/","text":"æŒ‰ç…§https://flutter.dev/docs/get-started/test-drive?tab=vscodeä¾æ¬¡å®‰è£…ä½¿ç”¨ï¼Œè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ï¼š 1.æ‰§è¡Œ flutter doctor å‡ºç°ï¼š12345[!] Android toolchain - develop for Android devices (Android SDK version 29.0.0) âœ— Android license status unknown. Try re-installing or updating your Android SDK Manager. See https://developer.android.com/studio/#downloads or visit https://flutter.dev/setup/#android-setup for detailed instructions. è§£å†³åŠæ³•ï¼š æ‰§è¡Œï¼š flutter doctor â€“android-licenses å¯èƒ½å‡ºç°çš„é—®é¢˜ï¼š A newer version of the Android SDK is required. To update, run:/Users/xxxx/Library/Android/sdk/tools/bin/sdkmanager â€“update æ‰§è¡Œï¼š/Users/xxxx/Library/Android/sdk/tools/bin/sdkmanager â€“update å‡ºç°é—®é¢˜ï¼š 1234567891011Exception in thread \"main\" java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156) at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75) at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81) at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:73) at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582) at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:190) at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:499) ... 5 more è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸º java jdk ç‰ˆæœ¬å¯¼è‡´çš„ï¼Œè§£å†³åŠæ³•ï¼šä¿®æ”¹ java jdk ä¸º jdk1.8.0_201.jdkã€‚ 12345brew cask uninstall java# å¸è¼‰ java9brew tap caskroom/versionsbrew cask install java8# å®‰è£ java8æ²’æœ‰é€™è£¡æ–‡ä»¶çš„touch ~/.android/repositories.cfg #ï¼Œå°‡åœ¨ä¸‹ä¸€æ­¥ä¸­å‡ºç¾éŒ¯èª¤brew cask install android-sdk è®°å¾—ä¿®æ”¹ JAVA_HOMRE ç¯å¢ƒå˜é‡ ç„¶åä¸€æ¬¡æ‰§è¡Œï¼š 12/Users/xxxx/Library/Android/sdk/tools/bin/sdkmanager --updateflutter doctor --android-licenses // æç¤ºy/néƒ½é€‰æ‹©y å†æ¬¡æ‰§è¡Œ 1flutter doctor å‡ºç°æˆåŠŸæç¤º 1[âœ“] Android toolchain - develop for Android devices (Android SDK version 29.0.0) 2.æ‰§è¡Œ flutter doctor å‡ºç°ï¼š12345âœ— Xcode installation is incomplete; a full installation is necessary for iOS development. Download at: https://developer.apple.com/xcode/download/ Or install Xcode via the App Store. Once installed, run: sudo xcode-select --switch /Applications/Xcode.app/Contents/Developer è§£å†³åŠæ³•ï¼š æ‰“å¼€ xcode -&gt; é¦–é€‰é¡¹(preference) -&gt; ä½ç½®(locations) é€‰æ‹© command line tools çš„å€¼åŸæ¥æ˜¯ç©ºçš„ï¼Œé€‰æ‹© xcode11.0(å®‰è£…çš„ç‰ˆæœ¬) ç„¶åæ‰§è¡Œ flutter doctor 123456789101112131415161718[!] iOS toolchain - develop for iOS devices (Xcode 11.0) âœ— libimobiledevice and ideviceinstaller are not installed. To install with Brew, run: brew update brew install --HEAD usbmuxd brew link usbmuxd brew install --HEAD libimobiledevice brew install ideviceinstaller âœ— ios-deploy not installed. To install: brew install ios-deploy âœ— CocoaPods not installed. CocoaPods is used to retrieve the iOS platform side's plugin code that responds to your plugin usage on the Dart side. Without resolving iOS dependencies with CocoaPods, plugins will not work on iOS. For more info, see https://flutter.dev/platform-plugins To install: brew install cocoapods pod setup æŒ‰æç¤ºè¿›è¡Œå®‰è£…å°±è¡Œäº†ã€‚ 12345678910Doctor summary (to see all details, run flutter doctor -v):[âœ“] Flutter (Channel stable, v1.5.4-hotfix.2, on Mac OS X 10.14.5 18F132, locale zh-Hans-CN)[âœ“] Android toolchain - develop for Android devices (Android SDK version 29.0.0)[âœ“] iOS toolchain - develop for iOS devices (Xcode 11.0)[âœ“] Android Studio (version 3.4)[âœ“] Connected device (1 available)â€¢ No issues found!","tags":[{"name":"flutter","slug":"flutter","permalink":"https://shleyz.github.io/tags/flutter/"}]},{"title":"éè®¾è®¡å¸ˆçš„åŸºæœ¬è®¾è®¡åŸåˆ™","date":"2019-05-14T05:16:19.000Z","path":"2019/05/14/éè®¾è®¡å¸ˆçš„åŸºæœ¬è®¾è®¡åŸåˆ™/","text":"ç¿»è¯‘è‡ª Fundamental design principles for non-designers è¿™ç¯‡æ–‡ç« é¢å‘æ²¡æœ‰ä¸“ä¸šè®¾è®¡å¸ˆçš„æ‰€æœ‰å†…å®¹åˆ›ä½œè€…ï¼Œä»¥åŠè®¾è®¡å¸ˆæ€»æ˜¯å¾ˆå¿™å› æ­¤æ— æ³•æä¾›å¸®åŠ©çš„å›¢é˜Ÿã€‚ å¦‚æœæ‚¨å¯ä»¥æŒ‰ç…§è¿™äº›ç®€å•çš„æ­¥éª¤è¿›è¡Œæ“ä½œï¼Œæˆ‘ä¿è¯æ‚¨çš„è®¾è®¡ä¼šæ›´å¥½çœ‹ã€‚ è¿™ä»½åå•æºäºå¯¹æˆ‘çš„æœ‹å‹ï¼Œå®¶äººå’ŒåŒäº‹è¿™äº›éè®¾è®¡å¸ˆï¼Œåœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­åŠªåŠ›è®¾è®¡äº‹ç‰©çš„å¤šå¹´çš„è§‚å¯Ÿã€‚ åŒ…æ‹¬ä¸ªäººé€šè®¯ï¼Œç®€å†å’ŒæŠ•èµ„ç»„åˆï¼ŒFacebookæˆ–Instagramä¸Šçš„å¸–å­å›¾ç‰‡ï¼ŒYouTubeçš„è§†é¢‘ç¼©ç•¥å›¾ç­‰ã€‚ æ‰€æœ‰è¿™äº›äººéƒ½å‘æˆ‘å¯»æ±‚å¸®åŠ©å’Œå»ºè®®ï¼Œä½¿å¾—ä½¿äº‹æƒ…çœ‹èµ·æ¥æ›´å¥½ã€‚ ç›¸è¾ƒäºå¯¹ä»–ä»¬æä¾›è®¾è®¡ï¼Œæˆ‘åšä¿¡â€œæˆäººä»¥æ¸”â€çš„æƒ³æ³•ï¼Œæ‰€ä»¥æˆ‘è¯•å›¾ç»™ä»–ä»¬æä¾›æœ‰ä»·å€¼çš„å»ºè®®ï¼Œä»¥å¸®åŠ©è§£å†³æœªæ¥ç±»ä¼¼é—®é¢˜ã€‚ éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæˆ‘æ„è¯†åˆ°æˆ‘ä¸€ç›´åœ¨ç»™äººä»¬æ‰€æœ‰ç›¸åŒçš„æç¤ºã€‚ æˆ‘æ¯æ¬¡éƒ½ç”¨ä¸åŒçš„æªè¾ï¼Œä½†æˆ‘çš„æ‰€æœ‰å»ºè®®éƒ½å¯ä»¥æç‚¼å‡ºè¿™å››ä¸ªåŸåˆ™ã€‚ æˆ‘çŸ¥é“æœ‰æ•°åƒä¸ªåˆ—è¡¨å°±åƒè¿™æ ·çš„åˆ—è¡¨ï¼Œä½†æˆ‘å‘ç°è¿™äº›åˆ—è¡¨å¤ªè¿‡åˆ†äº†ã€‚ ä½œä¸ºéè®¾è®¡å¸ˆï¼Œä½ ä¸èƒ½çœŸæ­£åœ°éµå¾ª25ä¸ªæ­¥éª¤çš„â€œç®€å•â€çš„åˆ—è¡¨ã€‚ è¿™ä¼šå¸®åŠ©ä½ åˆ›é€ é—ªäº®ç¾ä¸½çš„è®¾è®¡å—ï¼Ÿ ä¸ä¼šã€‚è¿™ä¼šå¸®åŠ©æ‚¨åˆ›å»ºå‡ºè‰²ï¼Œæ¸…æ™°ä¸”æ˜“äºç†è§£çš„è®¾è®¡ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥è½»æ¾ç†è§£å’Œäº’åŠ¨å—ï¼Ÿ ç»å¯¹ã€‚ æ‰€ä»¥ï¼Œä¸ç”¨å¤šè¯´ï¼Œæˆ‘å‘ä½ ä»¬å±•ç¤ºï¼š 4ä¸ªåŸºæœ¬è®¾è®¡åŸåˆ™ï¼Œä»»ä½•äººéƒ½å¯ä»¥éµå¾ªå®ƒä»¥å–å¾—å¥½æˆç»©å¯¹æ¯”ç¡®ä¿æ‰€æœ‰å…ƒç´ ä¹‹é—´æœ‰è¶³å¤Ÿçš„å¯¹æ¯”åº¦ã€‚ ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ å› ä¸ºé‚£äº›ç•¥æœ‰ä¸åŒä½†åˆä¸å¤Ÿä¸åŒçš„ä¸œè¥¿ï¼Œåˆ›é€ äº†ä¸€ç§ç¥ç§˜çš„å±±è°·ã€‚ ä»–ä»¬ä¼šä½¿å¾—äººçœ¼æ„Ÿåˆ°æ€ªå¼‚å’ŒåŒæ¶ï¼Œå’Œéš¾ä»¥ç†è§£ã€‚ å› æ­¤æˆ‘ä»¬ä¸å¸Œæœ›è¿™äº›å‡ºç°åœ¨æˆ‘ä»¬çš„è®¾è®¡ä¸­ã€‚ æ‚¨çš„è®¾è®¡å…ƒç´ åº”è¯¥å®Œå…¨ç›¸åŒæˆ–æ˜¾è‘—ä¸åŒã€‚ å¯¹æ¯”é—®é¢˜ä¸»è¦è¡¨ç°åœ¨4ç§ä¸åŒçš„æ–¹é¢ï¼š colorï¼šæµ…è‰²ä½¿ç”¨æ·±è‰²ï¼Œåä¹‹äº¦ç„¶ã€‚ ç¤ºä¾‹ï¼šåˆ‡å‹¿åœ¨æµ…è“è‰²æˆ–æµ…ç²‰çº¢è‰²ä¸Šä½¿ç”¨ç°è‰²ç­‰ç»„åˆ - å®ƒä»¬æéš¾é˜…è¯»/äº¤äº’ã€‚ sizeï¼šä»…å°†å…ƒç´ æ”¾åœ¨å½¼æ­¤ç›¸é‚»çš„å¤§å°å®Œå…¨ç›¸åŒæˆ–å¤§å°ä¸åŒçš„æƒ…å†µä¸‹ã€‚ ç¤ºä¾‹ï¼šä¸è¦å°†32ptå’Œ36ptæ–‡æœ¬è¡Œæ”¾åœ¨ä¸€èµ·ã€‚ å¦ä¸€æ–¹é¢ï¼Œ18ptå’Œ36ptå°†ä¸€èµ·å·¥ä½œã€‚ weight: ä¸å°ºå¯¸ç›¸åŒï¼Œåªæ˜¯å°†å…ƒç´ æ”¾åœ¨å½¼æ­¤ç›¸é‚»çš„weightå®Œå…¨ç›¸åŒæˆ–weightç›¸å½“ä¸åŒçš„åœ°æ–¹ã€‚ ç¤ºä¾‹ï¼šä¸è¦å°†ç›¸åŒå­—ä½“çš„â€œboldâ€å’Œâ€œblackâ€æ”¾åœ¨ä¸€èµ·ï¼Œå› ä¸ºå®ƒä»¬çœ‹èµ·æ¥å¤ªç›¸ä¼¼äº†ã€‚ å¦ä¸€æ–¹é¢ï¼Œâ€œlightâ€å’Œâ€œboldâ€å°†èƒ½å¾ˆå¥½åœ°ååŒå·¥ä½œã€‚ style: ä¸è¦å°†ä¸€ä¸ªæ–œä½“ç±»å‹æ”¾åœ¨å¦ä¸€ä¸ªæ–œä½“ç±»å‹æ—è¾¹ï¼Œæˆ–è€…åœ¨å¦ä¸€ä¸ªè¡¬çº¿å­—ä½“æ—è¾¹æ”¾ç½®ä¸€ä¸ªè¡¬çº¿å­—ä½“ã€‚ ä¸è¦ç»“åˆä¸åŒçš„ä¸œè¥¿ã€‚ ç¤ºä¾‹ï¼šä¸è¦å°†â€œTimes New Romanâ€å’Œâ€œGeorgiaâ€æ”¾åœ¨ä¸€èµ· - å®ƒä»¬çœ‹èµ·æ¥å¤ªç›¸ä¼¼äº†ã€‚ ç»„åˆå…·æœ‰ç›¸å½“ä¸åŒæ ·å¼çš„å­—ä½“ã€‚ ä¸€è‡´æ€§ç¡®ä¿ç±»ä¼¼çš„å…ƒç´ ä»¥ç±»ä¼¼çš„æ–¹å¼å‡ºç°ã€‚ ä¸ºä»€ä¹ˆï¼Ÿ é¦–å…ˆï¼Œé€šè¿‡ä¿æŒäº‹ç‰©çš„ä¸€è‡´æ€§ï¼Œæ‚¨å¯ä»¥è®©äººä»¬å°†æ³¨æ„åŠ›é›†ä¸­åœ¨è®¾è®¡çš„é‡è¦æ–¹é¢ï¼Œè€Œä¸æ˜¯è¢«ä¸€ç›´åœ¨å˜åŒ–çš„äº‹ç‰©åˆ†æ•£æ³¨æ„åŠ›ã€‚ å…¶æ¬¡ï¼Œä¸€è‡´æ€§å¢åŠ äº†ä¿¡ä»»ï¼Œä½¿äº‹ç‰©çœ‹èµ·æ¥å®é™…ä¸Šæ˜¯è®¾è®¡çš„ï¼Œè€Œä¸æ˜¯ç®€å•åœ°æ‹¼å‡‘åœ¨ä¸€èµ·ã€‚ ä¸€æ—¦ä½ é€‰æ‹©å®ƒä»¬å°±è¦åšæŒä¸‹å»ï¼š å­—ä½“ é¢œè‰²/è‰²è°ƒ è¡¨æ ¼ æ’åˆ— è£…é¥°å…ƒç´ çš„é£æ ¼ ç­‰ç­‰ å½“æ‚¨å¤„ç†å½¼æ­¤ç›¸é‚»çš„è®¸å¤šä¸åŒéƒ¨åˆ†æ—¶ï¼ˆä¾‹å¦‚ï¼ŒYouTubeé¢‘é“çš„è§†é¢‘ç¼©ç•¥å›¾æˆ–ä¸­å‹æ–‡ç« çš„å°é¢ï¼‰ï¼Œè¯·ä¸ºæ‰€æœ‰éƒ¨åˆ†é€‰æ‹©ä¸€ç§æ•´ä½“é£æ ¼å¹¶åšæŒä½¿ç”¨ã€‚ Occamâ€™s Razor åˆå å‡å°‘è§†è§‰å™ªéŸ³æ‚¨åœ¨è®¾è®¡ä¸­ä½¿ç”¨çš„å…ƒç´ æ•°é‡è¶Šå°‘è¶Šå¥½ã€‚ ä¸ºä»€ä¹ˆï¼Ÿ äººç±»çš„å¤§è„‘å¾ˆéš¾åœ¨è¾“å…¥è¿‡è½½çš„æƒ…å†µä¸‹å¤„ç†ä¿¡æ¯å¹¶åšå‡ºå†³ç­–ã€‚ å› æ­¤ä½¿ç”¨å°½å¯èƒ½å°‘çš„è£…é¥°å…ƒç´ ï¼ˆå­—ä½“ï¼Œé¢œè‰²ï¼Œé˜´å½±ï¼Œæ¡†æ¶ï¼Œç¬”ç”»ï¼Œå›¾æ ‡ï¼Œå›¾æ¡ˆç­‰ï¼‰ã€‚ å°†Occamâ€™s Razorçš„è®¾è®¡ç‰ˆæœ¬åº”ç”¨äºæ‰€æœ‰å†…å®¹ï¼š å¦‚æœåªç”¨2ä¸ªå…ƒç´ å¯ä»¥å®ç°æŸäº›åŠŸèƒ½ï¼Œè¯·ä¸è¦ä½¿ç”¨3ä¸ª.å¦‚æœå¯ä»¥ä½¿ç”¨10ä¸ªå…ƒç´ å®ç°æŸäº›åŠŸèƒ½ï¼Œè¯·ä¸è¦ä½¿ç”¨20. å¦‚æœä½ ä¸å–œæ¬¢å¤è€çš„è‹±å›½å­¦æœ¯å“²å­¦å®¶ï¼Œè€Œæ˜¯å–œæ¬¢ä½ åœ¨Netflixä¸Šçœ‹åˆ°çš„ä¸œè¥¿ï¼Œé‚£ä¹ˆï¼šæˆä¸ºä½ è‡ªå·±è®¾è®¡çš„Marie Kondoï¼ˆæ—¥æœ¬ç»„ç»‡é¡¾é—®å’Œä½œå®¶ï¼‰ï¼Œ æ— è®ºè¿™æ˜¯å¦ä¼šæ¿€å‘å¿«ä¹ï¼ˆæˆ–è€…ä¸æ˜¯è®¾è®¡çš„æœ‰ç”¨éƒ¨åˆ†ï¼‰ã€‚ ç©ºé—´äº‹ç‰©çš„å®šä½æ–¹å¼ä¼šå‘é€å…³äºå…¶å«ä¹‰çš„å…ƒçº§åˆ«æ¶ˆæ¯ã€‚ ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿ å› ä¸ºäº†è§£ä½ å¦‚ä½•å®šä½äº‹ç‰©ä»¥åŠä½ åœ¨å®ƒä»¬å‘¨å›´æ·»åŠ äº†å¤šå°‘ç©ºé—´æœ‰åŠ©äºé™ä½è®¾è®¡çš„å¤æ‚æ€§ï¼Œå› æ­¤ï¼Œå®ƒä¸ä»…ä¼šä»¤äººæ„‰æ‚¦ï¼Œè€Œä¸”æ›´å®¹æ˜“ä¸ä¹‹äº¤äº’ã€‚ åœ¨è®¾è®¡ä¸­ä½¿ç”¨ç©ºé—´æ¥ä¼ è¾¾è¿™ä¸‰ä¸ªæ–¹é¢çš„æ„ä¹‰ï¼š æ¥è¿‘=ç›¸å…³æ€§ ä¸å…¶ä»–å…ƒç´ ç›¸æ¯”å½¼æ­¤æ›´æ¥è¿‘çš„äº‹ç‰©è¢«è®¤ä¸ºå½¼æ­¤æ›´å¤šåœ°ç›¸äº’å…³è”è€Œä¸æ˜¯ä¸å…¶ä»–å…ƒç´ ç›¸å…³ã€‚ è¿™ä¸ªæ˜¯æœ€é‡è¦çš„ï¼Œå› ä¸ºæˆ‘è§‰å¾—å®ƒç»å¸¸è¢«å¿½è§†ï¼ˆç”šè‡³æ˜¯è¢«ä¸“ä¸šè®¾è®¡å¸ˆï¼‰ã€‚ å®ƒå¯ä»¥ä»¥å¤šç§ä¸åŒçš„æ–¹å¼åº”ç”¨ï¼Œä¾‹å¦‚ï¼š è¡Œä¹‹é—´åº”è¯¥æ¯”è¡Œå†…å­—é—´è·æœ‰æ›´å¤šçš„ç©ºé—´ï¼Œè€Œä¸æ˜¯ä¸€è¡Œä¸­æ¯ä¸ªå•è¯ä¹‹é—´çš„ç©ºé—´ - åŒæ ·ï¼Œä¸åŒæ®µè½ä¹‹é—´çš„ç©ºé—´ä¹Ÿæ¯”æ®µè½å†…çš„è¡Œä¹‹é—´çš„ç©ºé—´è¦å¤§ã€‚ å…ƒç´ çš„è®¾è®¡ï¼Œåº”è¯¥åœ¨å½¼æ­¤ä¹‹é—´å…·æœ‰è¾ƒå°çš„ç©ºé—´ï¼Œè€Œä¸æ˜¯åœ¨è¿™äº›å…ƒç´ å’Œç»„åˆç‰©çš„è¾¹ç¼˜ä¹‹é—´ã€‚ æ ‡ç­¾å’Œæ”¯æŒä¿¡æ¯åº”ä½äºå…¶æè¿°/ç›¸å…³çš„å…ƒç´ é™„è¿‘ã€‚ negative space ç•™ç™½ ç»“åˆ Occamâ€™s Razorï¼Œå°½å¯èƒ½åœ°ä¸ºæ‚¨çš„è®¾è®¡æä¾›ç•™ç™½ç©ºé—´ï¼Œä½¿å®ƒä»¬æ•´é½å¹¶ä½¿å…¶æ„ä¹‰æ›´åŠ æ˜æ˜¾ã€‚ å°†å¤ªå¤šå…ƒç´ æ”¾å…¥æœ‰é™çš„ç©ºé—´å°±åƒè¯•ç€ä¸€æ¬¡å¬ä¸‰é¦–ä¸åŒçš„æ­Œã€‚ å¾ˆéš¾ç†è§£æ‰€è¯´çš„å†…å®¹ã€‚ é‡è¦æ€§å’Œç§©åº è¿™ä¸ªæ˜¯éå¸¸å¸¸è§çš„ï¼Œä½†æˆ‘è§‰å¾—æˆ‘è¿˜æ˜¯è¦åœ¨è¿™é‡Œæä¸€ä¸‹ã€‚ æœ€é‡è¦çš„äº‹æƒ…ï¼Œæ”¾åœ¨é¦–ä½ï¼Œæˆ–è®©å®ƒä»¬å ç”¨æœ€å¤šçš„ç©ºé—´ã€‚ ä½¿ç”¨ä¸€ç³»åˆ—äº‹ç‰©æ¥ä¼ è¾¾ç§©åºã€‚ ç­‰ç­‰ã€‚ ä½ ç»å¯¹å¯ä»¥å¼„æ˜ç™½å…¶ä½™çš„ã€‚ The Endæ­å–œï¼ å¦‚æœæ‚¨æŒ‰ç…§æ‰€æœ‰è¿™äº›æ­¥éª¤è¿›è¡Œåˆ¶ä½œï¼Œé‚£ä¹ˆæŒ‰ç…§è¡Œä¸šæ ‡å‡†ï¼Œå®ƒå¾ˆå¯èƒ½çœ‹èµ·æ¥éå¸¸å¥½ã€‚ å¯¹äºå…¶ä»–ä¸€åˆ‡ï¼Œæ€»æœ‰ä¸€ä½è®¾è®¡å¸ˆã€‚ æˆ‘çš„åå­—æ˜¯MÃ©szÃ¡ros Annaï¼Œæˆ‘æ˜¯ä¸€åå›¾å½¢/ç”¨æˆ·ç•Œé¢è®¾è®¡å¸ˆï¼Œæˆä¸ºUX / UIè®¾è®¡å¸ˆï¼Œå…·æœ‰å“²å­¦å­¦æœ¯èƒŒæ™¯å’Œå¯¹æ‰€æœ‰è®¾è®¡ä¼¦ç†çš„å…´è¶£ã€‚ æˆ‘å¾ˆæƒ³ä¸æ›´å¤šå¿—åŒé“åˆçš„äººè”ç³»ï¼Œæ‰€ä»¥è¯·éšæ—¶ç»™æˆ‘ç•™è¨€ï¼Œå¹¶åœ¨åª’ä½“æˆ–Twitterä¸Šå…³æ³¨æˆ‘ã€‚","tags":[{"name":"è®¾è®¡","slug":"è®¾è®¡","permalink":"https://shleyz.github.io/tags/è®¾è®¡/"}]},{"title":"ä½¿ç”¨getusermediaåå…³é—­ç½‘ç»œæ‘„åƒå¤´","date":"2019-05-08T06:02:02.000Z","path":"2019/05/08/ä½¿ç”¨getusermediaåå…³é—­ç½‘ç»œæ‘„åƒå¤´/","text":"ä½¿ç”¨js çš„navigator.getUserMediaæ‰“å¼€äº†æ‘„åƒå¤´ï¼Œåº”è¯¥æ€æ ·å…³é—­å‘¢ä¸‹é¢æ˜¯æ‘„åƒå¤´çš„å¼€å¯å’Œå…³é—­éœ€è¦æ³¨æ„çš„æ˜¯æµè§ˆå™¨è°ƒç”¨æ‘„åƒå¤´å¿…é¡»æ˜¯å®‰å…¨è®¿é—®çš„æƒ…å†µä¸‹æ‰å¯ä»¥ï¼Œå³localhostæˆ–è€…httpsè®¿é—®çš„é¡µé¢æ‰å¯ä»¥ï¼Œå¦åˆ™ä¸èƒ½è·å–åˆ°æµè§ˆå™¨çš„getUserMediaæ–¹æ³•ã€‚ 1234567891011121314151617181920212223242526272829303132333435&lt;html&gt; &lt;head&gt; &lt;script&gt; var localstream; if (navigator.mediaDevices.getUserMedia !== null) &#123; var options = &#123; video:true, audio:false &#125;; navigator.webkitGetUserMedia(options, function(stream) &#123; vid.src = window.URL.createObjectURL(stream); localstream = stream; vid.play(); console.log(\"streaming\"); &#125;, function(e) &#123; console.log(\"background error : \" + e.name); &#125;); &#125; function vidOff() &#123; vid.pause(); vid.src = \"\"; localstream.getTracks()[0].stop(); console.log(\"Vid off\"); &#125; &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;video id=\"vid\" height=\"120\" width=\"160\" muted=\"muted\" autoplay&gt;&lt;/video&gt;&lt;br&gt; &lt;button onclick=\"vidOff()\"&gt;vidOff!&lt;/button&gt;&lt;br&gt; &lt;div id=\"div\"&gt;&lt;/div&gt; &lt;/body&gt;&lt;/html&gt; localstream.stop() å·²è¢«å¼ƒç”¨ï¼Œä¸å†æœ‰æ•ˆå®é™…ä¸Šå°† localstream.stop() æ›´æ”¹ä¸º localstream.getTracks()[0].stop(); å°±å¯ä»¥ç”¨äº†","tags":[{"name":"è°ƒç”¨æ‘„åƒå¤´","slug":"è°ƒç”¨æ‘„åƒå¤´","permalink":"https://shleyz.github.io/tags/è°ƒç”¨æ‘„åƒå¤´/"}]},{"title":"vscode å¤‡ä»½","date":"2019-04-11T07:14:21.000Z","path":"2019/04/11/vscode-å¤‡ä»½/","text":"ä½¿ç”¨Visual Studio Codeéœ€è¦å®‰è£…ä¸€äº›å¸¸ç”¨æ’ä»¶åŠæ ¹æ®ä¸ªäººçš„å–œå¥½è¿›è¡Œä¸€äº›è®¾ç½®,ä½†å¦‚æœæ¢ç”µè„‘,æˆ–è€…é‡è£…äº†ç³»ç»Ÿ,é‚£ä¹ˆåˆè¦é‡æ–°å®‰è£…åŠè®¾ç½®,æ‰€ä»¥æœ€å¥½è¿˜æ˜¯å¤‡ä»½ä¸€ä¸‹ ä½¿ç”¨Setting Syncæ’ä»¶å°†ç›®å‰é…ç½®ä¿å­˜åˆ°GitHubä¸Šï¼Œä»¥ååªéœ€è¦ä»GitHubä¸Šè·å–ï¼Œå°±å¯ä»¥ä¸€æ¬¡æ€§å®‰è£…æ’ä»¶é…ç½®ä¿¡æ¯ 1.é¦–å…ˆåœ¨VSCodeé‡Œé¢æœç´¢Setting Syncæ’ä»¶ï¼Œå®‰è£…å¥½åé‡æ–°åŠ è½½æ¿€æ´»l Upload Key : Shift + Alt + U å¿«æ·é”®å¤‡ä»½(ä¸Šä¼ ) l Download Key : Shift + Alt + Då¿«æ·é”®æ¢å¤(ä¸‹è½½) 2.æ‰“å¼€ç¼–è¾‘å™¨æŒ‰ä¸‹å¿«æ·é”® Shift + Alt + Uå¿«æ·é”®å¤‡ä»½(ä¸Šä¼ )è¿™ä¸€æ­¥è¦æœ‰æ–‡ä»¶æ‰“å¼€æ—¶æ‰æœ‰ç”¨ 3. è·³è½¬åˆ°github, Generate new tooken(è¦å…ˆç™»å½•å“¦)token description: vscode-asyncå¤‡æ³¨ä¸€ä¸‹ select scopes: é€‰æ‹©gistâ€”create gists ç‚¹å‡»Generate token ç”Ÿæˆä¸€ä¸²key å°†ç”Ÿæˆçš„keyè¾“å…¥vscodeå‘½ä»¤æ¡†é‡Œ å›è½¦ å¼¹å‡ºæ§åˆ¶å°æç¤ºå¤‡ä»½(ä¸Šä¼ )æ’ä»¶æˆåŠŸ ä¸Šä¼ å®Œæˆåä¼šç”Ÿæˆä¸€ä¸ªID, setting-&gt;ç”¨æˆ·è®¾ç½®-&gt;&apos;sync.gist&apos;:&quot;ä¸€ä¸²å­—ç¬¦ä¸²ç»„æˆçš„ID&quot; 4.keyå’ŒIDéƒ½è¦è®°ä¸‹æ¥ ä¸‹è½½(æ¢å¤)æ’ä»¶éœ€è¦ç”¨åˆ°5.ä¸‹è½½(æ¢å¤)æ’ä»¶Shift + Alt + D è¾“å…¥ID å³å¯å¼€å§‹åŒæ­¥é…ç½® å°†ä¸Šä¼ (å¤‡ä»½)å¥½æ’ä»¶çš„keyå’ŒIDè¾“å…¥vscodeå‘½ä»¤æ¡†é‡Œ å›è½¦ å¤‡ä»½ä¸€ä¸‹æˆ‘è‡ªå·±çš„ github key: 3036e7cdffd1ff62b80e69be10a9753797a54cda vscode ID: 3b3adac00ea2bb6100d53c932c15fa18","tags":[{"name":"vscode","slug":"vscode","permalink":"https://shleyz.github.io/tags/vscode/"}]},{"title":"ios overflow:scroll ä¸é¡ºç•…çš„é—®é¢˜","date":"2019-04-02T09:28:35.000Z","path":"2019/04/02/ios-overflow-scroll-ä¸é¡ºç•…çš„é—®é¢˜/","text":"overflow:scroll åœ¨ iOSä¸Šæ»‘åŠ¨ä¼šæœ‰å¡çš„æ„Ÿè§‰ï¼Œä¸æ˜¯å¾ˆé¡ºç•… è§£å†³åŠæ³•ï¼š åœ¨overflowï¼šscrollå¤„åŒæ—¶æ·»åŠ 1-webkit-overflow-scrolling: touch; è¿™è¡Œä»£ç å¯ç”¨äº†ç¡¬ä»¶åŠ é€Ÿç‰¹æ€§ï¼Œæ‰€ä»¥æ»‘åŠ¨å¾ˆæµç•…ã€‚","tags":[{"name":"ioså¡é¡¿","slug":"ioså¡é¡¿","permalink":"https://shleyz.github.io/tags/ioså¡é¡¿/"}]},{"title":"å¾®ä¿¡å…¬ä¼—å·iOSæ—¶é—´æ˜¾ç¤ºNANä¸å…¼å®¹é—®é¢˜","date":"2019-03-11T05:29:46.000Z","path":"2019/03/11/å¾®ä¿¡å…¬ä¼—å·iOSæ—¶é—´æ˜¾ç¤ºNANä¸å…¼å®¹é—®é¢˜/","text":"å› ä¸ºåœ¨IOSæµè§ˆå™¨ä¸‹ï¼Œnew Date(â€œ2019-03-10 23:59:59â€)ä¼šè¿”å›invalid data,æ‰€ä»¥ä¼šé€ æˆæ—¶é—´æ˜¾ç¤ºä¸º1NAN-NAN-NAN NAN:NAN:NAN åªè¦é¿å…è¿™ç§æƒ…å†µå°±è¡Œï¼Œåœ¨ä»£ç ä¸­å¯ä»¥ä½¿ç”¨æ­£åˆ™æ›¿æ¢1new Date(\"2019/03/10 23:59:59\") æ¥è§£å†³è¿™ç§é—®é¢˜","tags":[]},{"title":"å‰ç«¯å¤„ç†æ‰¹é‡ä¸Šä¼ å›¾ç‰‡çš„è§£å‹ç¼©","date":"2019-02-26T10:08:51.000Z","path":"2019/02/26/å‰ç«¯å¤„ç†æ‰¹é‡ä¸Šä¼ å‹ç¼©å›¾ç‰‡/","text":"ä¸€èˆ¬å‰ç«¯å¯¹äºæ‰¹é‡å›¾ç‰‡å‹ç¼©åŒ…åªè¿›è¡Œä¸Šä¼ ï¼Œåå°è¿›è¡Œæ–‡ä»¶å¤„ç†ä½†æ˜¯å‰ç«¯ä¹Ÿå®ç°è§£å‹å¹¶éªŒè¯ä¹‹åè¿›è¡Œä¸Šä¼ ï¼Œå¤šç”¨åœ¨æ‰¹é‡æ·»åŠ äººå‘˜æ—¶ï¼Œäººè„¸éªŒè¯/å›¾ç‰‡å¤„ç†ï¼Œè¿›è€Œè¿›è¡Œäººå‘˜çš„åˆ›å»ºä¸æç¤ºã€‚è¿™æ ·å¯ä»¥åŠ é€Ÿä¸Šä¼ çš„è¿‡ç¨‹ï¼Œä¹Ÿå¯ä»¥å®ç°å‰ç«¯çš„å®šåˆ¶åŒ–çš„éªŒè¯ã€‚ è§£å‹ç¼©123456789101112import JsZip from 'jszip';var newZip = new JsZip();// è·å–è§£å‹ç¼©çš„æ–‡ä»¶newZip .loadAsync(file, &#123; base64: true &#125;) .then(function(file) &#123; console.log(file) &#125;) .then(function(content) &#123; console.log(content); &#125;); éå†å¯¹è±¡ å¤„ç†è§£å‹è¿‡åçš„ZipObjectObject.keys(content).forEach(key =&gt; { content[key].async('base64').then(async function(base64) { basicInfo.face = 'data:image/jpeg;base64,' + base64; content[key].face = 'data:image/jpeg;base64,' + base64; let tempArr = content[key].name.split('-'); // 0å§“å-1æ€§åˆ«-2æ‰‹æœºå·.jpg if (tempArr.length &lt; 3) { // å‘½åä¸è§„èŒƒ uploadUser.push({ face: base64, name: content[key].name, msg: 'å‘½åä¸è§„èŒƒ', }); _vm.showUploadUser = true; _vm.$notify.error(`${content[key].name}å‘½åä¸è§„èŒƒ`); return; } else if ( tempArr[0] === '' || tempArr[1] === '' || tempArr[2] === '' ) { uploadUser.push({ face: base64, name: content[key].name, msg: 'å§“åæ€§åˆ«å’Œæ‰‹æœºå·ä¸èƒ½ä¸ºç©º', }); _vm.showUploadUser = true; _vm.$notify.error(`${content[key].name}å§“åæ€§åˆ«å’Œæ‰‹æœºå·ä¸èƒ½ä¸ºç©º`); return; } else if (!/^1[345789]\\d{9}$/.test(tempArr[2].split('.')[0])) { uploadUser.push({ face: base64, name: content[key].name, msg: 'æ‰‹æœºå·ç æœ‰è¯¯', }); _vm.showUploadUser = true; _vm.$notify.error(`${content[key].name}æ‰‹æœºå·ç æœ‰è¯¯`); return; } basicInfo.userName = tempArr[0]; basicInfo.gender = tempArr[1] === 'ç”·' ? 1 : 2; basicInfo.phone = tempArr[2].split('.')[0]; _vm.batchLoading = true; await _vm .$post('/api/basics/sysUser', basicInfo) .then(response =&gt; { if (response.code == 200) { uploadUser.push({ face: base64, name: content[key].name, msg: 'ä¸Šä¼ æˆåŠŸ', status: 'success', }); _vm.getUserManageData(); _vm.batchLoading = false; } else { uploadUser.push({ face: base64, name: content[key].name, msg: response.msg, }); _vm.batchLoading = false; _vm.$notify.error({ message: response.msg, }); } }) .catch(error =&gt; { uploadUser.push({ face: base64, name: content[key].name, msg: error, }); _vm.batchLoading = false; _vm.$notify.error({ message: this.$error2message(error), }); }); }); _vm.uploadUser = uploadUser; console.log(uploadUser); });","tags":[{"name":"æ‰¹é‡ä¸Šä¼ å›¾ç‰‡","slug":"æ‰¹é‡ä¸Šä¼ å›¾ç‰‡","permalink":"https://shleyz.github.io/tags/æ‰¹é‡ä¸Šä¼ å›¾ç‰‡/"}]},{"title":"åŠ¨æ€è®¾ç½®faviconä»¥åŠç¦ç”¨favicon","date":"2019-02-26T00:57:38.000Z","path":"2019/02/26/åŠ¨æ€è®¾ç½®faviconä»¥åŠç¦ç”¨favicon/","text":"æœ€è¿‘é¡¹ç›®æœ‰ä¸€ä¸ªéœ€æ±‚å°±æ˜¯åœ¨ä¼ä¸šç®¡ç†åå°ä¸€é”®ç™»å½•åˆ°å¯¹åº”çš„ä¼ä¸šæ—¶ï¼Œéœ€è¦å®ç°ä¸åŒçš„ä¼ä¸šæ˜¾ç¤ºä¸åŒçš„faviconå›¾æ ‡ã€‚å½“ç„¶è¿™ä¸ªä¼ä¸šçš„ä¿¡æ¯åŒ…æ‹¬faviconæ˜¯å·²ç»ä»åå°è·å–åˆ°äº†çš„ã€‚ åŠ¨æ€åŠ è½½ä¼ä¸šlogoå’Œå…¨å12345678910111213141516171819202122232425262728293031323334353637383940(function() &#123; var link = document.querySelector(\"link[rel*='icon']\") || document.createElement('link'); link.type = 'image/x-icon'; link.rel = 'shortcut icon'; // ä»localstorageé‡Œé¢è·å–å®¢æˆ·ä¿¡æ¯ let customerInfo = JSON.parse(localStorage.getItem('userInfo')); // å®¢æˆ·logo let customerIcon = customerInfo &amp;&amp; customerInfo.platformCustomerModel &amp;&amp; customerInfo.platformCustomerModel.customerIcon ? customerInfo.platformCustomerModel.customerIcon : null; // å®¢æˆ·å…¨å let customerTitle = customerInfo &amp;&amp; customerInfo.platformCustomerModel &amp;&amp; customerInfo.platformCustomerModel.fullName ? customerInfo.platformCustomerModel.fullName : 'åŸå¸‚ç›¾ç‰Œä¼ä¸šé—¨æˆ·ç³»ç»Ÿ'; let path0 = window.location.pathname.split('/')[1]; if (path0.indexOf('login') !== -1) &#123; //å¦‚æœæ˜¯ç™»é™†é¡µé¢ link.href = 'static/favicon.ico'; &#125; else &#123; //å¦‚æœä¸æ˜¯ç™»é™†é¡µé¢ link.href = customerIcon ? '/cityshield-pic/' + customerIcon : 'static/favicon.ico'; &#125; document.getElementsByTagName('head')[0].appendChild(link); document.title = customerTitle;&#125;)(); ç¦æ­¢favicon&lt;link rel=\"icon\" href=\"data:;base64,=\"&gt; // æˆ–è€…è¯¦ç»†ä¸€ç‚¹ &lt;link rel=\"icon\" href=\"data:image/ico;base64,aWNv\"&gt;","tags":[{"name":"favicon","slug":"favicon","permalink":"https://shleyz.github.io/tags/favicon/"}]},{"title":"nodejsæ¨¡å—crypto","date":"2019-01-20T05:25:51.000Z","path":"2019/01/20/nodejsæ¨¡å—crypto/","text":"crypto æä¾›é€šç”¨çš„åŠ å¯†å’Œå“ˆå¸Œç®—æ³•(ç”¨ C/C++å®ç°çš„ç®—æ³•)å“ˆå¸Œç®—æ³•ï¼šMD5 å’Œ SHA1ç”¨äºç»™ä»»æ„æ•°æ®ä¸€ä¸ªâ€œç­¾åâ€ 1234567891011121314151617\"use strict\";var crypto = require(\"crypto\");// md5åŠ å¯†--32 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²const hash = crypto.createHash(\"md5\");// sha1åŠ å¯†--40 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²// const hash = crypto.createHash(\"sha1\");// sha256åŠ å¯†--64 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²// const hash = crypto.createHash(\"sha256\");// sha512åŠ å¯†--128 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²// const hash = crypto.createHash(\"sha512\");hash.update(\"hello world\");// hash.update(\"hello nodejs\");console.log(hash.digest(\"hex\")); éšæœºæ•°â€œå¢å¼ºâ€çš„å“ˆå¸Œç®—æ³•ï¼šHmacæ¯”å“ˆå¸Œç®—æ³•å¤šäº†ä¸€ä¸ªå¯†é’¥å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²æ˜¯è‡ªå·±å®šä¹‰çš„ 1234567891011121314151617\"use strict\";var crypto = require(\"crypto\");// md5åŠ å¯†--32 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²const hmac = crypto.createHash(\"md5\", \"nodejs\");// sha1åŠ å¯†--40 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²// const hmac = crypto.createHash(\"sha1\", \"nodejs\");// sha256åŠ å¯†--64 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²// const hmac = crypto.createHash(\"sha256\", \"nodejs\");// sha512åŠ å¯†--128 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²// const hmac = crypto.createHash(\"sha512\", \"nodejs\");hmac.update(\"hello world\");// hash.update(\"hello nodejs\");console.log(hmac.digest(\"hex\")); å¯¹ç§°åŠ å¯†ç®—æ³•ï¼šAESåŠ è§£å¯†éƒ½ç”¨åŒä¸€ä¸ªå¯†é’¥ï¼Œcrypto æ¨¡å—æä¾›äº† AES æ”¯æŒï¼Œä½†æ˜¯éœ€è¦è‡ªå·±å°è£…å¥½å‡½æ•°ï¼Œä¾¿äºä½¿ç”¨ 12345678910111213141516171819202122232425262728293031\"use strict\";var crypto = require(\"crypto\");function aesEncrpt(data, key) &#123; const cipher = crypto.createCipher(\"aes192\", key); var crypted = cipher.update(data, \"utf8\", \"hex\"); crypted += cipher.final(\"hex\"); return crypted;&#125;function aesDecrypt(encrypted, key) &#123; const decipher = crypto.createDecipher(\"aes192\", key); var decrypted = decipher.update(encrypted, \"hex\", \"utf8\"); decrypted += decipher.final(\"utf8\"); return decrypted;&#125;var data = \"hello, this is a secrete message\";var key = \"Password!\";var encryptd = aesEncrpt(data, key);var decryptd = aesDecrypt(encryptd, key);console.log(\"Plain text: \" + data);console.log(\"encryptd text: \" + encryptd);console.log(\"decryptd text: \" + decryptd);// æ‰§è¡Œç»“æœï¼š// Plain text: hello, this is a secrete message// encryptd text: 1d19941e8612ca5d3b08c1d47db31ce7669c40e22c345804b3034ed233d91d73dd5221be4d3d37ebbcc8d18416c340cd// decryptd text: hello, this is a secrete message Diffie-Hellman, DH ç®—æ³•æ˜¯ä¸€ç§å¯†é’¥äº¤æ¢åè®®.å®ƒå¯ä»¥è®©åŒæ–¹åœ¨ä¸æ³„æ¼å¯†é’¥çš„æƒ…å†µä¸‹åå•†å‡ºä¸€ä¸ªå¯†é’¥æ¥ã€‚RSA éå¯¹ç§°åŠ å¯†ç®—æ³•ç”±ä¸€ä¸ªç§é’¥å’Œä¸€ä¸ªå…¬é’¥æ„æˆçš„å¯†é’¥å¯¹ï¼Œé€šè¿‡ç§é’¥åŠ å¯†ï¼Œå…¬é’¥è§£å¯†ï¼Œæˆ–è€…é€šè¿‡å…¬é’¥åŠ å¯†ï¼Œç§é’¥è§£å¯†ã€‚å…¶ä¸­ï¼Œå…¬é’¥å¯ä»¥å…¬å¼€ï¼Œç§é’¥å¿…é¡»ä¿å¯†ã€‚","tags":[{"name":"nodejs","slug":"nodejs","permalink":"https://shleyz.github.io/tags/nodejs/"}]},{"title":"gitlab-jenkinsè‡ªåŠ¨æ„å»º","date":"2019-01-17T05:49:25.000Z","path":"2019/01/17/jenkinsè‡ªåŠ¨æ„å»º/","text":"åœ¨éƒ¨é—¨çš„æµ‹è¯•ç¯å¢ƒä¸­ï¼Œå¼€å‘äººå‘˜ä¸€æ—¦å‘gitlabä»“åº“æäº¤æˆåŠŸä»£ç ï¼Œgitlabå°±ä¼šè‡ªåŠ¨è§¦å‘jenkinsæ„å»ºé¡¹ç›®ã€‚å½“ç„¶åœ¨æ„å»ºåè¿˜å¯ä»¥æ·»åŠ é¡¹ç›®éƒ¨ç½²æˆ–è€…è‡ªåŠ¨åŒ–æµ‹è¯•çš„è„šæœ¬ã€‚è¿™é‡Œåªé’ˆå¯¹æµ‹è¯•ç¯å¢ƒã€‚ jenkins ä¾èµ–java,é¦–å…ˆå®‰è£…java sdk å®‰è£…jenkins: brew install jenkins å¯åŠ¨ jenkins å¼€æœºè‡ªå¯åŠ¨ï¼š ln -sfv /usr/local/opt/jenkins/*.plist ~/Library/LaunchAgents ç™»å½•ï¼š http://localhost:8080 å®‰è£…æ’ä»¶ å®‰è£…Gitlab Hook Pluginæ’ä»¶ï¼š Gitlab Hook Plugin Build Authorization Token Root Plugin åˆ›å»ºç”¨æˆ·ç™»é™†è¿›è¡Œæ„å»º","tags":[{"name":"jenkins","slug":"jenkins","permalink":"https://shleyz.github.io/tags/jenkins/"}]},{"title":"nodejsåŸºæœ¬æ¨¡å—","date":"2019-01-13T01:36:56.000Z","path":"2019/01/13/nodejsåŸºæœ¬æ¨¡å—/","text":"nodejs ä¸­å°‘æ•°å‡ ä¸ªåŒæ­¥ I/O æ“ä½œï¼šrequire åŸºæœ¬æ¨¡å—1.global: åœ¨ Node.js ç¯å¢ƒä¸­ï¼Œå”¯ä¸€çš„å…¨å±€å¯¹è±¡2.process: ä¹Ÿæ˜¯ Node.js æä¾›çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒä»£è¡¨å½“å‰ Node.js è¿›ç¨‹ã€‚é€šè¿‡ process å¯¹è±¡å¯ä»¥æ‹¿åˆ°è®¸å¤šæœ‰ç”¨ä¿¡æ¯ï¼š1234567891011121314&gt; process === global.process;true&gt; process.version;'v8.11.4'&gt; process.platform;'darwin'&gt; process.arch;'x64'&gt; process.cwd(); //è¿”å›å½“å‰å·¥ä½œç›®å½•'/Users/michael'&gt; process.chdir('/private/tmp'); // åˆ‡æ¢å½“å‰å·¥ä½œç›®å½•undefined&gt; process.cwd();'/private/tmp' JavaScript å’Œ Node.js æ˜¯ç”±äº‹ä»¶é©±åŠ¨æ‰§è¡Œçš„å•çº¿ç¨‹æ¨¡å‹ï¼ŒNode.js ä¸æ–­æ‰§è¡Œå“åº”äº‹ä»¶çš„ JavaScript å‡½æ•°ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•å“åº”äº‹ä»¶çš„å‡½æ•°å¯ä»¥æ‰§è¡Œæ—¶ï¼ŒNode.js å°±é€€å‡ºäº†ã€‚ process.nextTick()å¦‚æœæƒ³è¦åœ¨ä¸‹ä¸€æ¬¡äº‹ä»¶å“åº”ä¸­æ‰§è¡Œä»£ç ï¼Œå¯ä»¥è°ƒç”¨ process.nextTick()ï¼š 12345process.nextTick(() =&gt; &#123; console.log(\"nextTick callback!\");&#125;);console.log(\"nextTick was set!\"); è¾“å‡ºæ˜¯ï¼š 12nextTick was set!nextTick callback! è¿™è¯´æ˜ä¼ å…¥ process.nextTick()çš„å‡½æ•°ä¸æ˜¯ç«‹åˆ»æ‰§è¡Œï¼Œè€Œæ˜¯è¦ç­‰åˆ°ä¸‹ä¸€æ¬¡äº‹ä»¶å¾ªç¯ã€‚ process çš„ exit äº‹ä»¶åœ¨ç¨‹åºå³å°†é€€å‡ºæ—¶æ‰§è¡ŒæŸä¸ªå›è°ƒå‡½æ•° 123process.on(\"exit\", code =&gt; &#123; console.log(\"about to exit with code: \" + code);&#125;); å¸¸ç”¨å†…ç½®æ¨¡å—fs æ–‡ä»¶ç³»ç»Ÿæ¨¡å—,è´Ÿè´£è¯»å†™æ–‡ä»¶å’Œæ‰€æœ‰å…¶å®ƒ JavaScript æ¨¡å—ä¸åŒçš„æ˜¯ï¼Œfs æ¨¡å—åŒæ—¶æä¾›äº†å¼‚æ­¥å’ŒåŒæ­¥çš„æ–¹æ³•ã€‚ å¼‚æ­¥è¯»å–æ–‡ä»¶:123456789101112131415fs.readFile(\"base_module.js\", \"utf-8\", (err, data) =&gt; &#123; if (err) &#123; console.log(err); &#125; else &#123; console.log(data); &#125;&#125;);fs.readFile(\"1.jpeg\", (err, data) =&gt; &#123; if (err) &#123; console.log(err); &#125; else &#123; console.log(data); console.log(data.length + \" bytes\"); &#125;&#125;); 123// Buffer -&gt; Stringvar text = data.toString(\"utf-8\");console.log(text); 123// String -&gt; Buffervar buf = Buffer.from(text, \"utf-8\");console.log(buf); åŒæ­¥è¯»æ–‡ä»¶1234const data = fs.readFileSync(\"1.jpeg\");const data1 = fs.readFileSync(\"base_module.js\", \"utf-8\");console.log(data); // è¯»å–å›¾ç‰‡console.log(data1); // è¯»å–jsæ–‡ä»¶ å¦‚æœåŒæ­¥è¯»å–æ–‡ä»¶å‘ç”Ÿé”™è¯¯ï¼Œéœ€è¦ç”¨ tryâ€¦catch æ¥æ•è· 12345678try &#123; const data = fs.readFileSync(\"1.jpeg\"); const data1 = fs.readFileSync(\"base_module.js\", \"utf-8\"); console.log(data); console.log(data1);&#125; catch (err) &#123; console.log(err);&#125; å†™æ–‡ä»¶ fs.writeFile()12345678910\"use strict\";var fs = require(\"fs\");var data = \"console.log('aaa')\";// å¼‚æ­¥å†™å…¥fs.writeFile(\"writeInFile.js\", data, err =&gt; &#123; console.log(err);&#125;);// åŒæ­¥å†™å…¥fs.writeFileSync(\"writeInFileAsync.js\", data); stat è·å–æ–‡ä»¶å¤§å°ï¼Œåˆ›å»ºæ—¶é—´ç­‰ä¿¡æ¯12345678910111213141516171819202122\"use strict\";var fs = require(\"fs\");fs.stat(\"base_module.js\", (err, stat) =&gt; &#123; if (err) &#123; console.log(err); &#125; else &#123; console.log(\"isFile:\" + stat.isFile()); console.log(\"isDir:\" + stat.isDirectory()); if (stat.isFile) &#123; console.log(\"File size:\" + stat.size); console.log(\"create time:\" + stat.birthtime); console.log(\"modify time:\" + stat.mtime); &#125; &#125;&#125;);// isFile:true// isDir:false// File size:465// create time:Thu Jun 20 2019 09:52:21 GMT+0800 (CST)// modify time:Thu Jun 20 2019 10:13:35 GMT+0800 (CST) stream æ”¯æŒâ€œæµâ€æ•°æ®ç»“, ä»…åœ¨æœåŠ¡ç«¯å¯ç”¨çš„æ¨¡å—æµçš„ç‰¹ç‚¹æ˜¯æ•°æ®æ˜¯æœ‰åºçš„ï¼Œè€Œä¸”å¿…é¡»ä¾æ¬¡è¯»å–ï¼Œæˆ–è€…ä¾æ¬¡å†™å…¥ï¼Œä¸èƒ½åƒ Array é‚£æ ·éšæœºå®šä½ã€‚ åœ¨ Node.js ä¸­ï¼Œæµä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬åªéœ€è¦å“åº”æµçš„äº‹ä»¶å°±å¯ä»¥äº†ï¼šdata äº‹ä»¶è¡¨ç¤ºæµçš„æ•°æ®å·²ç»å¯ä»¥è¯»å–äº†ï¼Œend äº‹ä»¶è¡¨ç¤ºè¿™ä¸ªæµå·²ç»åˆ°æœ«å°¾äº†ï¼Œæ²¡æœ‰æ•°æ®å¯ä»¥è¯»å–äº†ï¼Œerror äº‹ä»¶è¡¨ç¤ºå‡ºé”™äº†ã€‚ ä»æ–‡ä»¶æµè¯»å–æ–‡æœ¬å†…å®¹ï¼š1234567891011121314151617\"use strict\";var fs = require(\"fs\");var rs = fs.createReadStream(\"aaa.text\", \"utf-8\");rs.on(\"data\", chunk =&gt; &#123; console.log(\"DATA:\"); console.log(chunk);&#125;);rs.on(\"end\", chunk =&gt; &#123; console.log(\"END\");&#125;);rs.on(\"error\", err =&gt; &#123; console.log(\"ERROR:\" + err);&#125;); ä»¥æµçš„å½¢å¼å†™å…¥æ–‡ä»¶:123456789101112131415\"use strict\";var fs = require(\"fs\");var ws = fs.createWriteStream(\"in.text\", \"utf-8\");ws.write(\"å¢åŠ æ®µè½1\\n\");ws.write(\"å¢åŠ æ®µè½2\\n\");ws.write(\"å¢åŠ æ®µè½3\\n\");ws.end();var ws1 = fs.createWriteStream(\"in1.text\", \"utf-8\");ws1.write(new Buffer(\"ä½¿ç”¨Streamå†™å…¥äºŒè¿›åˆ¶æ•°æ®...\\n\"), \"utf-8\");ws1.write(new Buffer(\"END \\n\"), \"utf-8\");ws1.end(); pipe ä¸¤ä¸ªæµä¸²è”èµ·æ¥ä¸€ä¸ª Readable æµå’Œä¸€ä¸ª Writable æµä¸²èµ·æ¥åï¼Œæ‰€æœ‰çš„æ•°æ®è‡ªåŠ¨ä» Readable æµè¿›å…¥ Writable æµï¼Œè¿™ç§æ“ä½œå« pipeã€‚ åœ¨ Node.js ä¸­ï¼ŒReadable æµæœ‰ä¸€ä¸ª pipe()æ–¹æ³•ï¼Œå°±æ˜¯ç”¨æ¥å¹²è¿™ä»¶äº‹çš„ã€‚ 1234567\"use strict\";var fs = require(\"fs\");var rs = fs.createReadStream(\"in.text\");var ws = fs.createWriteStream(\"copied.text\");rs.pipe(ws); httpè¦å¼€å‘ HTTP æœåŠ¡å™¨ç¨‹åºï¼Œç›´æ¥æ“ä½œ http æ¨¡å—æä¾›çš„ request å’Œ response å¯¹è±¡ã€‚ request å¯¹è±¡å°è£…äº† HTTP è¯·æ±‚ï¼Œæˆ‘ä»¬è°ƒç”¨ request å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•å°±å¯ä»¥æ‹¿åˆ°æ‰€æœ‰ HTTP è¯·æ±‚çš„ä¿¡æ¯ï¼› response å¯¹è±¡å°è£…äº† HTTP å“åº”ï¼Œæˆ‘ä»¬æ“ä½œ response å¯¹è±¡çš„æ–¹æ³•ï¼Œå°±å¯ä»¥æŠŠ HTTP å“åº”è¿”å›ç»™æµè§ˆå™¨ã€‚ ä¸€ä¸ªç®€å•çš„ HTTP æœåŠ¡å™¨ï¼š1234567891011\"use strict\";var http = require(\"http\");const server = http.createServer((req, res) =&gt; &#123; console.log(req.method + \":\" + req.url); res.writeHead(200, &#123; \"Content-type\": \"text/html\" &#125;); res.end(\"&lt;h1&gt;hell nodejs&lt;/h1&gt;\");&#125;);server.listen(9090);console.log(\"server is runnig at http://127.0.0.1:9090/\"); ä¸€ä¸ªç®€å•çš„ æ–‡ä»¶ æœåŠ¡å™¨ï¼š123456789101112131415161718192021222324252627282930313233343536373839\"use strict\";var fs = require(\"fs\");var url = require(\"url\");var path = require(\"path\");var http = require(\"http\");// ä»å‘½ä»¤è¡Œå‚æ•°è·å–rootç›®å½•ï¼Œé»˜è®¤æ˜¯å½“å‰ç›®å½•:var root = path.resolve(process.argv[2] || \".\");console.log(\"Static root dir: \" + root);var server = http.createServer((req, res) =&gt; &#123; // è·å¾—URLçš„pathï¼Œç±»ä¼¼ '/css/bootstrap.css': var pathname = url.parse(req.url).pathname; // è·å¾—å¯¹åº”çš„æœ¬åœ°æ–‡ä»¶è·¯å¾„ï¼Œç±»ä¼¼ '/srv/www/css/bootstrap.css': var filePath = path.join(root, pathname); // è·å–æ–‡ä»¶çŠ¶æ€: fs.stat(filePath, (err, stat) =&gt; &#123; if (!err &amp;&amp; stat.isFile()) &#123; // æ²¡æœ‰å‡ºé”™å¹¶ä¸”æ–‡ä»¶å­˜åœ¨: console.log(\"200\" + req.url); // å‘é€200å“åº”: res.writeHead(200); // å°†æ–‡ä»¶æµå¯¼å‘response: fs.createReadStream(filePath).pipe(res); &#125; else &#123; // å‡ºé”™äº†æˆ–è€…æ–‡ä»¶ä¸å­˜åœ¨: console.log(\"404\" + req.url); // å‘é€404å“åº”: res.writeHead(404); res.end(\"404 not found\"); &#125; &#125;);&#125;);server.listen(9090);console.log(\"server is running at http://127.0.0.1:9090/\");","tags":[{"name":"nodejs","slug":"nodejs","permalink":"https://shleyz.github.io/tags/nodejs/"}]},{"title":"å•å…ƒæµ‹è¯•","date":"2018-12-14T01:03:05.000Z","path":"2018/12/14/reactå•å…ƒæµ‹è¯•/","text":"Jest è¢« Facebook ç”¨æ¥æµ‹è¯•åŒ…æ‹¬ React åº”ç”¨åœ¨å†…çš„æ‰€æœ‰ JavaScript ä»£ç ã€‚Jest çš„ä¸€ä¸ªç†å¿µæ˜¯æä¾›ä¸€å¥—å®Œæ•´é›†æˆçš„ â€œé›¶é…ç½®â€ æµ‹è¯•ä½“éªŒã€‚jsdomEnzyme æ¨¡æ‹Ÿreactæµ…rendernock.jsæ¨¡æ‹Ÿè¯·æ±‚è¿”å›çš„æ•°æ®sinon ç”¨äºåšå‡½æ•°çš„è·Ÿè¸ªï¼Œé›†æˆåœ¨jesté‡Œé¢Istanbul æ£€æµ‹è¦†ç›–ç‡mocha Mochaçš„ä½œç”¨æ˜¯è¿è¡Œæµ‹è¯•è„šæœ¬ï¼Œé¦–å…ˆå¿…é¡»å­¦ä¼šå†™æµ‹è¯•è„šæœ¬ã€‚æ‰€è°“â€æµ‹è¯•è„šæœ¬â€ï¼Œå°±æ˜¯ç”¨æ¥æµ‹è¯•æºç çš„è„šæœ¬ã€‚ å¾…æµ‹è¯•çš„æºç  // add.js function add(x, y) { return x + y; } module.exports = add; æµ‹è¯•è„šæœ¬ // add.test.js var add = require(&apos;./add.js&apos;); // å¼•å…¥å¾…æµ‹è¯•å‡½æ•° var expect = require(&apos;chai&apos;).expect; // å¼•å…¥æ–­è¨€åº“ describe(&apos;åŠ æ³•å‡½æ•°çš„æµ‹è¯•&apos;, function() { it(&apos;1 åŠ  1 åº”è¯¥ç­‰äº 2&apos;, function() { // itæ˜¯ä¸€ä¸ªæœ€å°çš„æµ‹è¯•å•å…ƒï¼Œæµ‹è¯•ç”¨ä¾‹ expect(add(1, 1)).to.be.equal(2); // æ–­è¨€ }); }); è¿è¡Œæµ‹è¯•è„šæœ¬ mocha --recursive Mochaé»˜è®¤è¿è¡Œtestå­ç›®å½•é‡Œé¢çš„æµ‹è¯•è„šæœ¬ã€‚æ‰€ä»¥ï¼Œä¸€èˆ¬éƒ½ä¼šæŠŠæµ‹è¯•è„šæœ¬æ”¾åœ¨testç›®å½•é‡Œé¢ï¼Œç„¶åæ‰§è¡Œmochaå°±ä¸éœ€è¦å‚æ•°äº†ã€‚ Mochaé»˜è®¤åªæ‰§è¡Œtestå­ç›®å½•ä¸‹é¢ç¬¬ä¸€å±‚çš„æµ‹è¯•ç”¨ä¾‹ï¼Œä¸ä¼šæ‰§è¡Œæ›´ä¸‹å±‚çš„ç”¨ä¾‹ã€‚ åŠ ä¸Š--recursiveå‚æ•°ï¼Œè¿™æ—¶testå­ç›®å½•ä¸‹é¢æ‰€æœ‰çš„æµ‹è¯•ç”¨ä¾‹----ä¸ç®¡åœ¨å“ªä¸€å±‚----éƒ½ä¼šæ‰§è¡Œã€‚ å‘½ä»¤è¡ŒæŒ‡å®šæµ‹è¯•è„šæœ¬æ—¶ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼ŒåŒæ—¶æŒ‡å®šå¤šä¸ªæ–‡ä»¶ã€‚ mocha spec/{my,awesome}.js mocha test/unit/*.js mocha --reporters å¯ä»¥æŸ¥çœ‹ç”Ÿæˆçš„æµ‹è¯•æŠ¥å‘Šæ ¼å¼ mocha --reporter tap //é»˜è®¤å½¢å¼ mocha --reporter spec mocha --reporter markdown ç›‘è§†æµ‹è¯•è„šæœ¬ mocha --watch --watchå‚æ•°ç”¨æ¥ç›‘è§†æŒ‡å®šçš„æµ‹è¯•è„šæœ¬ã€‚åªè¦æµ‹è¯•è„šæœ¬æœ‰å˜åŒ–ï¼Œå°±ä¼šè‡ªåŠ¨è¿è¡ŒMochaã€‚","tags":[]},{"title":"reactæ€§èƒ½ä¼˜åŒ–","date":"2018-12-03T06:33:10.000Z","path":"2018/12/03/reactæ€§èƒ½ä¼˜åŒ–/","text":"shouldComponentUpdate ç»„ä»¶æ˜¯å¦éœ€è¦è¢«æ›´æ–°shouldComponentUpdateå‡½æ•°æ˜¯é‡æ¸²æŸ“æ—¶render()å‡½æ•°è°ƒç”¨å‰è¢«è°ƒç”¨çš„å‡½æ•°ï¼Œå®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šnextPropså’ŒnextStateï¼Œåˆ†åˆ«è¡¨ç¤ºä¸‹ä¸€ä¸ªpropså’Œä¸‹ä¸€ä¸ªstateçš„å€¼ã€‚å¹¶ä¸”ï¼Œå½“å‡½æ•°è¿”å›falseæ—¶å€™ï¼Œé˜»æ­¢æ¥ä¸‹æ¥çš„render()å‡½æ•°çš„è°ƒç”¨ï¼Œé˜»æ­¢ç»„ä»¶é‡æ¸²æŸ“ï¼Œè€Œè¿”å›trueæ—¶ï¼Œç»„ä»¶ç…§å¸¸é‡æ¸²æŸ“ã€‚ PureComponentçº¯ç»„ä»¶ï¼Œè‡ªåŠ¨æœ‰ä¸€ä¸ªshouldComponentUpdateï¼Œå¦‚æœä½ åªæ˜¯å•çº¯åœ°æƒ³è¦é¿å…stateå’Œpropsä¸å˜ä¸‹çš„å†—ä½™çš„é‡æ¸²æŸ“ï¼Œé‚£ä¹ˆreactçš„pureComponentå¯ä»¥éå¸¸æ–¹ä¾¿åœ°å®ç°è¿™ä¸€ç‚¹ é¿å…åœ¨renderé‡Œé¢ä½¿ç”¨ç®­å¤´å‡½æ•°å’Œbind&lt;button onClick={() =&gt; this.handleClick()} style={this.state}&gt; ç¡®å®š &lt;/button&gt; handleClick(){ ...... } æµè§ˆå™¨æ¯æ‰§è¡Œä¸€æ¬¡ =&gt;ï¼Œå°±éœ€è¦åˆ›å»ºä¸€ä¸ª æ–°çš„å‡½æ•°å¯¹è±¡ï¼Œè¿™å…¶å®æ˜¯ä¸€ä¸ªæ¯”è¾ƒè€—è´¹æ€§èƒ½çš„æ“ä½œï¼Œ å¦‚æœä½ åœ¨ render ä¸­ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œé‚£ä¹ˆæ¯æ¬¡è°ƒç”¨ render æ—¶éƒ½ä¼šå»åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°å¯¹è±¡ï¼Œæ­¤æ—¶ï¼Œå³ä½¿ä½¿ç”¨ PureComponent å’Œ shouldComponentUpdate ä¹Ÿèµ·ä¸åˆ°ä¼˜åŒ–ä½œç”¨ æ‰€ä»¥æˆ‘ä»¬åº”è¯¥é¿å…åœ¨ render ä¸­ä½¿ç”¨ç®­å¤´å‡½æ•°å’Œç»‘å®šã€‚å¦åˆ™ä¼šæ‰“ç ´ shouldComponentUpdate å’Œ PureComponent çš„æ€§èƒ½ä¼˜åŒ–ã€‚ åº”è¯¥è¿™æ ·ï¼š &lt;button onClick={this.handleClick} style={this.state}&gt; ç¡®å®š &lt;/button&gt; handleClick = () =&gt; { ...... } ä¸ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œå’Œbindï¼Œæ”¹ä¸ºå¯¹handleClickå‡½æ•°çš„å¼•ç”¨ å°½é‡é¿å…ä½¿ç”¨arrayçš„ç´¢å¼•å€¼ä½œä¸ºå…¶keyå€¼reactçš„diffç®—æ³•æ˜¯ä»¥keyæ¥å”¯ä¸€æ ‡è¯†ç»„ä»¶çš„ï¼Œå½“å‘ç°updateå‰å’Œupdateåkeyå€¼æ²¡æœ‰å˜åŒ–ï¼Œreactå°±ä¼šè®¤ä¸ºupdateå‰åç»„ä»¶æ˜¯åŒä¸€ä¸ªï¼Œå¦‚æœä»¥æ•°ç»„ç´¢å¼•ä¸ºkeyå€¼ï¼Œå¯èƒ½å¼•å‘åˆ é™¤ä¸€ä¸ªæ•°æ®æ—¶ï¼Œå¯¼è‡´æ¸²æŸ“å‡ºé”™ã€‚ åº”è¯¥å°†keyè®¾ç½®ä¸ºä¸€ä¸ªç‰¹æ®Šå­—æ®µï¼Œä¿è¯å…¶å”¯ä¸€æ€§","tags":[{"name":"æ€§èƒ½ä¼˜åŒ–","slug":"æ€§èƒ½ä¼˜åŒ–","permalink":"https://shleyz.github.io/tags/æ€§èƒ½ä¼˜åŒ–/"}]},{"title":"ç”¨å…è´¹SSLè¯ä¹¦å®ç°ä¸€ä¸ªHTTPSç«™ç‚¹","date":"2018-11-22T08:29:35.000Z","path":"2018/11/22/ç”¨å…è´¹SSLè¯ä¹¦å®ç°ä¸€ä¸ªHTTPSç«™ç‚¹/","text":"ç¯å¢ƒé˜¿é‡Œäº‘centOSæœåŠ¡å™¨ 1.å®‰è£…python2-certbot-nginxyum install python2-certbot-nginx å®‰è£…python2-certbot-nginxï¼Œä¼šæŠ¥é”™æ²¡æœ‰æ‰¾åˆ°å®‰è£…åŒ…å¯ä»¥å…ˆæ‰§è¡Œ epel-release yum install epel-release yum install python2-certbot-nginx 2.certbotå·¥å…·é…ç½®certbot --nginx --nginx-server-root=/etc/nginx/nginx.conf -d åŸŸå (ç”³è¯·è¯ä¹¦çš„åŸŸå) å¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼š ImportError: No module named &apos;requests.packages.urllib3&apos; è§£å†³æ–¹æ³•ï¼š pip install â€“upgrade â€“force-reinstall â€˜requests==2.6.0â€™ urllib3 ç„¶ååœ¨è¿›è¡Œcertboté…ç½®ä¼šå‡ºç°ï¼š 1: No redirect - Make no further changes to the webserver configuration. 2: Redirect - Make all requests redirect to secure HTTPS access. Choose this for new sites, or if you&apos;re confident your site works on HTTPS. You can undo this change by editing your web server&apos;s configuration. - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - Select the appropriate number [1-2] then [enter] (press &apos;c&apos; to cancel): 1 é€‰æ‹©1ä¸é‡å®šå‘é€‰æ‹©2åˆ™æ‰€æœ‰è¯¥åŸŸåä¸‹ç«™ç‚¹éƒ½ä¼šé‡å®šå‘åˆ°https åœ¨ä¸ç¡®å®šä½ çš„æœåŠ¡ç«¯æ‰€æœ‰çš„æ¥å£éƒ½æ”¯æŒhttpsçš„æ—¶å€™ï¼Œé€‰æ‹©1 æˆåŠŸåå‘ç°æƒ³è¦é…ç½®æ–‡ä»¶ä¸­å¤šäº†ï¼š listen 443 ssl; # managed by Certbot ssl_certificate /etc/letsencrypt/live/backstage.qingyun100.cn/fullchain.pem; # managed by Certbot ssl_certificate_key /etc/letsencrypt/live/backstage.qingyun100.cn/privkey.pem; # managed by Certbot include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot é¦–å…ˆè¦ç¡®ä¿443ç«¯å£çš„å¼€æ”¾ï¼Œå†å»httpsè®¿é—®åŸŸåï¼Œä¼šçœ‹åˆ°å®‰å…¨è®¿é—®æ ‡å¿— firewall-cmd --zone=public --add-port=443/tcp --permanent firewall-cmd --reload å¦‚æœæ˜¯é˜¿é‡Œäº‘çš„æœåŠ¡å™¨è¦åœ¨å®‰å…¨ç»„é‡Œé¢è®¾ç½®å¼€æ”¾çš„ç«¯å£ã€‚ 3.è‡ªåŠ¨æ›´æ–°è¯ä¹¦ç”±äºè¿™ä¸ªè¯ä¹¦çš„æ—¶æ•ˆåªæœ‰90å¤©ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®è‡ªåŠ¨æ›´æ–°çš„åŠŸèƒ½ï¼Œå¸®æˆ‘ä»¬è‡ªåŠ¨æ›´æ–°è¯ä¹¦çš„æ—¶æ•ˆ å…ˆåœ¨å‘½ä»¤è¡Œæ¨¡æ‹Ÿè¯ä¹¦æ›´æ–°ï¼š sudo certbot renew --dry-run æ¨¡æ‹Ÿæ›´æ–°æˆåŠŸçš„æ•ˆæœå¦‚ä¸‹ï¼š - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - ** DRY RUN: simulating &apos;certbot renew&apos; close to cert expiry ** (The test certificates below have not been saved.) Congratulations, all renewals succeeded. The following certs have been renewed: /etc/letsencrypt/live/backstage.qingyun100.cn/fullchain.pem (success) ** DRY RUN: simulating &apos;certbot renew&apos; close to cert expiry ** (The test certificates above have not been saved.) - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - æ—¢ç„¶æ¨¡æ‹ŸæˆåŠŸï¼Œæˆ‘ä»¬å°±ä½¿ç”¨crontab -eçš„å‘½ä»¤æ¥å¯ç”¨è‡ªåŠ¨ä»»åŠ¡ï¼Œå‘½ä»¤è¡Œï¼š sudo crontab -e æ·»åŠ é…ç½®ï¼š 30 2 * * 1 /usr/bin/certbot renew &gt;&gt; /var/log/le-renew.log ä¸Šé¢çš„æ‰§è¡Œæ—¶é—´ä¸ºï¼šæ¯å‘¨ä¸€åŠå¤œ2ç‚¹30åˆ†æ‰§è¡Œrenewä»»åŠ¡ã€‚ ä½ å¯ä»¥åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ /usr/bin/certbot renew &gt;&gt; /var/log/le-renew.log çœ‹çœ‹æ˜¯å¦æ‰§è¡Œæ­£å¸¸ï¼Œå¦‚æœä¸€åˆ‡OKï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„é…ç½®åˆ°æ­¤ç»“æŸï¼ ç°åœ¨ä½ å°±å¯ä»¥ä½¿ç”¨å…è´¹çš„sslè¿›è¡Œå®‰å…¨è®¿é—®å•¦","tags":[{"name":"https","slug":"https","permalink":"https://shleyz.github.io/tags/https/"}]},{"title":"nginxæ­å»ºä¸€ä¸ªå¯ç”¨çš„é™æ€èµ„æºæœåŠ¡å™¨","date":"2018-11-22T02:52:24.000Z","path":"2018/11/22/nginxæ­å»ºä¸€ä¸ªå¯ç”¨çš„é™æ€èµ„æºæœåŠ¡å™¨/","text":"nginxé…ç½®æ–‡ä»¶nginx.conf http { include mime.types; default_type application/octet-stream; #log_format main &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos; # &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos; # &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;; #access_log logs/access.log main; sendfile on; tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 120; #gzip on; #gzip_min_length 1; server { listen port; --- ç«¯å£å· server_name localhost; #charset koi8-r; #access_log logs/host.access.log main; location / { alias www_home/; index index.html index.htm; } } é…ç½®å¥½ä»¥åï¼Œnginxå¯ä»¥è®¿é—®æ—¶ Nginxå¼€å¯Gzipå‹ç¼©å¤§å¹…æé«˜é¡µé¢åŠ è½½é€Ÿåº¦gzip on; // gzipå¼€å…³å¼€å¯ gzip_min_length 1; // å°äºä¸€å­—èŠ‚å°±ä¸å†å‹ç¼© gzip_comp_level 2; // å‹ç¼©çº§åˆ« gzip_types text/plain application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/peg image/gif image/png; Nginxæ‰“å¼€ç›®å½•æµè§ˆåŠŸèƒ½â€“autoindexNginxé»˜è®¤æ˜¯ä¸å…è®¸åˆ—å‡ºæ•´ä¸ªç›®å½•çš„ã€‚å¦‚éœ€æ­¤åŠŸèƒ½ï¼Œæ‰“å¼€nginx.confæ–‡ä»¶æˆ–ä½ è¦å¯ç”¨ç›®å½•æµè§ˆè™šæ‹Ÿä¸»æœºçš„é…ç½®æ–‡ä»¶ï¼Œåœ¨serveræˆ–location æ®µé‡Œæ·»åŠ ä¸Šautoindex on;æ¥å¯ç”¨ç›®å½•æµé‡ location / { alias www_home/; autoindex on; index index.html index.htm; } é™åˆ¶è®¿é—®é€Ÿåº¦â€“limit_ratelocation / { alias www_home/; autoindex on; set $limit_rate 1k; // æ¯ç§’1kï¼Œè®¾ç½®è¿™ä¸ªä»¥åå°±ä¼šè®¿é—®å¾ˆæ…¢ index index.html index.htm; }","tags":[{"name":"nginx","slug":"nginx","permalink":"https://shleyz.github.io/tags/nginx/"}]},{"title":"nginx å‘½ä»¤","date":"2018-11-21T07:51:03.000Z","path":"2018/11/21/nginx-å‘½ä»¤/","text":"æ ¼å¼å’Œlinuxå‘½ä»¤å·®ä¸å¤šnginx -s reload (-sæ˜¯å‘é€ä¿¡å·æŒ‡ä»¤ï¼Œreloadæ˜¯å‚æ•°) å¸®åŠ©ï¼š -ï¼Ÿæˆ–è€… -h ä½¿ç”¨æŒ‡å®šé…ç½®æ–‡ä»¶ï¼š -c æŒ‡å®šé…ç½®æŒ‡ä»¤ï¼š-g æŒ‡å®šè¿è¡Œç›®å½•ï¼š -p å‘é€ä¿¡å·ï¼š -s nginx -s stop ç«‹å³åœæ­¢æœåŠ¡ nginx -s quit ä¼˜é›…çš„åœæ­¢æœåŠ¡ nginx -s reload é‡è½½é…ç½®æ–‡ä»¶ nginx -s reopen é‡è½½å¼€å§‹è®°å½•æ—¥å¿—æ–‡ä»¶ æµ‹è¯•é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼š -t -T nginxç‰ˆæœ¬ä¿¡æ¯ï¼š -v -V é‡è½½é…ç½®æ–‡ä»¶åœ¨/home/**/nginx/sbinç›®å½•ä¸‹ï¼š ./nginx -s reload å¦‚æœå‡ºç°é”™è¯¯./nginxå¯ä»¥æŸ¥çœ‹é”™è¯¯ï¼Œå¦‚ä¸‹ï¼š nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) nginx: [emerg] bind() to 0.0.0.0:80 failed (98: Address already in use) æ­¤æ—¶è¯´æ˜80ç«¯å£è¢«å ç”¨ï¼Œ æŸ¥çœ‹æ˜¯å“ªä¸ªè¿›ç¨‹è¢«å ç”¨ï¼Œå¦‚æœæ˜¯nginxï¼Œåœæ­¢nginxæœåŠ¡ï¼Œæˆ–è€…kill -9 è¿›ç¨‹å·è¿›è¡Œå¼ºåˆ¶æ€æ­»è¿›ç¨‹ netstat -lnp|grep 80å‘½ä»¤ å†é‡æ–°reloadå³å¯æˆåŠŸ å‡çº§nginxç‰ˆæœ¬é¦–å…ˆå¤‡ä»½/nginx/sbin/nginxäºŒè¿›åˆ¶æ–‡ä»¶ [root@zhao sbin]# ls nginx [root@zhao sbin]# mv nginx nginx.bak [root@zhao sbin]# ls nginx.bak ç„¶åæŠŠå·²ç»ç¼–è¯‘å¥½çš„æ–°çš„äºŒè¿›åˆ¶æ–‡ä»¶æ‹·è´è¿›sbinç›®å½• [root@zhao sbin]# cp -r /ç›®å½•/nginx /home/zh****/nginx/sbin/ [root@zhao sbin]# ls nginx nginx.bak ç„¶åç»™æ­£åœ¨è¿è¡Œçš„nginxçš„masterè¿›ç¨‹å‘é€ä¿¡å·ï¼Œå‘Šè¯‰å®ƒæˆ‘è¦çƒ­éƒ¨ç½²äº†ï¼Œè¦è¿›è¡Œç‰ˆæœ¬å‡çº§ [root@zhao sbin]# ps -ef |grep nginx root 8732 1 0 10:09 ? 00:00:00 nginx: master process ./nginx nobody 8740 8732 0 10:09 ? 00:00:00 nginx: worker process root 9769 9226 0 10:29 pts/1 00:00:00 grep --color=auto nginx [root@zhao sbin]# kill -USR2 8732 [root@zhao sbin]# ps -ef |grep nginx root 8732 1 0 10:09 ? 00:00:00 nginx: master process ./nginx nobody 8740 8732 0 10:09 ? 00:00:00 nginx: worker process root 9787 8732 0 10:29 ? 00:00:00 nginx: master process ./nginx nobody 9788 9787 0 10:29 ? 00:00:00 nginx: worker process root 9794 9226 0 10:29 pts/1 00:00:00 grep --color=auto nginx [root@zhao sbin]# å‘ç°åˆæ–°èµ·äº†ä¸€ä¸ªmasterè¿›ç¨‹ å‘é€ä¿¡å·ç»™æ—§çš„nginxçš„masterè¿›ç¨‹ï¼Œè®©ä»–ä¼˜é›…çš„å…³é—­ [root@zhao sbin]# kill -WINCH 8732 [root@zhao sbin]# ps -ef |grep nginx root 8732 1 0 10:09 ? 00:00:00 nginx: master process ./nginx root 9787 8732 0 10:29 ? 00:00:00 nginx: master process ./nginx nobody 9788 9787 0 10:29 ? 00:00:00 nginx: worker process root 9985 9226 0 10:33 pts/1 00:00:00 grep --color=auto nginx [root@zhao sbin]# å‘ç°æ—§çš„masterè¿›ç¨‹è¿˜å­˜åœ¨ï¼Œä½†æ˜¯ä»–çš„workerè¿›ç¨‹å·²ç»æ²¡æœ‰äº†ï¼Œè¯´æ˜æ‰€æœ‰çš„è¯·æ±‚å·²ç»æ–°å‡çº§åˆ°æ–°çš„workerè¿›ç¨‹ä¸­äº†ã€‚æ­¤æ—¶æ—§çš„8732å¯ä»¥ä¸è¦killæ‰ï¼Œå› ä¸ºåœ¨éœ€è¦ç‰ˆæœ¬å›é€€æ—¶ï¼Œæˆ–è€…æ–°ç‰ˆæœ¬æœ‰é—®é¢˜æ—¶ï¼Œåªéœ€è¦é‡æ–°ç»™8732å‘é€reloadå‘½ä»¤ï¼ŒæŠŠworkerè¿›ç¨‹æ‹‰èµ·æ¥ï¼Œå†æŠŠæ–°ç‰ˆæœ¬å…³æ‰ æ—¥å¿—åˆ†å‰²[root@zhao logs]# ll æ€»ç”¨é‡ 20 -rw-r--r-- 1 root root 662618 11æœˆ 22 10:37 access.log -rw-r--r-- 1 root root 6112 11æœˆ 22 10:33 error.log -rw-r--r-- 1 root root 5 11æœˆ 22 10:29 nginx.pid -rw-r--r-- 1 root root 5 11æœˆ 22 10:09 nginx.pid.oldbin [root@zhao logs]# å½“æˆ‘ä»¬å‘ç°logæ–‡ä»¶å¤ªå¤§æ—¶ï¼Œéœ€è¦æŠŠä»¥å‰çš„æ—¥å¿—å¤‡ä»½åˆ°å…¶ä»–æ–‡ä»¶ï¼Œä½†æ˜¯nginxè¿˜æ˜¯æ­£å¸¸è¿è¡Œï¼Œé€šè¿‡reopenå‘½ä»¤å®ç° [root@zhao logs]# mv access.log bake.log [root@zhao logs]# ll æ€»ç”¨é‡ 20 -rw-r--r-- 1 root root 662618 11æœˆ 22 10:43 bake.log -rw-r--r-- 1 root root 6343 11æœˆ 22 10:43 error.log -rw-r--r-- 1 root root 5 11æœˆ 22 10:29 nginx.pid -rw-r--r-- 1 root root 5 11æœˆ 22 10:09 nginx.pid.oldbin [root@zhao logs]# ../sbin/nginx -s reopen [root@zhao logs]# ll æ€»ç”¨é‡ 20 -rw-r--r-- 1 nobody root 0 11æœˆ 22 10:43 access.log -rw-r--r-- 1 root root 662618 11æœˆ 22 10:43 bake.log -rw-r--r-- 1 nobody root 6404 11æœˆ 22 10:43 error.log -rw-r--r-- 1 root root 5 11æœˆ 22 10:29 nginx.pid -rw-r--r-- 1 root root 5 11æœˆ 22 10:09 nginx.pid.oldbin [root@zhao logs]# ä¸€èˆ¬æœ€å¥½æ—¥å¿—æ–‡ä»¶è¦æ¯å¤©å¤‡ä»½ï¼Œæ‰€ä»¥æœ€å¥½å†™åœ¨bashæ–‡ä»¶é‡Œé¢è‡ªåŠ¨æ‰§è¡Œæ¯å¤©å¤‡ä»½","tags":[{"name":"nginx","slug":"nginx","permalink":"https://shleyz.github.io/tags/nginx/"}]},{"title":"nginxç¼–è¯‘","date":"2018-11-19T02:10:50.000Z","path":"2018/11/19/nginxç¼–è¯‘/","text":"å®‰è£…nginxæœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯ç›´æ¥é€šè¿‡yarn/apt-getç›´æ¥æ¥å®‰è£…ï¼Œä¸€ç§å°±æ˜¯ç¼–è¯‘ é€šè¿‡yarn/apt-getç›´æ¥æ¥å®‰è£…ï¼Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯nginxçš„äºŒè¿›åˆ¶æ–‡ä»¶ä¼šæŠŠæ¨¡å—ç›´æ¥ç¼–è¯‘è¿›å»ï¼Œnignxçš„å®˜æ–¹æ¨¡å—å¹¶ä¸æ˜¯æ¯ä¸€ä¸ªéƒ½ä¼šå¼€å¯ï¼Œå¦‚æœæƒ³è¦æ·»åŠ ç¬¬ä¸‰æ–¹çš„nginxæ¨¡å—ï¼Œå¿…é¡»é€šè¿‡ç¼–è¯‘çš„æ–¹å¼è¿›è¡Œæ·»åŠ ã€‚ æ¨èç¼–è¯‘å®‰è£… ä¸‹è½½nginxæ‰“å¼€nginx.org æ‰¾åˆ°stableç‰ˆæœ¬(å½“å‰stableç‰ˆæœ¬ä¸º1.14.1)ï¼Œå¤åˆ¶ä¸‹è½½åœ°å€ï¼Œè¿›å…¥linuxä½ æƒ³è¦å®‰è£…çš„ç›®å½• wget http://nginx.org/download/nginx-1.14.1.tar.gz tar -xzf nginx-1.14.1.tar.gz è¿›è¡Œè§£å‹ cd nginx-1.14.1 è¿›å…¥è§£å‹åçš„æºç ç›®å½•,æŸ¥çœ‹ç›®å½•å¦‚ä¸‹ï¼š æ€»ç”¨é‡ 748 drwxr-xr-x 6 mysql mysql 4096 11æœˆ 19 10:31 auto -rw-r--r-- 1 mysql mysql 287441 11æœˆ 6 21:52 CHANGES -rw-r--r-- 1 mysql mysql 438114 11æœˆ 6 21:52 CHANGES.ru drwxr-xr-x 2 mysql mysql 4096 11æœˆ 19 10:31 conf -rwxr-xr-x 1 mysql mysql 2502 11æœˆ 6 21:52 configure drwxr-xr-x 4 mysql mysql 4096 11æœˆ 19 10:31 contrib drwxr-xr-x 2 mysql mysql 4096 11æœˆ 19 10:31 html -rw-r--r-- 1 mysql mysql 1397 11æœˆ 6 21:52 LICENSE drwxr-xr-x 2 mysql mysql 4096 11æœˆ 19 10:31 man -rw-r--r-- 1 mysql mysql 49 11æœˆ 6 21:52 README drwxr-xr-x 9 mysql mysql 4096 11æœˆ 19 10:31 src nginxæºç å„ä¸ªç›®å½•1.autoç›®å½•ï¼š æ€»ç”¨é‡ 204 drwxr-xr-x 2 mysql mysql 4096 11æœˆ 19 10:31 cc -rw-r--r-- 1 mysql mysql 141 11æœˆ 6 21:52 define -rw-r--r-- 1 mysql mysql 889 11æœˆ 6 21:52 endianness -rw-r--r-- 1 mysql mysql 2812 11æœˆ 6 21:52 feature -rw-r--r-- 1 mysql mysql 136 11æœˆ 6 21:52 have -rw-r--r-- 1 mysql mysql 137 11æœˆ 6 21:52 have_headers -rw-r--r-- 1 mysql mysql 411 11æœˆ 6 21:52 headers -rw-r--r-- 1 mysql mysql 1020 11æœˆ 6 21:52 include -rw-r--r-- 1 mysql mysql 745 11æœˆ 6 21:52 init -rw-r--r-- 1 mysql mysql 4836 11æœˆ 6 21:52 install drwxr-xr-x 11 mysql mysql 4096 11æœˆ 19 10:31 lib -rw-r--r-- 1 mysql mysql 18253 11æœˆ 6 21:52 make -rw-r--r-- 1 mysql mysql 3183 11æœˆ 6 21:52 module -rw-r--r-- 1 mysql mysql 37857 11æœˆ 6 21:52 modules -rw-r--r-- 1 mysql mysql 136 11æœˆ 6 21:52 nohave -rw-r--r-- 1 mysql mysql 24767 11æœˆ 6 21:52 options drwxr-xr-x 2 mysql mysql 4096 11æœˆ 19 10:31 os -rw-r--r-- 1 mysql mysql 8654 11æœˆ 6 21:52 sources -rw-r--r-- 1 mysql mysql 120 11æœˆ 6 21:52 stubs -rw-r--r-- 1 mysql mysql 2014 11æœˆ 6 21:52 summary -rw-r--r-- 1 mysql mysql 394 11æœˆ 6 21:52 threads drwxr-xr-x 2 mysql mysql 4096 11æœˆ 19 10:31 types -rw-r--r-- 1 mysql mysql 26859 11æœˆ 6 21:52 unix åŒ…å«å››ä¸ªå­ç›®å½•ï¼š ccâ€“ç”¨äºç¼–è¯‘,libâ€“libåº“,osâ€“åˆ¤æ–­æ“ä½œç³»ç»Ÿ,types å…¶ä»–æ‰€æœ‰çš„éƒ½æ˜¯ä¸ºäº†é…åˆconfigureè„šæœ¬æ‰§è¡Œçš„æ—¶å€™å»åˆ¤å®šnginxæ”¯æŒå“ªäº›æ¨¡å—ï¼Œå½“å‰æ“ä½œç³»ç»Ÿæœ‰ä»€ä¹ˆç‰¹æ€§ä¾›nginxä½¿ç”¨ï¼Œ 2.CHANGESæ–‡ä»¶ï¼šnginxæ¯ä¸ªç‰ˆæœ¬ä¸­çš„ç‰¹æ€§å’Œbugfix 3.confæ˜¯ä¸€ä¸ªé…ç½®ç¤ºä¾‹æ–‡ä»¶ 4.configureè„šæœ¬æ˜¯ç”¨æ¥ç”Ÿæˆä¸­é—´æ–‡ä»¶ï¼Œæ‰§è¡Œç¼–è¯‘å‰çš„å¿…å¤‡åŠ¨ä½œ 5.contribç›®å½•,vimç¼–è¾‘å™¨çš„nginxè¯­æ³•é«˜äº®æ˜¾ç¤º 6.htmlç›®å½•, é‡Œé¢æ˜¯500é”™è¯¯ï¼Œé‡å®šå‘åˆ°çš„é¡µé¢ï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯indexé»˜è®¤é¡µé¢ 7.manç›®å½•ï¼Œæ˜¯linuxå¯¹nginxçš„å¸®åŠ©æ–‡ä»¶ 8.srcç›®å½•, æ˜¯nginxçš„æºä»£ç  ç¼–è¯‘configureæ”¯æŒå“ªäº›å‚æ•°å‘¢ï¼š ./configure --help | more ç»“æœï¼š --help print this message --prefix=PATH set installation prefix --sbin-path=PATH set nginx binary pathname --modules-path=PATH set modules path --conf-path=PATH set nginx.conf pathname --error-log-path=PATH set error log pathname --pid-path=PATH set nginx.pid pathname --lock-path=PATH set nginx.lock pathname --user=USER set non-privileged user for worker processes --group=GROUP set non-privileged group for worker processes --build=NAME set build name --builddir=DIR set build directory --with-select_module enable select module --without-select_module disable select module --with-poll_module enable poll module --without-poll_module disable poll module --More-- 1.å¼€å§‹ç¼–è¯‘ï¼ˆä½¿ç”¨é»˜è®¤å‚æ•°prefixï¼‰ï¼š ./configure --prefix=/home/zhaoxuelin/nginx (æŒ‡å®šäº†nginxå®‰è£…ç›®å½•) å¦‚æœæ²¡æœ‰æŠ¥é”™ï¼Œnignxå°±åœ¨æŒ‡å®šç›®å½•å®‰è£…æˆåŠŸäº† æ­¤è¿‡ç¨‹ç”Ÿæˆçš„ä¸­é—´æ–‡ä»¶æ”¾åœ¨æ–°å¢åŠ çš„objsç›®å½•ä¸‹ objs: æ€»ç”¨é‡ 84 -rw-r--r-- 1 root root 17763 11æœˆ 19 10:59 autoconf.err -rw-r--r-- 1 root root 39736 11æœˆ 19 10:59 Makefile -rw-r--r-- 1 root root 6816 11æœˆ 19 10:59 ngx_auto_config.h -rw-r--r-- 1 root root 657 11æœˆ 19 10:59 ngx_auto_headers.h -rw-r--r-- 1 root root 5725 11æœˆ 19 10:59 ngx_modules.c (å†³å®šäº†å“ªäº›æ¨¡å—è¢«ç¼–è¯‘è¿›nginx) drwxr-xr-x 9 root root 4096 11æœˆ 19 10:59 src 2.æ¥ä¸‹æ¥æ‰§è¡Œmakeç¼–è¯‘ make ç¼–è¯‘å®Œæˆä»¥åï¼Œå°±ä¼šç”Ÿæˆå¤§é‡ä¸­é—´æ–‡ä»¶å’Œè¿è¡Œnginxçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚å¯ä»¥åœ¨objsç›®å½•ä¸­çœ‹åˆ°ã€‚ 3.æ‰§è¡Œmake installé¦–æ¬¡å®‰è£…å¯ä»¥æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ make install ä»¥ä¸Šå°±æ˜¯ç¼–è¯‘nginxçš„æ­¥éª¤","tags":[{"name":"nginx","slug":"nginx","permalink":"https://shleyz.github.io/tags/nginx/"}]},{"title":"antd onChangeäº‹ä»¶ä¸­setFieldsValueæ— æ•ˆ","date":"2018-11-15T08:35:43.000Z","path":"2018/11/15/antd-onChangeäº‹ä»¶ä¸­setFieldsValueæ— æ•ˆ/","text":"antd Form è¡¨å•ä¸­onChangeäº‹ä»¶ä¸­setFieldsValue æ— æ•ˆ å‚è€ƒ http://ju.outofmemory.cn/entry/348216 å‡ºç°çš„åœºæ™¯ï¼š æƒ³è¦åœ¨Inputè¾“å…¥æ¡†ä¸­ï¼Œç¦æ­¢è¾“å…¥ç©ºæ ¼ç­‰ç‰¹æ®Šå­—ç¬¦ 123456789101112131415161718192021&#123; key: 'name', label: 'å§“å', labelCol: &#123; span: 7 &#125;, wrapperCol: &#123; span: 13 &#125;, style: &#123; display: 'inline-block', marginTop: '18px', paddingLeft: '20px' &#125;, node: ( &lt;Input style=&#123;&#123; width: '110px' &#125;&#125; placeholder=\"è¯·è¾“å…¥å§“å\" onChange=&#123;this.onNameSelect&#125; /&gt; ), options: &#123; initialValue: this.state.name &#125;&#125; æƒ³è¦åœ¨onChangeæ–¹æ³•ä¸­æ­£åˆ™æ›¿æ¢éæ³•å­—ç¬¦ä¸ºç©ºå¯æ˜¯æœ€åå‘ç°æ— æ•ˆ å‚ç…§ä¸Šé¢çš„é“¾æ¥ï¼Œé‡Œé¢æœ‰onChangeçš„æºç è§£è¯´ï¼Œå¯ä»¥ç”¨options.normalizeæ–¹æ³•ï¼Œå¤„ç† å®˜æ–¹æ–‡æ¡£è¯´æ˜ï¼š è½¬æ¢é»˜è®¤çš„ value ç»™æ§ä»¶ï¼Œ ä¸€ä¸ªä¾‹å­ï¼š https://codepen.io/afc163/pen/JJVXzG?editors=001 ç»¼ä¸Šå®ç°æ–¹æ³•ï¼š 12345678910111213141516171819202122&#123; key: 'name', label: 'å§“å', labelCol: &#123; span: 7 &#125;, wrapperCol: &#123; span: 13 &#125;, style: &#123; display: 'inline-block', marginTop: '18px', paddingLeft: '20px' &#125;, node: ( &lt;Input style=&#123;&#123; width: '110px' &#125;&#125; placeholder=\"è¯·è¾“å…¥å§“å\" onChange=&#123;this.onNameSelect&#125; /&gt; ), options: &#123; initialValue: this.state.name, normalize: this.onNameSelect1 &#125;&#125; ç¦æ­¢è¾“å…¥ç©ºæ ¼/è¡¨æƒ…/ç‰¹æ®Šå­—ç¬¦ 123456789onNameSelect1 = (value: any, preValue: any) =&gt; &#123; let res = value.replace(/(^\\s+)|(\\s+$)/g, ''); // å»æ‰ç©ºæ ¼ res = res.replace(/[&amp;\\|\\\\\\*^%$#@\\-]/g, ''); // å»æ‰ç‰¹æ®Šå­—ç¬¦ res = res.replace( /[\\uD83C|\\uD83D|\\uD83E][\\uDC00-\\uDFFF][\\u200D|\\uFE0F]|[\\uD83C|\\uD83D|\\uD83E][\\uDC00-\\uDFFF]|[0-9|*|#]\\uFE0F\\u20E3|[0-9|#]\\u20E3|[\\u203C-\\u3299]\\uFE0F\\u200D|[\\u203C-\\u3299]\\uFE0F|[\\u2122-\\u2B55]|\\u303D|[\\A9|\\AE]\\u3030|\\uA9|\\uAE|\\u3030/gi, '' ); //å»é™¤è¡¨æƒ… return res;&#125;;","tags":[{"name":"antd","slug":"antd","permalink":"https://shleyz.github.io/tags/antd/"}]},{"title":"imgæ˜¾ç¤ºbase64å›¾ç‰‡","date":"2018-11-15T02:42:42.000Z","path":"2018/11/15/imgæ˜¾ç¤ºbase64å›¾ç‰‡/","text":"&lt;img src=`data:image/jpg;base64,${bese64ç }` alt=''&gt;","tags":[{"name":"base64","slug":"base64","permalink":"https://shleyz.github.io/tags/base64/"}]},{"title":"react","date":"2018-09-10T00:54:48.000Z","path":"2018/09/10/react/","text":"ä»¥ç»„ä»¶çš„æ–¹å¼è€ƒè™‘uiçš„æ„å»ºå•ä¸€èŒè´£åŸåˆ™æ¯ä¸ªç»„ä»¶åªåšä¸€ä»¶äº‹ï¼Œå¦‚æœç»„ä»¶å˜å¾—å¤æ‚ï¼Œæ‹†åˆ†æˆå°ç»„ä»¶ã€‚å¤æ‚åº¦æ‹†åˆ†ï¼Œæé«˜æ€§èƒ½ï¼ˆå±€éƒ¨åˆ·æ–°state,ä¸ä¼šå½±å“å…¶ä»–ç»„ä»¶ï¼‰ã€‚ æ•°æ®çŠ¶æ€ç®¡ç†ï¼š DRYåŸåˆ™ èƒ½è®¡ç®—å¾—åˆ°çš„çŠ¶æ€ï¼Œä¸è¦è¿›è¡Œå­˜å‚¨ï¼Œåœ¨ç”¨çš„æ—¶å€™è®¡ç®— ç»„ä»¶å°½é‡æ— çŠ¶æ€ï¼Œæ‰€æœ‰æ•°æ®ä»propsè·å–ã€‚çº¯ç»„ä»¶ï¼Œæœ‰æ›´å¥½çš„æ€§èƒ½ï¼Œæ›´å®¹æ˜“è¢«é‡ç”¨ã€‚ ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸRenderé˜¶æ®µï¼Œçº¯å‡€æ²¡æœ‰å‰¯ä½œç”¨Pre-commit é˜¶æ®µï¼Œå¯ä»¥è¯»å–domCommit é˜¶æ®µï¼Œä½¿ç”¨Domï¼Œ ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªç±»å‹ åˆ›å»ºæ—¶ constructoræ›´æ–°æ—¶ renderå¸è½½æ—¶ willUnmount æ¸²æŸ“æœºåˆ¶æ¸²æŸ“è¿‡ç¨‹åœ¨é¡µé¢ä¸€å¼€å§‹æ‰“å¼€çš„æ—¶å€™ï¼ŒReactä¼šè°ƒç”¨renderå‡½æ•°æ„å»ºä¸€æ£µDomæ ‘ï¼Œåœ¨state/propså‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œrenderå‡½æ•°ä¼šè¢«å†æ¬¡è°ƒç”¨æ¸²æŸ“å‡ºå¦å¤–ä¸€æ£µæ ‘ï¼Œæ¥ç€ï¼ŒReactä¼šç”¨å¯¹ä¸¤æ£µæ ‘è¿›è¡Œå¯¹æ¯”ï¼Œæ‰¾åˆ°éœ€è¦æ›´æ–°çš„åœ°æ–¹æ‰¹é‡æ”¹åŠ¨ã€‚ Diff ç®—æ³•ï¼ˆå°†ç®—æ³•å¤æ‚åº¦ä»O(n^3)é™ä½åˆ°O(n)ï¼‰Diffç®—æ³•åªä¼šå¯¹åŒå±‚çš„èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœçˆ¶èŠ‚ç‚¹ä¸åŒï¼ŒReactå°†ä¸ä¼šåœ¨å»å¯¹æ¯”å­èŠ‚ç‚¹ã€‚å› ä¸ºä¸åŒçš„ç»„ä»¶DOMç»“æ„ä¼šä¸ç›¸åŒï¼Œæ‰€ä»¥å°±æ²¡æœ‰å¿…è¦åœ¨å»å¯¹æ¯”å­èŠ‚ç‚¹äº†ã€‚è¿™ä¹Ÿæé«˜äº†å¯¹æ¯”çš„æ•ˆç‡ã€‚ å¯¹äºä¸åŒçš„èŠ‚ç‚¹ç±»å‹ï¼Œreactä¼šåŸºäºç¬¬ä¸€æ¡å‡è®¾ï¼Œç›´æ¥åˆ å»æ—§çš„èŠ‚ç‚¹ï¼Œæ–°å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ã€‚ å½“å¯¹æ¯”ç›¸åŒçš„èŠ‚ç‚¹ç±»å‹æ¯”è¾ƒç®€å•ï¼Œreactä¼šå¯¹æ¯”å®ƒä»¬çš„å±æ€§ï¼Œåªæ”¹å˜éœ€è¦æ”¹å˜çš„å±æ€§ æ¯”å¦‚ï¼š &lt;div className=&quot;before&quot; title=&quot;stuff&quot; /&gt; &lt;div className=&quot;after&quot; title=&quot;stuff&quot; /&gt; è¿™ä¸¤ä¸ªdivä¸­ï¼Œreactä¼šåªæ›´æ–°classNameçš„å€¼ &lt;div style={{color: 'red', fontWeight: 'bold'}} /&gt; &lt;div style={{color: 'green', fontWeight: 'bold'}} /&gt; è¿™ä¸¤ä¸ªdivä¸­ï¼Œreactåªä¼šå»æ›´æ–°colorçš„å€¼ åˆ—è¡¨æ¯”è¾ƒ // åˆ—è¡¨ä¸€åˆ°åˆ—è¡¨äºŒ ä»åˆ—è¡¨ä¸€åˆ°åˆ—è¡¨äºŒï¼Œåªæ˜¯åœ¨ä¸­é—´æ’å…¥äº†ä¸€ä¸ªCï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰keyçš„æ—¶å€™ï¼Œreactä¼šæŠŠBåˆ å»ï¼Œæ–°å»ºä¸€ä¸ªCæ”¾åœ¨Bçš„ä½ç½®ï¼Œç„¶åé‡æ–°å»ºä¸€ä¸ªèŠ‚ç‚¹Bæ”¾åœ¨å°¾éƒ¨ã€‚ å½“èŠ‚ç‚¹å¾ˆå¤šçš„æ—¶å€™ï¼Œè¿™æ ·åšæ˜¯éå¸¸ä½æ•ˆçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç»™æ¯ä¸ªèŠ‚ç‚¹é…ä¸€ä¸ªkeyï¼Œè®©reactå¯ä»¥è¯†åˆ«å‡ºæ¥å“ªäº›èŠ‚ç‚¹æ˜¯ä¸€æ ·çš„ï¼Œä¸éœ€è¦é‡æ–°åˆ›å»ºã€‚ é…ä¸Škeyä¹‹åï¼Œåˆ—è¡¨äºŒçš„ç”Ÿå‘½å‘¨æœŸå°±å¦‚æˆ‘æ‰€æ„¿ï¼Œåªåœ¨æŒ‡å®šçš„ä½ç½®åˆ›å»ºCèŠ‚ç‚¹æ’å…¥ã€‚è¿™é‡Œè¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œkeyå€¼å¿…é¡»æ˜¯ç¨³å®šï¼ˆæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ç”¨Math.random()å»åˆ›å»ºkeyï¼‰ï¼Œå¯é¢„æµ‹ï¼Œå¹¶ä¸”å”¯ä¸€çš„ã€‚ ###","tags":[]},{"title":"mac Jemeter","date":"2018-09-06T23:35:24.000Z","path":"2018/09/07/mac-Jemeter/","text":"ç¬¬ä¸€æ­¥ä¸‹è½½Jemeter ä¸‹è½½Binariesé‡Œé¢çš„.tgz ç¬¬äºŒæ­¥è§£å‹apache-jmeter-4.0.tgz, ä½¿ç”¨å‘½ä»¤ï¼š tar -zxvf apache-jmeter-4.0.tgz ç¬¬ä¸‰æ­¥æ‰“å¼€åˆšè§£å‹åˆ°çš„æ–‡ä»¶apache-jmeter-3.3ï¼Œåˆ‡æ¢åˆ°/binç›®å½•ä¸‹ï¼Œå¯åŠ¨Jmeter: sh jmeter å‰ææ˜¯é…ç½®å¥½javaç¯å¢ƒMACå®‰è£…JDKåŠç¯å¢ƒå˜é‡é…ç½® mac é…ç½® jmeter ç¯å¢ƒå˜é‡ç¼–è¾‘ç”¨æˆ·ç›®å½•ä¸‹.bash_profileæ–‡ä»¶ vim .bash_profile æ·»åŠ  export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home export JMETER_HOME=/Users/******/apache-jmeter-3.2 export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JMETER_HOME/lib/ext/ApacheJMeter_core.jar:$JMETER_HOME/lib/jorphan.jar:$JMETER_HOME/lib/logkit-2.0.jar export PATH=$JAVA_HOME/bin:$JMETER_HOME/bin:$PATH ä¸Šé¢çš„ /**/ å¡«è‡ªå·±çš„ç”¨æˆ·å,JAVA_HOMEé‡Œé¢çš„ç‰ˆæœ¬å·å¡«è‡ªå·±çš„ã€‚ ä¿å­˜é€€å‡ºå source ~/.bash_profile","tags":[]},{"title":"éšæœºé¢œè‰²ç”Ÿæˆ","date":"2018-09-05T22:14:17.000Z","path":"2018/09/06/éšæœºé¢œè‰²ç”Ÿæˆ/","text":"hslaé¢œè‰²H: Hueâ€“è‰²è°ƒ 0(æˆ–360)è¡¨ç¤ºçº¢è‰²ï¼Œ120è¡¨ç¤ºç»¿è‰²ï¼Œ240è¡¨ç¤ºè“è‰²ï¼Œä¹Ÿå¯å–å…¶ä»–æ•°å€¼æ¥æŒ‡å®šé¢œè‰²ã€‚å–å€¼ä¸ºï¼š0 - 360S: Sturationâ€“é¥±å’Œåº¦ å–å€¼ä¸ºï¼š0.0% - 100.0%L: Lightnessâ€“äº®åº¦ å–å€¼ä¸ºï¼š0.0% - 100.0%A: Alphaé€æ˜åº¦ã€‚å–å€¼0~1ä¹‹é—´ éšæœºé¢œè‰²ï¼š 123let firstValue = Math.random() * 360;let color = [];color[0] = 'hsla(â€™ + firstValue + â€˜, 75%, 40%, 1)' å¦‚æœéœ€è¦ä¸€ç³»åˆ—çš„å¾ˆå¤šé¢œè‰²å€¼ï¼Œé‚£ä¹ˆåç»­çš„é¢œè‰²å€¼çš„è®¡ç®—ï¼Œåªéœ€è¦åœ¨å‰ä¸€ä¸ªé¢œè‰²çš„è‰²ç›¸ä¸Šåè½¬ä¸€ä¸ªè§’åº¦ï¼Œå°±å¾—åˆ°æ–°çš„é¢œè‰²å€¼äº†ã€‚ æŠŠåè½¬è§’åº¦è®¾ç½®æˆä¸æ˜¯360åº¦å› æ•°çš„å€¼ï¼Œå¯ä»¥é˜²æ­¢åç»­é¢œè‰²çš„é‡å¤å¾ªç¯ï¼Œè¿™æ ·å°±å¯ä»¥å¾—åˆ°æ— ç©·çš„é€‚åˆçš„éšæœºé¢œè‰²åºåˆ—ã€‚è€Œä¸”ï¼Œåè½¬è§’åº¦å¯ä»¥è®©å‰åçš„è‰²å½©ä¿æŒè¶³å¤Ÿçš„å·®å¼‚ï¼Œè®©ç›¸é‚»é¢œè‰²ä¹‹é—´çš„è§†è§‰æ•ˆæœæ ¼å¤–åˆ†æ˜ã€‚ åç»­çš„ç¬¬iä¸ªè‰²ç›¸ï¼Œå¯ä»¥é€šè¿‡æ—‹è½¬æŸä¸ªè§’åº¦å–å¾—ï¼Œæ¯”å¦‚ color[i] = â€˜hsla(â€™ + ( firstValue + i * 222.5 ) + â€˜, 75%, 50%, 0.3)â€™ ç”¨éšæœºå‡½æ•°ç”Ÿæˆç¬¬ä¸€ä¸ªè‰²ç›¸ï¼Œç„¶åæ¯æ¬¡åè½¬222.5åº¦ï¼ˆè¿™ä¸ªè§’åº¦çš„å åŠ å¾ˆéš¾å¯¼è‡´è¾¾åˆ°360çš„å€æ•°ï¼Œè€Œä¸”å‰åä¸¤ä¸ªé¢œè‰²çš„å·®å¼‚ä¹Ÿè¶³å¤Ÿå¤§ï¼‰ ä¸æ”¯æŒIE6-8 é—­åŒ…é€’å½’1234567let getRandomColor = function()&#123; return '#' + (function(color)&#123; return (color += '0123456789abcdef'[Math.floor(Math.random()*16)]) &amp;&amp; (color.length == 6) ? color : arguments.callee(color); &#125;)('');&#125; æ–¹æ³•ä¸‰123let getRandomColor = function()&#123; return '#'+Math.floor(Math.random()*16777215).toString(16);&#125; hexé¢œè‰²å€¼æ˜¯ä»#000000åˆ°#ffffffï¼Œåé¢é‚£å…­ä½æ•°æ˜¯16è¿›åˆ¶æ•°ï¼Œç›¸å½“äºâ€0x000000â€åˆ°â€0xffffffâ€ã€‚ è¿™å®ç°çš„æ€è·¯æ˜¯å°†hexçš„æœ€å¤§å€¼ffffffå…ˆè½¬æ¢ä¸º10è¿›åˆ¶ï¼Œè¿›è¡Œrandomåå†è½¬æ¢å›16è¿›åˆ¶ æ–¹æ³•å››123let getRandomColor = function()&#123; return '#'+(Math.random()*0xffffff&lt;&lt;0).toString(16);&#125; å®ç°æ–¹æ³•ä¸‰çš„æ”¹è¿›ï¼Œåˆ©ç”¨å·¦ç§»è¿ç®—ç¬¦æŠŠ0xffffffè½¬åŒ–ä¸ºæ•´å‹ã€‚è¿™æ ·å°±ä¸ç”¨è®°16777215äº†ã€‚ç”±äºå·¦ç§»è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§æ¯”ä¸ä¸Šä¹˜å·ï¼Œå› æ­¤éšæœºåå†å·¦ç§» æ–¹æ³•äº”12345let getRandomColor = function()&#123; return '#'+(function(h)&#123; return new Array(7-h.length).join(\"0\")+h &#125;)((Math.random()*0x1000000&lt;&lt;0).toString(16))&#125; ä¿®æ­£ä¸Šé¢ç‰ˆæœ¬çš„bugï¼ˆæ— æ³•ç”Ÿæˆçº¯ç™½è‰²ä¸hexä½æ•°ä¸è¶³é—®é¢˜ï¼‰ã€‚0x1000000ç›¸å½“0xffffff+1ï¼Œç¡®ä¿ä¼šæŠ½é€‰åˆ°0xffffffã€‚åœ¨é—­åŒ…é‡Œæˆ‘ä»¬å¤„ç†hexå€¼ä¸è¶³6ä½çš„é—®é¢˜ï¼Œç›´æ¥åœ¨æœªä½è¡¥é›¶ã€‚ æ–¹æ³•å…­123let getRandomColor = function()&#123; return '#'+('00000'+(Math.random()*0x1000000&lt;&lt;0).toString(16)).slice(-6);&#125; è¿™æ¬¡åœ¨å‰é¢è¡¥é›¶ï¼Œè¿é€’å½’æ£€æµ‹ä¹Ÿçœäº†","tags":[{"name":"éšæœºé¢œè‰²","slug":"éšæœºé¢œè‰²","permalink":"https://shleyz.github.io/tags/éšæœºé¢œè‰²/"}]},{"title":"svg animation","date":"2018-09-03T22:11:12.000Z","path":"2018/09/04/svg-animation/","text":"åŸºç¡€çŸ¥è¯†ï¼šstrokeç”¨äºç»˜åˆ¶å½¢çŠ¶çš„è½®å»“é¢œè‰²çš„è¡¨ç¤ºå±æ€§ ä½œä¸ºè¡¨ç¤ºå±æ€§ï¼Œå®ƒå¯ä»¥åº”ç”¨äºä»»ä½•å…ƒç´ ï¼Œä½†å®ƒä»…å¯¹ä»¥ä¸‹åä¸€ä¸ªå…ƒç´ äº§ç”Ÿå½±å“ï¼š &lt;altGlyph&gt;, &lt;circle&gt;, &lt;ellipse&gt;, &lt;path&gt;, &lt;polygon&gt;, &lt;polyline&gt;, &lt;rect&gt;, &lt;text&gt;, &lt;textPath&gt;, &lt;tref&gt;, &lt;tspan&gt; strokeWidthå®šä¹‰è¦åº”ç”¨äºå½¢çŠ¶çš„ç¬”åˆ’å®½åº¦çš„è¡¨ç¤ºå±æ€§ï¼Œé»˜è®¤1px ä½œä¸ºè¡¨ç¤ºå±æ€§ï¼Œå®ƒå¯ä»¥åº”ç”¨äºä»»ä½•å…ƒç´ ï¼Œä½†å®ƒä»…å¯¹ä»¥ä¸‹åä¸€ä¸ªå…ƒç´ äº§ç”Ÿå½±å“ï¼š &lt;altGlyph&gt;, &lt;circle&gt;, &lt;ellipse&gt;, &lt;path&gt;, &lt;polygon&gt;, &lt;polyline&gt;, &lt;rect&gt;, &lt;text&gt;, &lt;textPath&gt;, &lt;tref&gt;, &lt;tspan&gt; fillfillå±æ€§æœ‰ä¸¤ä¸ªä¸åŒçš„å«ä¹‰ï¼šå¯¹äºå½¢çŠ¶å’Œæ–‡æœ¬ï¼Œå®ƒæ˜¯ä¸€ä¸ªè¡¨ç¤ºå±æ€§ï¼Œå®ƒå…è®¸å®šä¹‰ç”¨äºç»˜åˆ¶å…ƒç´ çš„é¢œè‰²ï¼›å¯¹äºåŠ¨ç”»ï¼Œå®ƒå…è®¸å®šä¹‰åŠ¨ç”»çš„æœ€ç»ˆçŠ¶æ€ã€‚ ä½œä¸ºè¡¨ç¤ºå±æ€§ï¼Œå®ƒå¯ä»¥åº”ç”¨äºä»»ä½•å…ƒç´ ï¼Œä½†å®ƒä»…å¯¹ä»¥ä¸‹åä¸€ä¸ªå…ƒç´ äº§ç”Ÿå½±å“ï¼š &lt;altGlyph&gt;, &lt;circle&gt;, &lt;ellipse&gt;, &lt;path&gt;, &lt;polygon&gt;, &lt;polyline&gt;, &lt;rect&gt;, &lt;text&gt;, &lt;textPath&gt;, &lt;tref&gt;, &lt;tspan&gt; ä¾‹å¦‚ï¼š 123&lt;svg viewBox=\"0 0 400 100\" xmlns=\"http://www.w3.org/2000/svg\"&gt; &lt;circle cx=\"150\" cy=\"50\" r=\"40\" fill=\"url(#myGradient)\" /&gt;&lt;/svg&gt; å¯¹äºåŠ¨ç”»ï¼Œäº”ä¸ªå…ƒç´ ä½¿ç”¨æ­¤å±æ€§: &lt;animate&gt;, &lt;animateColor&gt;, &lt;animateMotion&gt;, &lt;animateTransform&gt;, &lt;set&gt; ä¾‹å¦‚ï¼š 123456789&lt;svg viewBox=\"0 0 400 100\" xmlns=\"http://www.w3.org/2000/svg\"&gt; &lt;circle cx=\"250\" cy=\"50\" r=\"20\"&gt; &lt;animate attributeType=\"XML\" attributeName=\"r\" from=\"0\" to=\"40\" dur=\"5s\" fill=\"freeze\" /&gt; &lt;/circle&gt; &lt;/svg&gt; ä½œä¸ºè¡¨ç¤ºå±æ€§ï¼Œfillå¯ä»¥ç”¨ä½œCSSå±æ€§ã€‚ fill-opacityå®šä¹‰åº”ç”¨äºå½¢çŠ¶çš„ä¸é€æ˜åº¦çš„è¡¨ç¤ºå±æ€§ã€‚ ä¾‹å¦‚ï¼š 1234567&lt;svg viewBox=\"0 0 400 100\" xmlns=\"http://www.w3.org/2000/svg\"&gt; &lt;circle cx=\"250\" cy=\"50\" r=\"40\" fill-opacity=\"50%\" /&gt;&lt;/svg&gt; stroke-dasharraystroke-dasharrayå±æ€§ç”¨æ¥è®¾ç½®å®çº¿å’Œè™šçº¿çš„å®½åº¦.å¦‚æœæä¾›å¥‡æ•°ä¸ªï¼Œåˆ™ä¼šè‡ªåŠ¨å¤åˆ¶è¯¥å€¼æˆå¶æ•° æ¯”å¦‚ï¼š stroke-dasharray: 50 20; 50å’Œ20åˆ†åˆ«å¯¹åº”äº†å®çº¿å’Œè™šçº¿çš„é•¿åº¦ stroke-dashoffsetstroke-dashoffsetï¼šå®šä¹‰è™šçº¿æè¾¹çš„åç§»é‡ï¼ˆåœ¨è·¯å¾„å¼€å§‹çš„å‰é¢ï¼Œçœ‹ä¸åˆ°ï¼‰ åŠ¨ç”»svg æè¾¹åŠ¨ç”»èƒ½ä½¿ç”¨css3 animation å®ç°ï¼Œæ— éœ€ä»»ä½•JavaScript 123456789&lt;svg&gt; &lt;path d=\"......\" stroke=\"#000\" stroke-width=2 fill=\"#fff\" fill-opacity=0 /&gt;&lt;/svg&gt; CSS: 1234567891011path &#123; stroke-dasharray: 1000; stroke-dashoffset: 1000; animation: dash 5s linear infinite;&#125;@keyframes dash &#123; to &#123; stroke-dashoffset: 0; &#125;&#125; ä¸Šé¢çš„1000åº”è¯¥æ˜¯å¤§äºç­‰äºè·¯å¾„çš„é•¿åº¦ è·¯å¾„é•¿åº¦çš„è®¡ç®—var path = document.querySelector('path'); var length = path.getTotalLength();","tags":[{"name":"svg","slug":"svg","permalink":"https://shleyz.github.io/tags/svg/"}]},{"title":"NATAPPå†…ç½‘ç©¿é€ä¸ webpack ä¸€åŒä½¿ç”¨å‡ºç°invalid host header é—®é¢˜","date":"2018-08-05T12:05:19.000Z","path":"2018/08/05/NATAPPå†…ç½‘ç©¿é€/","text":"disableHostCheck: true åœ¨webpacké…ç½®æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸Šã€‚","tags":[]},{"title":"node ç‰ˆæœ¬å‡çº§","date":"2018-07-29T06:02:01.000Z","path":"2018/07/29/nodeç‰ˆæœ¬å‡çº§/","text":"é¦–å…ˆï¼šæŸ¥çœ‹å½“å‰nodeç‰ˆæœ¬ï¼šnode â€“v å®‰è£…næ¨¡å—ï¼šnpm install -g n å‡çº§åˆ°æŒ‡å®šç‰ˆæœ¬/æœ€æ–°ç‰ˆæœ¬ï¼ˆè¯¥æ­¥éª¤å¯èƒ½éœ€è¦èŠ±è´¹ä¸€äº›æ—¶é—´ï¼‰å‡çº§ä¹‹å‰ï¼Œå¯ä»¥æ‰§è¡Œn ls ï¼ˆæŸ¥çœ‹å¯å‡çº§çš„ç‰ˆæœ¬ï¼‰å¦‚ï¼š n 6.9.1 æˆ–è€…ä½ ä¹Ÿå¯ä»¥å‘Šè¯‰ç®¡ç†å™¨ï¼Œå®‰è£…æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬ n stable å®‰è£…å®Œæˆåï¼ŒæŸ¥çœ‹Nodeçš„ç‰ˆæœ¬ï¼Œæ£€æŸ¥å‡çº§æ˜¯å¦æˆåŠŸnode -v","tags":[]},{"title":"ä»è¾“å…¥ç½‘å€åˆ°é¡µé¢å‘ˆç°éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ","date":"2018-05-09T02:23:04.000Z","path":"2018/05/09/ä»è¾“å…¥ç½‘å€åˆ°é¡µé¢å‘ˆç°éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ/","text":"æ¶‰åŠåˆ°ç½‘ç»œé€šä¿¡å’Œé¡µé¢æ¸²æŸ“ ç½‘ç»œé€šä¿¡å¦‚æœè¾“å…¥çš„åœ°å€æ˜¯åŸŸåï¼šwww.baidu.com åŸŸåè§£æï¼ˆDNSè§£æï¼‰ï¼š 1.å…ˆæ£€æŸ¥æœ¬åœ°hostsæ–‡ä»¶æœ‰æ²¡æœ‰åŸŸåå¯¹åº”çš„ipæ˜ å°„ï¼Œå¦‚æœæœ‰ç›´æ¥è°ƒç”¨è¿™ä¸ªæ˜ å°„åˆ°çš„ipï¼ŒåŸŸåè§£æå®Œæˆ 2.å¦‚æœhostsæ–‡ä»¶æ²¡æœ‰ç›¸åº”çš„æ˜ å°„ï¼ŒæŸ¥æ‰¾æœ¬åœ°DNSè§£æç¼“å­˜ï¼Œå¦‚æœæœ‰ç›´æ¥è¿”å›ï¼Œè§£æå®Œæˆ 3.å¦‚æœhostsæ–‡ä»¶å’Œæœ¬åœ°DNSè§£æç¼“å­˜éƒ½æ²¡æœ‰ç›¸åº”çš„ç½‘å€æ˜ å°„ï¼Œåˆ™æŸ¥æ‰¾æœ¬åœ°DNSæœåŠ¡å™¨ï¼ˆTCP/IPå‚æ•°ä¸­è®¾ç½®çš„é¦–é€‰DNSæœåŠ¡å™¨ï¼‰ï¼Œå¦‚æœåŸŸååŒ…å«åœ¨æœ¬åœ°DNSæœåŠ¡å™¨é…ç½®ä¸­ï¼Œåˆ™è¿”å›ç›¸åº”çš„IPç»™å®¢æˆ·æœºï¼Œå®Œæˆè§£æ 4.å¦‚æœæœ¬åœ°DNSæœåŠ¡å™¨é…ç½®ä¸­æ²¡æœ‰ç›¸åº”çš„æ˜ å°„ï¼Œåˆ™æŸ¥æ‰¾æœ¬åœ°DNSæœåŠ¡å™¨ç¼“å­˜æ˜¯å¦å­˜åœ¨ç½‘å€æ˜ å°„å…³ç³»ï¼Œæœ‰åˆ™è¿”å›IPï¼Œå®ŒæˆåŸŸåè§£æ 5.å¦‚æœæœ¬åœ°DNSæœåŠ¡å™¨å’Œç¼“å­˜éƒ½æ²¡æœ‰ç›¸åº”çš„æ˜ å°„å…³ç³»ï¼Œå¦‚æœæœ¬åœ°DNSæœåŠ¡å™¨æœªç”¨è½¬å‘æ¨¡å¼ æœ¬åœ°DNSä¼šæŠŠè¯·æ±‚å‘ç»™13å°æ ¹DNS, æ ¹DNSæ”¶åˆ°è¯·æ±‚ï¼Œä¼šæŸ¥è¯¢.comæ˜¯è°æ¥æˆæƒç®¡ç†çš„ï¼Œè¿”å›è´Ÿè´£è¿™ä¸ªé¡¶çº§åŸŸåæœåŠ¡å™¨çš„Ipç»™æœ¬åœ°DNSæœåŠ¡å™¨ æœ¬åœ°DNSæœåŠ¡å™¨æ”¶åˆ°è¿™ä¸ªipä»¥åï¼Œå‘é€è¯·æ±‚ç»™è¿™å°æœåŠ¡å™¨ è¿™å°è´Ÿè´£.comåŸŸçš„æœåŠ¡å™¨å¦‚æœæ— æ³•è§£æï¼Œåˆ™æ‰¾.comåŸŸçš„ä¸‹ä¸€çº§ä¹Ÿå°±æ˜¯æˆæƒç®¡ç†baidu.comçš„DNSæœåŠ¡å™¨çš„ipç»™æœ¬åœ°DNSæœåŠ¡å™¨ æœ¬åœ°DNSæœåŠ¡å™¨æ”¶åˆ°è¿™ä¸ªipä»¥åï¼Œå‘é€è¯·æ±‚ç»™è¿™å°æœåŠ¡å™¨ï¼Œé‡å¤è¿™ä¸ªæ“ä½œ 6.å¦‚æœç”¨çš„æ—¶è½¬å‘æ¨¡å¼ï¼Œ æœ¬åœ°DNSä¼šæŠŠè¯·æ±‚å‘ç»™ä¸Šä¸€çº§DNSæœåŠ¡å™¨,äº¤ç»™ä¸Šä¸€çº§è§£æ å¦‚æœä¸Šä¸€çº§ä¸èƒ½è§£æï¼Œäº¤ç»™ä¸Šä¸Šçº§è§£æï¼Œæ²¡æœ‰ä¸Šä¸Šçº§åˆ™æŸ¥æ‰¾æ ¹DNSæœåŠ¡å™¨ï¼Œä¹Ÿå°±æ˜¯5çš„æ“ä½œ 7.ä¸ç®¡æ˜¯ä¸æ˜¯è½¬å‘æ¨¡å¼ï¼Œæœ€ç»ˆéƒ½ä¼šæŠŠåŸŸåè§£æçš„åœ°å€è¿”å›ç»™æœ¬åœ°DNSæœåŠ¡å™¨ï¼Œæœ¬åœ°DNSæœåŠ¡å™¨å†è¿”å›ç»™å®¢æˆ·ç«¯ åº”ç”¨å±‚å®¢æˆ·ç«¯å‘é€httpè¯·æ±‚httpè¯·æ±‚åŒ…å«æŠ¥æ–‡å¤´å’Œè¯·æ±‚ä¸»ä½“ æŠ¥æ–‡å¤´åŒ…å«äº†é‡è¦çš„ä¿¡æ¯ï¼šè¯·æ±‚æ–¹å¼ï¼Œè¯·æ±‚åœ°å€ï¼Œéµå¾ªçš„åè®®ï¼Œæ˜¯å¦éœ€è¦ç¼“å­˜ï¼Œå®¢æˆ·ç«¯æ˜¯å¦å‘é€cookieç­‰ ä¼ è¾“å±‚ ç¡®ä¿ä¼ è¾“æŠ¥æ–‡å¯é æ€§çš„tcpåè®®tcpåè®®é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹ä¿è¯ä¼ è¾“çš„å¯é  å‘é€ç«¯å‘é€ä¸€ä¸ªåŒ…å«SYN(synchronize)æ ‡å¿—çš„æ•°æ®åŒ…ç»™æ¥æ”¶ç«¯ï¼Œåœ¨ä¸€å®šå»¶è¿Ÿæ—¶é—´å†…ç­‰å¾…å›å¤ æ¥æ”¶ç«¯æ¥æ”¶åˆ°ä»¥åï¼Œè¿”å›ä¸€ä¸ªSYC/ACKæ ‡å¿—çš„æ•°æ®åŒ…è¡¨ç¤ºç¡®è®¤ å‘é€æ–¹æ”¶åˆ°ä»¥åï¼Œå‘é€ä¸€ä¸ªå¸¦æœ‰ACKæ ‡å¿—çš„æ•°æ®åŒ…ç»™æ¥æ”¶ç«¯ï¼Œè¡¨ç¤ºæ¡æ‰‹æˆåŠŸ å¦‚æœå‘é€æ–¹åœ¨å»¶è¿Ÿæ—¶é—´å†…ä¸èƒ½æ”¶åˆ°å›å¤ï¼Œé»˜è®¤æ¥æ”¶æ–¹æ²¡æœ‰æ”¶åˆ°è¯·æ±‚ï¼Œä¼šå†æ¬¡å‘é€ï¼Œç›´åˆ°æ”¶åˆ°è¯·æ±‚ å¦‚æœä¸‰æ¬¡æ¡æ‰‹ä¸èƒ½é¡ºåˆ©è¿›è¡Œï¼Œåˆ™ä¸èƒ½å»ºç«‹è¿æ¥ tcpæŠŠå¤§å—æ•°æ®åˆ†å‰²æˆæŠ¥æ–‡æ®µä¸ºå•ä½çš„æ•°æ®åŒ…å¹¶ç¼–å·è¿›è¡Œä¼ è¾“ï¼Œæ–¹ä¾¿æœåŠ¡å™¨è¿˜åŸæ•°æ®ä¿¡æ¯ ç½‘ç»œå±‚ è´Ÿè´£ä¼ è¾“çš„IPåè®®IPåè®®è´Ÿè´£æŠŠtcpåè®®åˆ†å‰²çš„æ•°æ®åŒ…ä¼ ç»™æ¥æ”¶æ–¹ï¼Œéœ€è¦ä¿è¯ä¼ è¾“æ­£ç¡®ï¼Œè¿˜éœ€è¦æ‰¾åˆ°æ¥æ”¶æ–¹çš„macåœ°å€ï¼Œä¹Ÿå°±æ˜¯ç‰©ç†åœ°å€ã€‚ ä¸€ä¸ªç½‘ç»œè®¾å¤‡çš„macåœ°å€å’ŒIPæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼ŒIPä¼šå˜ä½†æ˜¯macä¸å˜ ARPåè®®å°†ipåœ°å€è§£ææˆå¯¹åº”çš„macåœ°å€ å½“å‘é€æ–¹å’Œæ¥æ”¶æ–¹ä¸åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ï¼Œéœ€è¦å¤šæ¬¡ä¸­è½¬æ‰èƒ½åˆ°è¾¾æœ€ç»ˆç›®æ ‡ æ•°æ®é“¾è·¯å±‚æ‰¾åˆ°macåœ°å€ä»¥åï¼ŒæŠŠæ•°æ®å‘é€åˆ°æ•°æ®é“¾è·¯å±‚ä¼ è¾“ï¼Œåˆ°è¿™é‡Œï¼Œå®¢æˆ·ç«¯å‘é€è¯·æ±‚é˜¶æ®µç»“æŸ æœåŠ¡å™¨æ¥æ”¶æŠ¥æ–‡ åœ¨æ•°æ®é“¾è·¯å±‚æ¥æ”¶åˆ°è¯·æ±‚ï¼Œåˆ é™¤è¯·æ±‚çš„é¦–éƒ¨ä¿¡æ¯ï¼Œä¼ è¾“ç»™ç½‘ç»œå±‚ ç½‘ç»œå±‚å°†æ”¶åˆ°çš„æ•°æ®ä¼ ç»™ä¼ è¾“å±‚ ä¼ è¾“å±‚å°†æ•°æ®æ®µæŒ‰åºå·è¿˜åŸæŠ¥æ–‡ï¼Œä¼ é€ç»™åº”ç”¨å±‚ æ•°æ®ä¼ è¾“åˆ°åº”ç”¨å±‚æ‰æ˜¯çœŸæ­£çš„æ¥æ”¶åˆ°ä»å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„httpè¯·æ±‚ åº”ç”¨å±‚ æœåŠ¡å™¨å‘é€httpå“åº”æŠ¥æ–‡æœåŠ¡å™¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚åï¼ŒæŸ¥æ‰¾è¯·æ±‚çš„èµ„æºï¼Œå¹¶è¿”å›å“åº”æŠ¥æ–‡ï¼Œå“åº”æŠ¥æ–‡æœ€é‡è¦çš„ä¿¡æ¯ï¼š çŠ¶æ€ç  200æˆ–2XXï¼Œè¯·æ±‚æˆåŠŸ 301ï¼Œ æ°¸ä¹…é‡å®šå‘ï¼ŒåŒæ—¶ä¹Ÿä¼šåå›ä¸€ä¸ªé‡å®šå‘åœ°å€ï¼Œè¯·æ±‚èµ„æºå·²ç»æ°¸ä¹…è½¬ç§» 304ï¼Œ è¯·æ±‚ç¼“å­˜ 404ï¼Œ not found,æ²¡æœ‰æ‰¾åˆ°èµ„æº 405, è¯·æ±‚æ–¹å¼é”™è¯¯ é¡µé¢æ¸²æŸ“è§£æhtmlä»¥æ„å»ºdomæ ‘è§£æä¸€ä¸ªæ–‡æ¡£å³å°†å…¶è½¬æ¢ä¸ºå…·æœ‰ä¸€å®šæ„ä¹‰çš„ç»“æ„(ç¼–ç å¯ä»¥ç†è§£å’Œä½¿ç”¨çš„ä¸œè¥¿)ã€‚è§£æçš„ç»“æœé€šå¸¸æ˜¯è¡¨è¾¾æ–‡æ¡£ç»“æ„çš„èŠ‚ç‚¹æ ‘ï¼Œç§°ä¸ºè§£ææ ‘æˆ–è¯­æ³•æ ‘ã€‚è§£ææ˜¯ä»¥æ–‡æ¡£æ‰€éµå¾ªçš„è¯­æ³•è§„åˆ™ï¼ˆç¼–å†™æ–‡æ¡£æ‰€ç”¨çš„è¯­è¨€æˆ–æ ¼å¼ï¼‰ä¸ºåŸºç¡€çš„ã€‚æ‰€æœ‰å¯ä»¥è§£æçš„æ ¼å¼éƒ½å¿…é¡»å¯¹åº”ç¡®å®šçš„è¯­æ³•ï¼ˆç”±è¯æ±‡å’Œè¯­æ³•è§„åˆ™æ„æˆï¼‰ã€‚è¿™ç§°ä¸ºä¸ä¸Šä¸‹æ–‡æ— å…³çš„è¯­æ³•ã€‚è§£æçš„è¿‡ç¨‹å¯ä»¥åˆ†æˆä¸¤ä¸ªå­è¿‡ç¨‹ï¼šè¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æã€‚ è¯æ³•åˆ†ææ˜¯å°†è¾“å…¥å†…å®¹åˆ†å‰²æˆå¤§é‡æ ‡è®°çš„è¿‡ç¨‹ã€‚æ ‡è®°æ˜¯è¯­è¨€ä¸­çš„è¯æ±‡ï¼Œå³æ„æˆå†…å®¹çš„å•ä½ã€‚åœ¨äººç±»è¯­è¨€ä¸­ï¼Œå®ƒç›¸å½“äºè¯­è¨€å­—å…¸ä¸­çš„å•è¯ã€‚è¯­æ³•åˆ†ææ˜¯åº”ç”¨è¯­è¨€çš„è¯­æ³•è§„åˆ™çš„è¿‡ç¨‹ã€‚è§£æå™¨é€šå¸¸å°†è§£æå·¥ä½œåˆ†ç»™ä»¥ä¸‹ä¸¤ä¸ªç»„ä»¶æ¥å¤„ç†ï¼š è¯æ³•åˆ†æå™¨ï¼ˆæœ‰æ—¶ä¹Ÿç§°ä¸ºæ ‡è®°ç”Ÿæˆå™¨ï¼‰ï¼Œè´Ÿè´£å°†è¾“å…¥å†…å®¹åˆ†è§£æˆä¸€ä¸ªä¸ªæœ‰æ•ˆæ ‡è®°ï¼›è€Œè§£æå™¨è´Ÿè´£æ ¹æ®è¯­è¨€çš„è¯­æ³•è§„åˆ™åˆ†ææ–‡æ¡£çš„ç»“æ„ï¼Œä»è€Œæ„å»ºè§£ææ ‘ã€‚ç”±äºä¸èƒ½ä½¿ç”¨å¸¸è§„çš„è§£ææŠ€æœ¯ï¼Œæµè§ˆå™¨å°±åˆ›å»ºäº†è‡ªå®šä¹‰çš„è§£æå™¨æ¥è§£æ HTMLã€‚æ­¤è§£æç®—æ³•ç”±ä¸¤ä¸ªé˜¶æ®µç»„æˆï¼šæ ‡è®°åŒ–å’Œæ ‘æ„å»ºã€‚å…·ä½“çš„è§£æè¿‡ç¨‹å¯å‚è€ƒä¸­çš„æ ‡è®°åŒ–ç®—æ³•å’Œæ„å»ºæ ‘ç®—æ³• è§£æå™¨çš„è¾“å‡ºâ€œè§£ææ ‘â€æ˜¯ç”± DOM å…ƒç´ å’Œå±æ€§èŠ‚ç‚¹æ„æˆçš„æ ‘ç»“æ„ã€‚DOM æ˜¯æ–‡æ¡£å¯¹è±¡æ¨¡å‹ (Document Object Model) çš„ç¼©å†™ã€‚å®ƒæ˜¯ HTML æ–‡æ¡£çš„å¯¹è±¡è¡¨ç¤ºï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¤–éƒ¨å†…å®¹ï¼ˆä¾‹å¦‚ JavaScriptï¼‰ä¸ HTML å…ƒç´ ä¹‹é—´çš„æ¥å£ã€‚è§£ææ ‘çš„æ ¹èŠ‚ç‚¹æ˜¯â€œDocumentâ€å¯¹è±¡ã€‚ å½“è§£æåˆ°linkæ ‡ç­¾æ—¶ä¼šè¯·æ±‚ç›¸åº”çš„CSSæ–‡ä»¶ï¼Œå¹¶å°†å…¶CSSè§„åˆ™è§£æä¸ºStyleSheetå¯¹è±¡ï¼ŒCSSæ–‡ä»¶ä¸­çš„å…¶ä»–å¤–é“¾èµ„æºå¦‚èƒŒæ™¯å›¾ç‰‡ç­‰åªæœ‰ç­‰åˆ°å…¶è§„åˆ™ä¸DOMæ ‘æŸèŠ‚ç‚¹ç›¸åŒ¹é…æ—¶æ‰ä¼šåŠ è½½å½“è§£æé‡åˆ°imgæ ‡ç­¾æ—¶ä¼šæ ¹æ®è·¯å¾„å‘æœåŠ¡å™¨ç›¸åº”çš„èµ„æºæ–‡ä»¶å¤¹ä¸­è¯·æ±‚å›¾ç‰‡èµ„æºï¼Œä½†å¹¶ä¸ä¼šç­‰å¾…å›¾ç‰‡èµ„æºä¸‹è½½å®Œå†å»è§£ææ¥ä¸‹æ¥çš„htmlï¼Œè€Œæ˜¯å¹¶å‘æ‰§è¡Œå³å›¾ç‰‡èµ„æºä»åœ¨ä¸‹è½½ï¼Œhtmlè§£æä¹Ÿåœ¨è¿›è¡Œã€‚å¦‚æœæ²¡æœ‰å®šä¹‰å›¾ç‰‡çš„heightå’Œwidthå±æ€§ï¼Œé‚£ä¹ˆæµè§ˆå™¨ä¸ºäº†èƒ½å¤Ÿæ˜¾ç¤ºæ¯ä¸€ä¸ªåŠ è½½çš„å›¾åƒï¼Œå®ƒéœ€è¦å…ˆä¸‹è½½å›¾åƒï¼Œç„¶åè§£æå‡ºå›¾åƒçš„é«˜åº¦å’Œå®½åº¦ï¼Œå¹¶åœ¨æ˜¾ç¤ºçª—å£ç•™å‡ºç›¸åº”çš„å±å¹•ç©ºé—´ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´æµè§ˆå™¨ä¸æ–­åœ°é‡æ–°è®¡ç®—/è°ƒæ•´é¡µé¢çš„å¸ƒå±€ï¼Œè¿™å¯èƒ½ä¼šå»¶è¿Ÿæ–‡æ¡£çš„æ˜¾ç¤ºï¼Œå¹¶å¯¼è‡´é¡µé¢é‡ç»˜ã€‚å½“è§£æé‡åˆ°scriptæ ‡ç­¾æ—¶ï¼Œå°†å¯åŠ¨ JavaScript å¼•æ“ï¼Œè¿™æ—¶å°†é˜»å¡ DOM æ ‘çš„æ„å»ºã€‚å› ä¸º JavaScript æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œ JavaScript å¾ˆå¯èƒ½ä¼šå¯¹ DOM æ ‘è¿›è¡Œè¯»å†™æ“ä½œã€‚ç›´åˆ° JavaScript æ‰§è¡Œå®Œæ¯•ï¼ˆæ­¤æ—¶æ‰§è¡Œçš„æ˜¯å…¨å±€å¯¹è±¡åˆå§‹åˆ›å»ºå’Œå…¨å±€ä¸Šä¸‹æ–‡ä¸­ä»£ç çš„æ‰§è¡Œï¼‰ï¼ŒDOMæ ‘æ‰ä¼šæ¢å¤æ„å»ºã€‚ æ„å»ºrenderæ ‘ä¸ºäº†æ›´å¥½åœ°ç”¨æˆ·ä½“éªŒæ•ˆæœï¼Œæµè§ˆå™¨ä¼šåœ¨æ„å»ºDOMæ ‘çš„åŒæ—¶ï¼Œä¹Ÿåœ¨æ„å»ºrenderæ ‘ã€‚å‘ˆç°æ ‘çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹å³ä¸ºä¸å…¶ç›¸å¯¹åº”çš„DOMèŠ‚ç‚¹çš„CSSæ¡†ï¼Œæ¡†çš„ç±»å‹ä¸DOMèŠ‚ç‚¹çš„displayå±æ€§æœ‰å…³ï¼Œblockå…ƒç´ ç”Ÿæˆblockæ¡†ï¼Œinlineå…ƒç´ ç”Ÿæˆinlineæ¡†ã€‚æ¯ä¸€ä¸ªå‘ˆç°æ ‘èŠ‚ç‚¹éƒ½æœ‰ä¸ä¹‹ç›¸å¯¹åº”çš„DOMèŠ‚ç‚¹ï¼Œä½†DOMèŠ‚ç‚¹ä¸ä¸€å®šæœ‰ä¸ä¹‹ç›¸å¯¹åº”çš„å‘ˆç°æ ‘èŠ‚ç‚¹ï¼Œæ¯”å¦‚displayå±æ€§ä¸ºnoneçš„DOMèŠ‚ç‚¹ï¼Œè€Œä¸”å‘ˆç°æ ‘èŠ‚ç‚¹åœ¨å‘ˆç°æ ‘ä¸­çš„ä½ç½®ä¸ä»–ä»¬åœ¨DOMæ ‘ä¸­çš„ä½ç½®ä¸ä¸€å®šç›¸åŒï¼Œæ¯”å¦‚floatä¸ç»å¯¹å®šä½å…ƒç´ ã€‚åœ¨æ„å»ºrenderæ ‘çš„æ—¶å€™éœ€è¦ä¸ºDOMæ ‘åŒ¹é…CSSè§„åˆ™ï¼Œåœ¨è¿™ä¸ªé˜¶æ®µå› ä¸ºåŒ¹é…è§„åˆ™æ˜¯ä»å³å¾€å·¦åŒ¹é…çš„ï¼Œæ‰€ä»¥cssçš„ç¼–å†™è§„åˆ™å¾ˆé‡è¦ã€‚ä¸å¥½çš„CSSé€‰æ‹©å™¨å†™æ³•ä¼šå½±å“åˆ°é¡µé¢æ¸²æŸ“çš„æ•ˆç‡ï¼Œå…·ä½“æ˜¯å¦‚ä½•ç¼–å†™é«˜æ•ˆçš„CSSè§„åˆ™çš„å¯å‚è€ƒè¿™ç¯‡æ–‡ç«  å¸ƒå±€renderæ ‘åœ¨åˆ›å»ºrenderæ ‘æ—¶ï¼Œå¹¶ä¸åŒ…å«ä½ç½®å’Œå¤§å°ä¿¡æ¯ã€‚è®¡ç®—è¿™äº›å€¼çš„è¿‡ç¨‹ç§°ä¸ºå¸ƒå±€æˆ–é‡æ’ã€‚å¸ƒå±€æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œå®ƒä»æ ¹å…ƒç´ å¼€å§‹ï¼Œç„¶åé€’å½’éå†éƒ¨åˆ†æˆ–æ‰€æœ‰çš„æ¡†æ¶å±‚æ¬¡ç»“æ„ï¼Œä¸ºæ¯ä¸€ä¸ªéœ€è¦è®¡ç®—çš„å‘ˆç°å™¨è®¡ç®—å‡ ä½•ä¿¡æ¯ã€‚å¸ƒå±€é€šå¸¸å…·æœ‰ä»¥ä¸‹æ¨¡å¼ï¼š çˆ¶å‘ˆç°å™¨ç¡®å®šè‡ªå·±çš„å®½åº¦ã€‚ çˆ¶å‘ˆç°å™¨ä¾æ¬¡å¤„ç†å­å‘ˆç°å™¨ï¼Œå¹¶ä¸”ï¼šæ”¾ç½®å­å‘ˆç°å™¨ï¼ˆè®¾ç½® x,y åæ ‡ï¼‰ã€‚å¦‚æœæœ‰å¿…è¦ï¼Œè°ƒç”¨å­å‘ˆç°å™¨çš„å¸ƒå±€ï¼Œè¿™ä¼šè®¡ç®—å­å‘ˆç°å™¨çš„é«˜åº¦ã€‚ çˆ¶å‘ˆç°å™¨æ ¹æ®å­å‘ˆç°å™¨çš„ç´¯åŠ é«˜åº¦ä»¥åŠè¾¹è·å’Œè¡¥ç™½çš„é«˜åº¦æ¥è®¾ç½®è‡ªèº«é«˜åº¦ï¼Œæ­¤å€¼ä¹Ÿå¯ä¾›çˆ¶å‘ˆç°å™¨çš„çˆ¶å‘ˆç°å™¨ä½¿ç”¨ã€‚ å°†å…¶ dirty ä½è®¾ç½®ä¸º false ç»˜åˆ¶renderæ ‘åœ¨ç»˜åˆ¶é˜¶æ®µï¼Œç³»ç»Ÿä¼šéå†renderæ ‘ï¼Œå¹¶è°ƒç”¨å‘ˆç°å™¨çš„â€œpaintâ€æ–¹æ³•ï¼Œå°†å‘ˆç°å™¨çš„å†…å®¹æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚ç»˜åˆ¶å·¥ä½œæ˜¯ä½¿ç”¨ç”¨æˆ·ç•Œé¢åŸºç¡€ç»„ä»¶å®Œæˆçš„ã€‚å’Œå¸ƒå±€ä¸€æ ·ï¼Œç»˜åˆ¶ä¹Ÿåˆ†ä¸ºå…¨å±€ï¼ˆç»˜åˆ¶æ•´ä¸ªå‘ˆç°æ ‘ï¼‰å’Œå¢é‡ä¸¤ç§ã€‚åœ¨å¢é‡ç»˜åˆ¶ä¸­ï¼Œéƒ¨åˆ†å‘ˆç°å™¨å‘ç”Ÿäº†æ›´æ”¹ï¼Œä½†æ˜¯ä¸ä¼šå½±å“æ•´ä¸ªæ ‘ã€‚æ›´æ”¹åçš„å‘ˆç°å™¨å°†å…¶åœ¨å±å¹•ä¸Šå¯¹åº”çš„çŸ©å½¢åŒºåŸŸè®¾ä¸ºæ— æ•ˆï¼Œè¿™å¯¼è‡´ OS å°†å…¶è§†ä¸ºä¸€å—â€œdirty åŒºåŸŸâ€ï¼Œå¹¶ç”Ÿæˆâ€œpaintâ€äº‹ä»¶ã€‚ç»˜åˆ¶é¡ºåº: èƒŒæ™¯é¢œè‰² èƒŒæ™¯å›¾ç‰‡ è¾¹æ¡† å­ä»£ è½®å»“ é¡µé¢å˜åŒ–é€ æˆçš„å½±å“åœ¨å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæµè§ˆå™¨ä¼šå°½å¯èƒ½åšå‡ºæœ€å°çš„å“åº”ã€‚ å…ƒç´ çš„é¢œè‰²æ”¹å˜åï¼Œåªä¼šå¯¹è¯¥å…ƒç´ è¿›è¡Œé‡ç»˜ã€‚ å…ƒç´ çš„ä½ç½®æ”¹å˜åï¼Œåªä¼šå¯¹è¯¥å…ƒç´ åŠå…¶å­å…ƒç´ ï¼ˆå¯èƒ½è¿˜æœ‰åŒçº§å…ƒç´ ï¼‰è¿›è¡Œå¸ƒå±€å’Œé‡ç»˜ã€‚ æ·»åŠ  DOM èŠ‚ç‚¹åï¼Œä¼šå¯¹è¯¥èŠ‚ç‚¹è¿›è¡Œå¸ƒå±€å’Œé‡ç»˜ã€‚ ä¸€äº›é‡å¤§å˜åŒ–ï¼ˆä¾‹å¦‚å¢å¤§â€œhtmlâ€å…ƒç´ çš„å­—ä½“ï¼‰ä¼šå¯¼è‡´ç¼“å­˜æ— æ•ˆï¼Œä½¿å¾—æ•´ä¸ªå‘ˆç°æ ‘éƒ½ä¼šè¿›è¡Œé‡æ–°å¸ƒå±€å’Œç»˜åˆ¶ã€‚ é¡µé¢æ¸²æŸ“é˜¶æ®µçš„ä¼˜åŒ–ï¼š å°†cssæ–‡ä»¶æ”¾åœ¨å¤´éƒ¨ï¼Œä¾¿äºæ„å»ºdomæ ‘ å°†javascriptæ–‡ä»¶æ”¾åœ¨å°¾éƒ¨ï¼Œä»¥å…é˜»å¡æ„å»ºdomæ ‘ javascriptçš„onloadäº‹ä»¶é‡Œï¼Œä¸è¦å†™å¤ªå¤šå½±å“é¦–å±æ¸²æŸ“çš„ã€æ“ä½œdomæ ‘çš„ä»£ç  ç²¾ç®€jså’Œcssä»£ç ï¼Œæ˜¯èµ„æºæ›´å¿«çš„ä¸‹è½½ é‡è¦çš„å›¾ç‰‡æˆ–æƒ³è®©ç”¨æˆ·å…ˆçœ‹åˆ°çš„å›¾ç‰‡ä½¿ç”¨imgæ ‡ç­¾ï¼Œæ¬¡è¦çš„å¯ä»¥ä½¿ç”¨backgroundå¼•å…¥","tags":[{"name":"http","slug":"http","permalink":"https://shleyz.github.io/tags/http/"}]},{"title":"jsé—­åŒ…çš„ç‰¹æ€§å’Œå…¶ä¼˜ç¼ºç‚¹","date":"2018-05-09T01:19:34.000Z","path":"2018/05/09/jsé—­åŒ…çš„ç‰¹æ€§å’Œå…¶ä¼˜ç¼ºç‚¹/","text":"javascriptæœ‰ å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ jsçš„ç‰¹ç‚¹å°±æ˜¯å‡½æ•°å†…éƒ¨å¯ä»¥è¯»å–å…¨å±€å’Œå±€éƒ¨å˜é‡ï¼Œä½†æ˜¯å‡½æ•°å¤–éƒ¨ä¸èƒ½è¯»å–å†…éƒ¨çš„å±€éƒ¨å˜é‡ è¿™æ ·å°±æœ‰é—­åŒ…å¯ä»¥å®ç°è¯»å–å‡½æ•°å†…éƒ¨å˜é‡ï¼šåœ¨å‡½æ•°å†…éƒ¨å†å®šä¹‰ä¸€ä¸ªå‡½æ•° 123456function f1() &#123; let n = 99; function f2()&#123; console.log(n) &#125;&#125; æ‰€ä»¥å¯ä»¥ç†è§£ä¸ºé—­åŒ…æ˜¯ä¸€ä¸ªå¤–éƒ¨è®¿é—®å†…éƒ¨å˜é‡çš„ä¸€ä¸ªé€šé“ã€‚ é—­åŒ…çš„ç”¨é€”ï¼š è¯»å–å‡½æ•°å†…éƒ¨çš„å˜é‡ è®©è¿™äº›å˜é‡çš„å€¼ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶è‡ªåŠ¨æ¸…é™¤ ä¼˜ç‚¹ï¼š é¿å…å…¨å±€å˜é‡æ±¡æŸ“ ä½¿å˜é‡é•¿æœŸä¿å­˜åœ¨å†…å­˜ä¸­ ç¼ºç‚¹ å¢åŠ å†…å­˜ä½¿ç”¨é‡ é€ æˆå†…å­˜æ³„æ¼ ï¼ˆè¿™äº›å˜é‡ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶è‡ªåŠ¨æ¸…é™¤ï¼‰ï¼Œè§£å†³æ–¹æ³•ï¼šåœ¨é€€å‡ºæˆ–è€…ä¸ç”¨ä¹‹åæŠŠå±€éƒ¨å˜é‡æ‰‹åŠ¨æ¸…é™¤ åƒåœ¾å›æ”¶æœºåˆ¶äº†è§£ä¸€ä¸‹jsæ¯æ¬¡åˆ›å»ºå˜é‡ï¼ˆå­—ç¬¦ä¸²ï¼Œå¯¹è±¡ï¼Œæ•°ç»„ç­‰ï¼‰æ—¶ï¼Œéƒ½ä¼šè‡ªåŠ¨åˆ†é…å†…å­˜æ¥å­˜å‚¨è¿™äº›å˜é‡ï¼Œåªè¦åŠ¨æ€åˆ†é…äº†å†…å­˜ï¼Œæœ€ç»ˆéƒ½è¦é‡Šæ”¾ä»¥ä¾¿å†…å­˜å¯ä»¥å†æ¬¡ä½¿ç”¨ï¼Œå¦åˆ™jsè§£é‡Šå™¨å°±ä¼šæ¶ˆè€—å®Œç³»ç»Ÿçš„æ‰€æœ‰å†…å­˜ï¼Œé€ æˆç³»ç»Ÿå´©æºƒã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆéœ€è¦åƒåœ¾å›æ”¶ã€‚ js ä¸åƒc/c++ï¼Œæœ‰è‡ªå·±çš„ä¸€å¥—åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œjsåªèƒ½è¿›è¡Œæ£€æµ‹ï¼Œçœ‹è¿™äº›å˜é‡ä»€ä¹ˆæ—¶å€™ä¸ç”¨äº†ï¼Œä¸éœ€è¦äº†å°±è¿›è¡Œé‡Šæ”¾ã€‚ 123var a = \"before\";var b = \"override a\";var a = b; //é‡å†™a ä¸Šé¢çš„ä»£ç è¿è¡Œä¹‹åï¼Œâ€beforeâ€è¿™ä¸ªå­—ç¬¦ä¸²å¤±å»äº†å¼•ç”¨ï¼Œç³»ç»Ÿæ£€æµ‹åˆ°äº†ä¹‹åï¼Œå°±ä¼šé‡Šæ”¾è¯¥å­—ç¬¦ä¸²çš„å­˜å‚¨ç©ºé—´ä»¥ä¾¿è¿™äº›ç©ºé—´å¯ä»¥è¢«å†åˆ©ç”¨ã€‚ åŸç†ï¼šæ ‡è®°æ¸…é™¤ å½“å˜é‡è¿›å…¥æ‰§è¡Œç¯å¢ƒï¼Œæ ‡è®°ä¸ºâ€œè¿›å…¥ç¯å¢ƒâ€ï¼Œå½“å˜é‡ç¦»å¼€ç¯å¢ƒï¼Œæ ‡è®°ä¸ºâ€œç¦»å¼€ç¯å¢ƒâ€åƒåœ¾æ”¶é›†å™¨è¿è¡Œçš„æ—¶å€™ï¼Œ ä¼šæŠŠæ‰€æœ‰çš„å˜é‡åŠ ä¸Šæ ‡è®°ï¼Œ ç„¶åå»æ‰æ‰€æœ‰åœ¨ç¯å¢ƒä¸­çš„å˜é‡çš„æ ‡è®°ï¼Œ å¦‚æœæœ‰å˜é‡ä¸ç”¨äº†ï¼Œè®¿é—®ä¸åˆ°äº†ï¼Œå†ç»™è¿™äº›å˜é‡åŠ ä¸Šæ ‡è®°ï¼Œè§†ä¸ºå°†è¦åˆ é™¤çš„å˜é‡ï¼Œ åƒåœ¾å›æ”¶å™¨å®Œæˆæ¸…é™¤ï¼Œé”€æ¯å¸¦æœ‰æ ‡è®°çš„å˜é‡ï¼Œé‡Šæ”¾å†…å­˜ åŸç†ï¼šå¼•ç”¨è®¡æ•° è·Ÿè¸ªè®°å½•æ¯ä¸ªå˜é‡è¢«å¼•ç”¨çš„æ¬¡æ•° å½“å£°æ˜äº†ä¸€ä¸ªå˜é‡å¹¶ç»™ä»–èµ‹å€¼ï¼Œåˆ™è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°ä¸º 1 åä¹‹ï¼Œå¦‚æœè¿™ä¸ªå€¼å¯¹åº”çš„å˜é‡åˆå–å¾—å¦å¤–ä¸€ä¸ªå€¼ï¼Œ åˆ™åŸæ¥è¿™ä¸ªå€¼å¼•ç”¨æ¬¡æ•° -1 å½“å¼•ç”¨æ¬¡æ•°ä¸º0æ—¶ï¼Œè¯´æ˜è®¿é—®ä¸åˆ°è¿™ä¸ªå€¼äº†ï¼Œåˆ™é”€æ¯å¹¶å›æ”¶ å¼•å‘å†…å­˜æ³„æ¼çš„æ“ä½œ æ„å¤–çš„å…¨å±€å˜é‡å¼•èµ·çš„å†…å­˜æ³„æ¼ åŸå› : å…¨å±€å˜é‡ï¼Œä¸ä¼šè¢«å›æ”¶ è§£å†³æ–¹æ³•ï¼š ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œä¸¥æ ¼æ¨¡å¼ä¸å…è®¸æ„å¤–åˆ›å»ºå…¨å±€å˜é‡ï¼ˆéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œé”™è¯¯çš„åˆ›å»ºå˜é‡ä¼šå¯¼è‡´åˆ›å»ºä¸ºå…¨å±€å˜é‡ï¼‰ é—­åŒ…å¼•èµ·å†…å­˜æ³„æ¼ åŸå› ï¼š å¯ä»¥ç»´æŒå‡½æ•°å†…å±€éƒ¨å˜é‡ï¼Œä½¿å…¶å¾—ä¸åˆ°é‡Šæ”¾ æ²¡æœ‰æ¸…ç†çš„domå…ƒç´ å¼•ç”¨ åŸå› ï¼š è™½ç„¶åˆ«çš„åœ°æ–¹åˆ é™¤äº†ï¼Œä½†æ˜¯å¯¹è±¡ä¸­è¿˜å­˜åœ¨å¯¹domçš„å¼•ç”¨ è§£å†³æ–¹æ³•ï¼š æ‰‹åŠ¨åˆ é™¤å¼•ç”¨","tags":[{"name":"é—­åŒ…","slug":"é—­åŒ…","permalink":"https://shleyz.github.io/tags/é—­åŒ…/"}]},{"title":"å¸ƒå±€æ–¹å¼static/relative/absolute/fixed","date":"2018-05-09T01:01:35.000Z","path":"2018/05/09/å¸ƒå±€æ–¹å¼static-relative-absolute-fixed/","text":"cssä¸­positionçš„å¸ƒå±€æ–¹å¼æœ‰ï¼šstatic | relative | absolute | fixed static: é»˜è®¤å€¼ï¼Œåˆ¶å®šå…ƒç´ ä½¿ç”¨æ­£å¸¸çš„å¸ƒå±€è¡Œä¸ºï¼Œå³å…ƒç´ åœ¨æ–‡æ¡£å¸¸è§„æµä¸­å½“å‰çš„å¸ƒå±€ä½ç½®ã€‚æ­¤æ—¶top | bottom | left | right | z-index å±æ€§éƒ½ä¸ç”Ÿæ•ˆ relative: æ ¹æ®è‡ªèº«çš„ä½ç½®æ¥è¿›è¡Œå®šä½ï¼Œ ä¸è„±ç¦»æ–‡æ¡£æµ absolute: è„±ç¦»æ–‡æ¡£æµï¼Œæ ¹æ®ä¸Šçº§ä¸­æœ€è¿‘çš„éstaticå…ƒç´ æ¥å®šä½ fixed: è„±ç¦»æ–‡æ¡£æµï¼Œç›¸å¯¹äºå±å¹•è§†å£è¿›è¡Œå®šä½","tags":[]},{"title":"jsé˜²æŠ–å’Œæˆªæµ","date":"2018-05-08T09:56:08.000Z","path":"2018/05/08/jsé˜²æŠ–å’Œæˆªæµ/","text":"åœ¨é¡µé¢æ“ä½œä¸­ï¼Œå¾ˆé«˜é¢‘ç‡çš„å¯¹domçš„æ“ä½œä¼šåŠ é‡æµè§ˆå™¨çš„è´Ÿæ‹…ï¼Œä¹Ÿä¼šå¯¼è‡´ä¸€äº›bugï¼Œä¾‹å¦‚æ»šåŠ¨æ¡æ»šåŠ¨è§¦å‘çš„æ“ä½œï¼Œå¾ˆå¿«çš„ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®ï¼Œè¾“å…¥å­—ç¬¦ä¸²æœç´¢ç­‰ã€‚å› æ­¤é‡‡ç”¨é˜²æŠ–å’Œæˆªæµè¿›è¡Œé™ä½è°ƒç”¨é¢‘ç‡ï¼Œä½†åˆä¸å½±å“ä½¿ç”¨ã€‚ äº‹ä»¶é˜²æŠ–ï¼šæ‹¿è¾“å…¥å­—ç¬¦ä¸²æœç´¢æ¥è¯´ï¼Œç­‰å¾…ç”¨æˆ·åœæ­¢è¾“å…¥ï¼Œä¾‹å¦‚è¿‡äº†500msç”¨æˆ·è¿˜æ²¡æœ‰è¾“å…¥ï¼Œåˆ™æœç´¢ä»¥è¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœç”¨æˆ·åœ¨ç­‰å¾…500msçš„æ—¶é—´å†…åˆè¾“å…¥äº†ï¼Œåˆ™åœ¨è¾“å…¥åå†ç­‰å¾…500msï¼Œå¦‚æœæ²¡æœ‰ç»§ç»­è¾“å…¥åˆ™æœç´¢ï¼Œå¦‚æœæœ‰å°±å†ç­‰å¾…500msæœ‰æ²¡æœ‰è¾“å…¥ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ å®ç°é˜²æŠ–çš„æ€è·¯ï¼š æ¯æ¬¡è§¦å‘äº‹ä»¶æ—¶éƒ½å–æ¶ˆä¹‹å‰çš„å»¶æ—¶ï¼Œå‡ºå‘åå‘å‡ºæ–°çš„å»¶æ—¶ function debounce(fn, delay) { let handle; return function(e){ clearTimeout(handle); handle = setTimeout(() =&gt; { fn(e) }, delay) } } function sayHi(e){ console.log(e.target.innerWidth, e.target.innerHeight) } window.addEventListener('resize', debounce(sayHi, 500)) äº‹ä»¶èŠ‚æµäº‹ä»¶èŠ‚æµå°±æ˜¯ æ¯è¿‡500msè¿›è¡Œä¸€æ¬¡æœç´¢ å®ç°èŠ‚æµçš„æ€è·¯ï¼š æ¯æ¬¡è§¦å‘äº‹ä»¶æ—¶éƒ½åˆ¤æ–­å½“å‰æ˜¯å¦æœ‰ç­‰å¾…æ‰§è¡Œçš„å»¶æ—¶å‡½æ•° function throttle(fn, delay) { let runStatus = false; return function(e){ if(runStatus) { return false } runStatus = true; setTimeout(() =&gt; { fn(e); runStatus = false }, delay) } } function sayHi(e){ console.log(e.target.innerWidth, e.target.innerHeight) } window.addEventListener('resize', debounce(sayHi, 500))","tags":[{"name":"é˜²æŠ–æˆªæµ","slug":"é˜²æŠ–æˆªæµ","permalink":"https://shleyz.github.io/tags/é˜²æŠ–æˆªæµ/"}]},{"title":"jsç®—æ³•-æ’åº","date":"2018-05-02T09:05:14.000Z","path":"2018/05/02/jsç®—æ³•-æ’åº/","text":"æˆ‘ä»¬å¹³æ—¶å¯¹è®¡ç®—æœºä¸­å­˜å‚¨çš„æ•°æ®æ‰§è¡Œçš„ä¸¤ç§æœ€å¸¸è§çš„æ“ä½œå°±æ˜¯æ’åºå’ŒæŸ¥æ‰¾ï¼Œå¯¹äºè®¡ç®—æœºçš„æ’åºå’ŒæŸ¥æ‰¾çš„ç ”ç©¶ï¼Œè‡ªè®¡ç®—æœºè¯ç”Ÿä»¥æ¥å°±æ²¡æœ‰åœæ­¢è¿‡ã€‚å¦‚ä»Šåˆæ˜¯å¤§æ•°æ®ï¼Œäº‘è®¡ç®—çš„æ—¶ä»£ï¼Œå¯¹æ•°æ®çš„æ’åºå’ŒæŸ¥æ‰¾çš„é€Ÿåº¦ã€æ•ˆç‡è¦æ±‚æ›´é«˜ï¼Œå› æ­¤è¦å¯¹æ’åºå’ŒæŸ¥æ‰¾çš„ç®—æ³•è¿›è¡Œä¸“é—¨çš„æ•°æ®ç»“æ„è®¾è®¡ï¼Œï¼ˆä¾‹å¦‚æˆ‘ä»¬ä¸Šä¸€ç¯‡èŠåˆ°çš„äºŒå‰æŸ¥æ‰¾æ ‘å°±æ˜¯å…¶ä¸­ä¸€ç§ï¼‰ï¼Œä»¥ä¾¿è®©æˆ‘ä»¬å¯¹æ•°æ®çš„æ“ä½œæ›´åŠ ç®€æ´é«˜æ•ˆã€‚ ä»‹ç»ä¸€ä¸‹æ’åºç®—æ³•çš„æœ¯è¯­ï¼š ç¨³å®šï¼šå¦‚æœæ’åºå‰aåœ¨bå‰é¢ï¼Œå¹¶ä¸”a=bï¼Œæ’åºåaä»ç„¶åœ¨bå‰é¢ ä¸ç¨³å®šï¼šå¦‚æœæ’åºå‰aåœ¨bå‰é¢ï¼Œå¹¶ä¸”a=bï¼Œæ’åºåaå¯èƒ½åœ¨båé¢ å†…æ’åºï¼šæ‰€æœ‰æ’åºæ“ä½œéƒ½åœ¨å†…å­˜ä¸­è¿›è¡Œ å¤–æ’åºï¼šç”±äºæ•°æ®å¤ªå¤§ï¼Œå› æ­¤æ•°æ®æ”¾åœ¨ç£ç›˜ä¸­ï¼Œæ’åºæ“ä½œé€šè¿‡ç£ç›˜å’Œå†…å­˜çš„ä¼ è¾“æ‰èƒ½è¿›è¡Œ æ—¶é—´å¤æ‚åº¦ï¼š ç®—æ³•æ‰§è¡Œæ‰€éœ€è¦çš„æ—¶é—´ ç©ºé—´å¤æ‚åº¦ï¼š ç®—æ³•æ‰§è¡Œæ‰€éœ€è¦çš„å†…å­˜å¤§å° å‡è®¾ä¸‹é¢çš„æ’åºéƒ½æ˜¯æŒ‰ä»å°åˆ°å¤§æ’åˆ— å†’æ³¡æ’åºå¯¹æ¯”ç›¸é‚»ä¸¤ä¸ªå…ƒç´ ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§å°±äº¤æ¢ã€‚æ˜¯æ’åºæœ€æ…¢çš„ç®—æ³•ä¹‹ä¸€ å®ç°å¦‚ä¸‹ï¼š 1234567891011121314151617181920function bubbleSort(data)&#123; for (var i=0; i&lt;data.length; i++)&#123; for(var j=i; j&lt;data.length; j++)&#123; if(data[i] &gt; data[j])&#123; let temp; temp = data[i]; data[i] = data[j]; data[j] = temp; &#125; &#125; &#125; return data&#125;var arr = [72 , 1 , 68 , 95 , 75 , 54 , 58 , 10 , 35 , 6 , 28 , 45 , 69 , 13 , 88 , 99 , 24 , 28 , 30 , 31 , 78 , 2 , 77 , 82 , 72]var bubbleSortArr = bubbleSort(arr)console.log(arr)console.log(bubbleSortArr)// [72, 1, 68, 95, 75, 54, 58, 10, 35, 6, 28, 45, 69, 13, 88, 99, 24, 28, 30, 31, 78]// [1, 6, 10, 13, 24, 28, 28, 30, 31, 35, 45, 54, 58, 68, 69, 72, 75, 78, 88, 95, 99] é€‰æ‹©æ’åºä»æ•°ç»„çš„å¼€å¤´å¼€å§‹éå†ï¼Œè®°å½•é‡Œé¢æœ€å°çš„æ•°ï¼Œéå†å®Œï¼ŒæŠŠæœ€å°çš„æ•°æ”¾åœ¨ç¬¬ä¸€ä½ï¼Œç„¶åï¼Œä»ç¬¬äºŒä½å¼€å§‹éå†ï¼Œè®°å½•é‡Œé¢æœ€å°çš„æ•°ï¼Œéå†å®Œï¼ŒæŠŠæœ€å°çš„æ•°æ”¾åœ¨ç¬¬äºŒä½ï¼Œã€‚ã€‚ã€‚ã€‚ä¾æ¬¡éå†ç›´åˆ°å€’æ•°ç¬¬äºŒä½éå†å®Œï¼Œå°±å®Œæˆäº†é€‰æ‹©æ’åº å®ç°å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223function selectionSort(data) &#123; for(var i=0; i&lt;data.length; i++) &#123; let min = data[i] let minIndex = i; for(var j=i; j&lt;data.length; j++) &#123; if(data[j] &lt; data[i]) &#123; min = data[j] minIndex = j &#125; &#125; let temp = data[i]; data[i] = min; data[minIndex] = temp; &#125;&#125;var arr = [72 , 1 , 68 , 95 , 75 , 54 , 58 , 10 , 35 , 6 , 28 , 45 , 69 , 13 , 88 , 99 , 24 , 28 , 30 , 31 , 78 , 2 , 77 , 82 , 72]console.log(arr)var selectionSort = selectionSort(arr)console.log(selectionSort)// [72, 1, 68, 95, 75, 54, 58, 10, 35, 6, 28, 45, 69, 13, 88, 99, 24, 28, 30, 31, 78]// [1, 6, 10, 13, 24, 28, 28, 30, 31, 35, 45, 54, 58, 68, 69, 72, 75, 78, 88, 95, 99] æ’å…¥æ’åºä»ç¬¬ä¸€ä½å¼€å§‹ï¼Œé»˜è®¤å®ƒä¸ºå·²æ’åºåºåˆ—ï¼Œå–ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å·²æ’åºåºåˆ—ä¸­ï¼Œä»åå‘å‰æ¯”å¯¹å·²æ’åºæ•°æ®ï¼Œå¦‚æœå·²æ’åºæ•°æ®å¤§äºå–å‡ºçš„å…ƒç´ ï¼Œå°†å·²æ’åºå…ƒç´ åç§»å¦‚æœå·²æ’åºæ•°æ®å°äºç­‰äºå–å‡ºçš„å…ƒç´ ï¼Œå°†å–å‡ºçš„å…ƒç´ æ’å…¥è¯¥ä½ç½®å†å–ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚ã€‚ã€‚ã€‚ã€‚","tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://shleyz.github.io/tags/ç®—æ³•/"}]},{"title":"å‡ ç§æ•°æ®ç»“æ„çš„ç‰¹æ€§","date":"2018-04-30T03:44:46.000Z","path":"2018/04/30/å‡ ç§æ•°æ®ç»“æ„çš„ç‰¹æ€§/","text":"åˆ—è¡¨ï¼šå­˜å‚¨çš„ç±»å‹æ²¡æœ‰é™åˆ¶ï¼Œé•¿åº¦ä¹Ÿä¸é™åˆ¶ï¼Œä½†æ˜¯å—å†…å­˜é™åˆ¶ï¼Œä¸»è¦å±æ€§æˆ–æ–¹æ³•æœ‰ï¼š currentPos, prev, next, insert, move, getElement, clear, front, end, hasPrev, hasNextç­‰ æ ˆï¼š åªæœ‰ä¸€ç«¯å¯ä»¥å­˜å–æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æ ˆé¡¶ï¼Œ åå…¥å…ˆå‡ºï¼Œ ä¸»è¦å±æ€§å’Œæ–¹æ³•ï¼š pop, push, top, peek, clear, lengthç­‰ é˜Ÿåˆ—ï¼š ä¸åŒäºåˆ—è¡¨ï¼Œåªèƒ½åœ¨é˜Ÿåˆ—å°¾éƒ¨æ·»åŠ å…ƒç´ ï¼Œåœ¨å¤´éƒ¨åˆ é™¤å…ƒç´ ï¼Œæ»¡è¶³å…ˆè¿›å…ˆå‡ºï¼Œåè¿›åå‡ºï¼Œä¸»è¦å±æ€§å’Œæ–¹æ³•ï¼š enquene, dequene, clear, empty, front, back, show å•å‘é“¾è¡¨ï¼š é“¾è¡¨èŠ‚ç‚¹å±æ€§dataè´Ÿè´£å­˜å‚¨æ•°æ®ï¼Œ å¦ä¸€ä¸ªå±æ€§nextåˆ™æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé“¾è¡¨ä¸»è¦å±æ€§å’Œæ–¹æ³•ï¼š insert, remove, findPrev, head, display, find åŒå‘é“¾è¡¨ï¼š data,nextä¸å•å‘é“¾è¡¨ä¸€æ ·ï¼Œå¤šå‡ºä¸€ä¸ªpreviousï¼ŒæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ insert, remove, findPrev, findLast, head, display, displayReverse, findç­‰ å¾ªç¯é“¾è¡¨ï¼š å•å‘é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘head å­—å…¸ï¼š dictionary ä¸€ç§ä»¥é”®å€¼å¯¹å½¢å¼å­˜å‚¨çš„æ•°æ®ç»“æ„ é›†åˆï¼š set é›†åˆçš„æˆå‘˜æ˜¯æ— åºçš„ï¼Œéƒ½ä¸ç›¸åŒçš„ æ ‘ï¼š äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œbstï¼Œå±‚æ¬¡ç»“æ„ï¼Œéå†äºŒå‰æ ‘ï¼š å‰åºï¼Œä¸­åºï¼Œåç»­éå†","tags":[]},{"title":"æ•°ç»„æ‹·è´","date":"2018-04-28T01:09:09.000Z","path":"2018/04/28/æ•°ç»„æ‹·è´/","text":"é¦–å…ˆè¦ç†è§£ä»€ä¹ˆæ˜¯æ ˆå†…å­˜å’Œå †å†…å­˜javascriptä¸­å˜é‡çš„å­˜æ”¾æœ‰åŸå§‹å€¼å’Œå¼•ç”¨å€¼ä¹‹åˆ† åŸå§‹å€¼ä»£è¡¨åŸå§‹æ•°æ®ç±»å‹ï¼Œå¦‚Undefinedï¼ŒNullï¼ŒNumberï¼Œ Stringï¼ŒBooleanç±»å‹çš„å€¼ å¼•ç”¨å€¼å¦‚Objectï¼ŒFunctionï¼ŒArray 1.æ ˆå†…å­˜å­˜æ”¾å­˜å‚¨å¯¹è±¡çš„åœ°å€ åŸå§‹ç±»å‹çš„å€¼ï¼Œå…¶åœ°å€å’Œå…·ä½“å†…å®¹éƒ½å­˜æ”¾åœ¨æ ˆå†…,æ ˆä¸­æ•°æ®çš„å¤§å°ä¸€èˆ¬æ˜¯å·²çŸ¥çš„æˆ–è€…æœ‰ä¸Šé™çš„ï¼Œè‡ªåŠ¨åˆ†é…å†…å­˜ç©ºé—´ï¼Œç”±ç³»ç»Ÿè‡ªåŠ¨é‡Šæ”¾å†…å­˜ 2.å †å†…å­˜å­˜æ”¾å­˜å‚¨å¯¹è±¡çš„å…·ä½“å†…å®¹ å¼•ç”¨ç±»å‹çš„å€¼(å¯¹è±¡å˜é‡çš„æŒ‡é’ˆ)ï¼Œå…¶åœ°å€å­˜æ”¾åœ¨æ ˆå†…ï¼Œä½†æ˜¯å…¶å…·ä½“å†…å®¹å­˜æ”¾åœ¨å †ä¸­,å †ä¸­æ•°æ®çš„å¤§å°ä¸€èˆ¬æ˜¯æœªçŸ¥çš„ï¼Œæ˜¯åŠ¨æ€åˆ†é…å†…å­˜çš„ï¼Œç³»ç»Ÿä¸ä¼šè‡ªåŠ¨é‡Šæ”¾å†…å­˜ è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆnullä½œä¸ºå¯¹è±¡å´å­˜æ”¾åœ¨æ ˆä¸­ã€‚ null === null â€“&gt; true å­˜å‚¨åœ¨æ ˆNaN === NaN â€“&gt; false å­˜å‚¨åœ¨å † 3.æ ˆå†…å­˜å’Œå †å†…å­˜çš„åŒºåˆ« æ ˆå†…å­˜ç›¸å¯¹ä¸å †å†…å­˜è¿è¡Œæ•ˆç‡æ¯”è¾ƒé«˜ï¼Œç©ºé—´ç›¸å¯¹äºå †å†…å­˜æ¥è¯´è¾ƒå° è¯´æ˜ä¸€ä¸‹constä¸€èˆ¬å®šä¹‰çš„ç±»å‹å€¼æ˜¯ä¸èƒ½æ”¹çš„ï¼Œä½†æ˜¯å®šä¹‰çš„å¯¹è±¡å¯ä»¥é€šè¿‡ä¿®æ”¹å¯¹è±¡çš„å±æ€§æ¥æ”¹å˜çš„ï¼ˆä½†æ˜¯æ ˆä¸­å­˜åœ¨çš„æŒ‡é’ˆæ˜¯ä¸èƒ½å˜å¾—ï¼‰ã€‚ ä»€ä¹ˆæ˜¯æ·±æ‹·è´å’Œæµ…æ‹·è´æµ…æ‹·è´ æ‹·è´å¼•ç”¨ä¹Ÿå°±æ˜¯æ ˆå†…å­˜æ”¾çš„æŒ‡é’ˆï¼Œæ‹·è´å¯¹è±¡çš„å’Œè¢«æ‹·è´å¯¹è±¡éƒ½æŒ‡å‘ä¸€ä¸ªå¼•ç”¨ï¼Œå¹¶ä¸”ä¿®æ”¹æ•°æ®ä¼šå½±å“å¦ä¸€ä¸ªæ•°æ® æ·±æ‹·è´ å¤åˆ¶å˜é‡çš„å€¼ï¼Œå¯¹äºéåŸºæœ¬ç±»å‹çš„å€¼ï¼Œåˆ™é€’å½’è‡³åŸºæœ¬å˜é‡åï¼Œå†å¤åˆ¶ã€‚å¯ä»¥ä½¿ç”¨slice()å’Œconcat() 1.æµ…æ‹·è´çš„å®ç°1234var arr = ['a', 'b', 'c'];var arr1 = arrarr1[0] = 'd'arr // ['d', 'b', 'c'] arr2çš„ä¿®æ”¹ä¼šå½±å“è¢«æ‹·è´çš„å€¼ 2.æ·±æ‹·è´çš„å®ç°sliceå’Œconcatå’Œè‡ªå®šä¹‰å‡½æ•°å®ç°2.1 slice12345var arr = ['a', 'b', 'c']var arr2 = arr.slice(0)arr2[0] = 'd'arr2 // ['d', 'b', 'c']arr // ['a', 'b', 'c'] arr2çš„ä¿®æ”¹ä¸ä¼šå½±å“è¢«æ‹·è´çš„å€¼ 2.2 concat12345var arr = ['a', 'b', 'c']var arr2 = [].concat(arr)arr2[0] = 'd'arr2 // ['d', 'b', 'c']arr // ['a', 'b', 'c'] arr2çš„ä¿®æ”¹ä¸ä¼šå½±å“è¢«æ‹·è´çš„å€¼ 2.3 es6æ‰©å±•è¿ç®—ç¬¦â€¦å®ç°æ·±æ‹·è´æ³¨æ„åªèƒ½æ·±æ‹·è´ä¸€ç»´æ•°ç»„ï¼Œå½“æœ‰å¤šç»´æ•°ç»„æ—¶ï¼ŒäºŒç»´ä»¥åŠä»¥åçš„ç»´åº¦çš„ä»ç„¶æ˜¯å¼•ç”¨ï¼Œå› æ­¤ä¿®æ”¹ä¹‹åä»ç„¶ä¼šå½±å“åŸæ¥çš„æ•°ç»„ï¼Œè€Œä¸èƒ½åšåˆ°æ·±æ‹·è´ var arr = ['a', 'b', 'c'] var arr2 = [...arr] arr2[0] = 'd' arr2 // ['d', 'b', 'c'] arr // ['a', 'b', 'c'] arr2çš„ä¿®æ”¹ä¸ä¼šå½±å“è¢«æ‹·è´çš„å€¼ 2.4 è‡ªå®šä¹‰function DeepClone(obj) { if(obj === null){ return null } if(obj.constructor !== 'object'){ return obj } if(obj.constructor === Date){ return new Date(obj) } if(obj.constructor === RegExp) { return new RegExp(obj) } var newObj = new obj.constructor() //ä¿æŒç»§æ‰¿çš„åŸå‹ for (var key in obj) { if(obj.hasOwnProperty(key)) { var val = obj[key]; newObj[key] = typeof val === 'object' ? DeepClone(val) : val } } return newObj } let a = DeepClone({'a': 1, 'b': 2, 'c': {'c1': 3}}) a // {a: 1, b: 2, c: {c1: 3}}","tags":[{"name":"æ•°ç»„æ‹·è´","slug":"æ•°ç»„æ‹·è´","permalink":"https://shleyz.github.io/tags/æ•°ç»„æ‹·è´/"}]},{"title":"jsæ•°æ®ç»“æ„-æ ‘ï¼ŒäºŒå‰æ ‘","date":"2018-04-25T05:10:24.000Z","path":"2018/04/25/jsæ•°æ®ç»“æ„-äºŒå‰æ ‘/","text":"ä¸åŒäºåˆ—è¡¨ï¼Œé˜Ÿåˆ—ï¼Œæ ˆç­‰çº¿æ€§æ•°æ®ç»“æ„ï¼Œæ ‘æ˜¯ä¸€ç§éçº¿æ€§ç»“æ„çš„æ ‘ã€‚æ ‘çš„ç‰¹å¾å°±æ˜¯ï¼š å…ƒç´ ä¹‹é—´æœ‰æ˜æ˜¾çš„å±‚æ¬¡ç‰¹æ€§ï¼Œå¸¸ç”¨æ¥å­˜å‚¨å…·æœ‰å±‚çº§å…³ç³»çš„æ•°æ®ï¼Œæ¯”å¦‚æ–‡ä»¶ç³»ç»Ÿçš„æ–‡ä»¶ çˆ¶èŠ‚ç‚¹æ ‘ç»“æ„ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå‰ä»¶æ ¹èŠ‚ç‚¹æ²¡æœ‰å‰ä»¶çš„èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå°±æ˜¯å­èŠ‚ç‚¹æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªåä»¶å¶å­èŠ‚ç‚¹æ²¡æœ‰åä»¶çš„èŠ‚ç‚¹åº¦ä¸€ä¸ªèŠ‚ç‚¹æ‰€æ‹¥æœ‰çš„å­èŠ‚ç‚¹çš„ä¸ªæ•°æ ‘çš„åº¦æ‰€æœ‰èŠ‚ç‚¹æœ€å¤§çš„åº¦æ ‘çš„æ·±åº¦æ ‘çš„æœ€å¤§å±‚æ¬¡ äºŒå‰æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ ‘ï¼Œä»–çš„å­èŠ‚ç‚¹ä¸ªæ•°ä¸è¶…è¿‡ä¸¤ä¸ªï¼Œåˆ†åˆ«è¢«æˆä¸ºå·¦å­æ ‘å’Œå³å­æ ‘äºŒå‰æ ‘ä¹Ÿè¢«ç§°ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘ï¼ŒäºŒå‰å †ï¼ŒäºŒå‰æ’åºæ ‘ æ ‘çš„éå†ï¼š æŒ‰ä¸€å®šçš„è§„åˆ™å’Œé¡ºåºèµ°éäºŒå‰æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œä½¿æ¯ä¸ªèŠ‚ç‚¹éƒ½è¢«è®¿é—®åˆ°ï¼Œå¹¶ä¸”åªè¢«è®¿é—®ä¸€æ¬¡ã€‚ äºŒå‰æ ‘æ˜¯éçº¿æ€§ç»“æ„ï¼Œæ‰€ä»¥è¦å…ˆæŠŠäºŒå‰æ ‘æŠ“æ¢æˆçº¿æ€§åºåˆ— æŒ‰æ ¹èŠ‚ç‚¹çš„è®¿é—®é¡ºåºï¼Œæ ‘çš„éå†åˆ†ä¸ºä¸‰ç§ï¼š å‰åºéå†ï¼š æ ¹èŠ‚ç‚¹ â€“&gt; å·¦å­æ ‘ â€“&gt; å³å­æ ‘ ä¸­åºéå†ï¼š å·¦å­æ ‘ â€“&gt; æ ¹èŠ‚ç‚¹ â€“&gt; å³å­æ ‘ åç»­éå†ï¼š å·¦å­æ ‘ â€“&gt; å³å­æ ‘ â€“&gt; æ ¹èŠ‚ç‚¹ å¦‚ä¸Šå›¾éå†ç»“æœï¼š å‰åºéå†ï¼šABGEFDCä¸­åºéå†ï¼šDEBGFACåç»­éå†ï¼šEDGFBCA äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBSTï¼‰çš„å±æ€§æˆ–è€…æ–¹æ³•ï¼š ç±»å‹ æè¿° insert æ’å…¥èŠ‚ç‚¹ preOrder å…ˆåºéå† inOrder ä¸­åºéå† postOrder ååºéå† find æŸ¥æ‰¾èŠ‚ç‚¹ getMin æŸ¥æ‰¾æœ€å°å€¼ getMax æŸ¥æ‰¾æœ€å¤§å€¼ remove åˆ é™¤èŠ‚ç‚¹ äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBSTï¼‰çš„å®ç°äºŒå‰æ ‘å®é™…ç”±å¤šä¸ªèŠ‚ç‚¹ç»„æˆï¼Œå› æ­¤å®šä¹‰Nodeç±»ï¼Œç”¨äºå­˜æ”¾æ ‘çš„èŠ‚ç‚¹ã€‚Nodeç±»æ—¢ä¿å­˜äº†æ•°æ®åˆä¿å­˜äº†å…¶å·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹çš„é“¾æ¥ï¼Œshowæ–¹æ³•ç”¨æ¥æ˜¾ç¤ºä¿å­˜åœ¨èŠ‚ç‚¹ä¸­çš„æ•°æ®ã€‚ 1234567891011121314151617181920212223// èŠ‚ç‚¹å®šä¹‰function Node(data, left, right) &#123; this.data = data; this.left = left; this.right = right; this.show = show&#125;function show() &#123; return this.data;&#125;// äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆBSTï¼‰çš„ç±»function BST()&#123; this.root = null; this.insert = insert; // æ’å…¥èŠ‚ç‚¹ this.preOrder = preOrder; // å…ˆåºéå† this.inOrder = inOrder; // ä¸­åºéå† this.postOrder = postOrder; // ååºéå† this.find = find; // æŸ¥æ‰¾èŠ‚ç‚¹ this.getMin = getMin; //æŸ¥æ‰¾æœ€å°å€¼ this.getMax = getMax; //æŸ¥æ‰¾æœ€å¤§å€¼ this.remove = remove; //è§£é™¤èŠ‚ç‚¹&#125; å‘äºŒå‰æ ‘æ’å…¥æ•°æ®ï¼Œæ¶‰åŠåˆ°æ’å…¥çš„ä½ç½®é—®é¢˜ é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„NodeèŠ‚ç‚¹ï¼Œ å…¶æ¬¡æ£€æŸ¥å½“å‰BSTæ˜¯å¦æœ‰æ ¹èŠ‚ç‚¹ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™æ˜¯ä¸€ä¸ªæ–°æ ‘ï¼Œæ·»åŠ çš„èŠ‚ç‚¹å°±æ˜¯æ ¹èŠ‚ç‚¹ã€‚ å¦‚æœæœ‰æ ¹èŠ‚ç‚¹ï¼Œåˆ™è¦éå†BSTï¼Œæ‰¾åˆ°åˆé€‚çš„ä½ç½®æ’å…¥ï¼š è®¾ç½®å½“å‰èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹ å¦‚æœå¾…æ’å…¥çš„dataå°äºå½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œåˆ™æ–°èŠ‚ç‚¹ä¸ºå½“å‰èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ï¼Œåä¹‹è¿›è¡Œ 4 æ“ä½œ å¦‚æœå½“å‰èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ä¸ºnull,åˆ™æ–°èŠ‚ç‚¹å°±æ”¾åœ¨è¿™é‡Œï¼Œé€€å‡ºå¾ªç¯ï¼Œå¦åˆ™è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯ æ–°èŠ‚ç‚¹ä¸ºå½“å‰èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ å¦‚æœå½“å‰èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ä¸ºnull,åˆ™æ–°èŠ‚ç‚¹å°±æ”¾åœ¨è¿™é‡Œï¼Œé€€å‡ºå¾ªç¯ï¼Œå¦åˆ™è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯ å…·ä½“å®ç°ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131function insert(data) &#123; var insertN = new Node(data, null, null) if(this.root == null)&#123; this.root = insertN &#125; else &#123; var current = this.root; while(true) &#123; if(data &lt; current.data) &#123; // æ”¾åœ¨å·¦èŠ‚ç‚¹ if(current.left == null) &#123; current.left = insertN break; &#125; else &#123; current = current.left &#125; &#125; else &#123; // æ”¾åœ¨å³èŠ‚ç‚¹ if(current.right == null) &#123; current.right = insertN break; &#125; else &#123; current = current.right &#125; &#125; &#125; &#125;&#125;// ä¸­åºéå†function inOrder(node) &#123; if(!(node == null))&#123; inOrder(node.left) console.log(node.data) inOrder(node.right) &#125;&#125;// å…ˆåºéå†function preOrder(node)&#123; if(!(node == null)) &#123; console.log(node.data) preOrder(node.left) preOrder(node.right) &#125;&#125;// ååºéå†function postOrder(node)&#123; if(!(node == null)) &#123; postOrder(node.left) postOrder(node.right) console.log(node.data) &#125;&#125;//æŸ¥æ‰¾æœ€å°å€¼, æœ€å°å€¼åº”è¯¥åœ¨å·¦å­æ ‘ï¼Œéå†å·¦å­æ ‘ç›´åˆ°ä»–çš„å·¦å­æ ‘ä¸ºnullæ—¶function getMin() &#123; var current = this.root; while(!(current.left == null))&#123; current = current.left &#125; return current.show()&#125;//æŸ¥æ‰¾æœ€å¤§å€¼, æœ€å¤§å€¼åº”è¯¥åœ¨å³å­æ ‘ï¼Œéå†å³å­æ ‘ç›´åˆ°ä»–çš„å³å­æ ‘ä¸ºnullæ—¶function getMax() &#123; var current = this.root; while(!(current.right == null))&#123; current = current.right &#125; return current.show()&#125;// æŸ¥æ‰¾èŠ‚ç‚¹function find(data) &#123; var current = this.root; while(!(current == null)) &#123; if(current.data === data) &#123; return current &#125; else if(current.data &gt; data) &#123; current = current.left &#125; else &#123; current = current.right &#125; &#125; return null&#125;// ç§»é™¤èŠ‚ç‚¹function remove(data) &#123; removeNode(this.root, data)&#125;// æŸ¥æ‰¾æœ€å°å€¼function getSmallest(node) &#123; if(node.left == null) &#123; return node &#125; else &#123; return getSmallest(node.left) &#125;&#125;function removeNode(node, data)&#123; if (node == null) &#123; return null &#125; if(data == node.data) &#123; // æ²¡æœ‰å­èŠ‚ç‚¹ if(node.left == null &amp;&amp; node.right == null) &#123; return null &#125; // åªæœ‰å³èŠ‚ç‚¹ if(node.left == null)&#123; return node.right &#125; // åªæœ‰å·¦èŠ‚ç‚¹ if(node.right == null)&#123; return node.left &#125; // æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ var tempNode = getSmallest(node.right) node.data = tempNode.data; node.right = removeNode(node.right, tempNode.data) return node &#125; else if(data &lt; node.data) &#123; removeNode(node.left, data) &#125; else &#123; removeNode(node.right, data) &#125;&#125; æµ‹è¯•ï¼š 123456789101112131415161718192021222324var bst = new BST()bst.insert(9)bst.insert(4)bst.insert(14)bst.insert(12)bst.insert(11)bst.insert(13)bst.insert(15)bst.insert(16)console.log(bst)inOrder(bst.root) // 4, 9, 11, 12, 13, 14, 15, 16 console.log('------') preOrder(bst.root) // 9, 4, 14, 12, 11, 13, 15, 16 console.log('------')postOrder(bst.root)console.log('------') // 4, 11, 13, 12, 16, 15, 14, 9console.log(bst.getMin()) // 4console.log(bst.getMax()) // 16console.log(bst.find(12)) // Node &#123;data: 12, left: Node, right: Node, show: Æ’&#125;bst.remove(12)console.log(bst) // BST &#123;root: Node, insert: Æ’, preOrder: Æ’, inOrder: Æ’, postOrder: Æ’, â€¦&#125;","tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://shleyz.github.io/tags/æ•°æ®ç»“æ„/"}]},{"title":"jsæ•°æ®ç»“æ„-é›†åˆ","date":"2018-04-24T03:10:53.000Z","path":"2018/04/24/jsæ•°æ®ç»“æ„-é›†åˆ/","text":"é›†åˆæ˜¯ä¸€ç»„æ— åºä½†å½¼æ­¤ä¹‹é—´åˆæœ‰ä¸€å®šå…³ç³»çš„æˆå‘˜æ„æˆï¼Œæ¯ä¸ªæˆå‘˜åœ¨é›†åˆä¸­åªå‡ºç°ä¸€æ¬¡ã€‚é›†åˆçš„ç‰¹å¾å°±æ˜¯ï¼š 1. æ— åºï¼Œ 2. ä¸é‡å¤ ä¸åŒ…å«ä»»ä½•æˆå‘˜çš„é›†åˆæ˜¯ç©ºé›†åŒ…å«ä¸€åˆ‡å¯èƒ½æˆå‘˜çš„é›†åˆæ˜¯å…¨é›†ä¸¤ä¸ªé›†åˆé‡Œé¢æˆå‘˜å®Œå…¨ç›¸åŒï¼Œåˆ™ä¸¤ä¸ªé›†åˆç›¸ç­‰å¦‚æœä¸€ä¸ªé›†åˆAçš„æˆå‘˜å…¨éƒ¨åŒ…å«åœ¨å¦ä¸€ä¸ªæˆå‘˜B,åˆ™Aæ˜¯Bçš„å­é›† é›†åˆçš„æ“ä½œå¹¶é›†ï¼šä¸¤ä¸ªé›†åˆä¸­çš„æˆå‘˜åˆå¹¶ï¼Œç”Ÿæˆçš„ä¸€ä¸ªæ–°çš„é›†åˆäº¤é›†ï¼šä¸¤ä¸ªé›†åˆä¸­çš„å…±åŒå­˜åœ¨çš„æˆå‘˜ï¼Œç”Ÿæˆçš„æ–°çš„é›†åˆè¡¥é›†ï¼šå±äºä¸€ä¸ªé›†åˆä½†ä¸å±äºå¦ä¸€ä¸ªé›†åˆï¼Œç”Ÿæˆçš„æ–°çš„é›†åˆ é›†åˆå¸¸è§çš„å±æ€§æˆ–è€…æ–¹æ³•ï¼š ç±»å‹ æè¿° add æ·»åŠ æˆå‘˜ remove åˆ é™¤æˆå‘˜ size é›†åˆæˆå‘˜ä¸ªæ•° union æ±‚å¹¶é›† intersect æ±‚äº¤é›† subset åˆ¤æ–­ä¸€ä¸ªé›†åˆæ˜¯å¦æ˜¯å¦ä¸€ä¸ªé›†åˆçš„å­é›† difference æ±‚è¡¥é›† contains åˆ¤æ–­æˆå‘˜æ˜¯å¦å±äºé›†åˆ show æ˜¾ç¤ºé›†åˆ é›†åˆçš„å®ç°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113var mySet = function() &#123; this.dataStore = []; //åˆå§‹åŒ–ä¸ºç©º&#125;mySet.prototype = (function () &#123; return &#123; add: add, remove: remove, size: size, union: union, intersect: intersect, subset: subset, difference: difference, contains: contains, show: show, &#125; // æ·»åŠ æˆå‘˜, è¿”å›boolean function add(data) &#123; let index = this.dataStore.indexOf(data) if(index === -1) &#123; // å¦‚æœå…ƒç´ ä¸å­˜åœ¨ this.dataStore.push(data); return true &#125; else &#123; // å¦‚æœå…ƒç´ å­˜åœ¨ console.log('can not add ' + data + ', must already be existed') return false &#125; &#125; // åˆ é™¤ä¸€ä¸ªæˆå‘˜ function remove(data)&#123; let index = this.dataStore.indexOf(data) if(index === -1) &#123; // å¦‚æœå…ƒç´ ä¸å­˜åœ¨ console.log(data + ', is not in set') return false &#125; else &#123; // å¦‚æœå…ƒç´ å­˜åœ¨ this.dataStore.splice(index, 1) return true &#125; &#125; // é›†åˆæˆå‘˜ä¸ªæ•° function size(key) &#123; return this.dataStore.length; &#125; // åˆ¤æ–­æˆå‘˜æ˜¯ä¸æ˜¯åœ¨é›†åˆå†… function contains(data) &#123; let index = this.dataStore.indexOf(data) return index !== -1 &#125; // ä¸¤ä¸ªé›†åˆçš„å¹¶é›† function union(set)&#123; var tempSet = new mySet(); for (var i=0; i&lt;this.dataStore.length; i++) &#123; tempSet.add(this.dataStore[i]) &#125; for (var i=0; i&lt;set.dataStore.length; i++) &#123; if(!tempSet.contains(set.dataStore[i])) &#123; tempSet.add(set.dataStore[i]) &#125; &#125; return tempSet &#125; // é›†åˆçš„äº¤é›† function intersect(set)&#123; var tempSet = new mySet(); for (var i=0; i&lt;this.dataStore.length; i++) &#123; if(set.contains(this.dataStore[i])) &#123; tempSet.add(this.dataStore[i]) &#125; &#125; return tempSet &#125; // åˆ¤æ–­ä¸€ä¸ªé›†åˆæ˜¯å¦æ˜¯å¦ä¸€ä¸ªé›†åˆsetçš„å­é›† function subset(set) &#123; if(this.size() &gt; set.size()) &#123; return false &#125; else &#123; for (var i=0; i&lt;this.dataStore.length; i++) &#123; if(!set.contains(this.dataStore[i])) &#123; return false &#125; &#125; &#125; return true &#125; // é›†åˆçš„è¡¥é›† function difference(set) &#123; var tempSet = new mySet(); for (var i=0; i&lt;this.dataStore.length; i++) &#123; if(!set.contains(this.dataStore[i])) &#123; tempSet.add(this.dataStore[i]) &#125; &#125; return tempSet &#125; // æ˜¾ç¤ºé›†åˆ function show() &#123; console.log(this.dataStore) return this.dataStore &#125;&#125;()) æ“ä½œï¼š 12345678910111213141516171819202122var myset = new mySet()myset.show() // []myset.add('cat') // [\"cat\"]myset.add('dog') // [\"cat\", \"dog\"]myset.add('cat') // can not add cat, must already be existedmyset.add('fish') // [\"cat\", \"dog\", \"fish\"]myset.add('bird') // [\"cat\", \"dog\", \"fish\", \"bird\"]myset.remove('cat') // [\"dog\", \"fish\", \"bird\"]var otherset = new mySet()otherset.add('cat')otherset.add('dog')otherset.add('fish') // [\"cat\", \"dog\", \"fish\"]console.log(myset.subset(otherset)) // falseotherset.add('bird') // [\"cat\", \"dog\", \"fish\", \"bird\"]console.log(myset.subset(otherset)) // trueconsole.log(myset.union(otherset)) // [\"dog\", \"fish\", \"bird\", \"cat\"]console.log(myset.intersect(otherset)) // [\"dog\", \"fish\", \"bird\"]console.log(myset.difference(otherset)) // []","tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://shleyz.github.io/tags/æ•°æ®ç»“æ„/"}]},{"title":"jsæ•°æ®ç»“æ„-å­—å…¸","date":"2018-04-24T02:19:00.000Z","path":"2018/04/24/jsæ•°æ®ç»“æ„-å­—å…¸/","text":"å­—å…¸æ˜¯ä¸€ç§é”®å€¼å¯¹å½¢å¼å­˜å‚¨çš„æ•°æ®ç»“æ„ã€‚javascriptä¸­çš„Objectå°±æ˜¯ç”±å­—å…¸å½¢å¼è®¾è®¡çš„ å­—å…¸å¸¸è§çš„å±æ€§æˆ–è€…æ–¹æ³•ï¼š ç±»å‹ æè¿° add æ·»åŠ å…ƒç´  find æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´  remove åˆ é™¤ä¸€ä¸ªå…ƒç´  showAll æ˜¾ç¤ºå­—å…¸å…ƒç´  count å­—å…¸å…ƒç´ ä¸ªæ•° clear æ¸…ç©ºå­—å…¸å…ƒç´  å­—å…¸çš„å®ç°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091 var Dictionary = function() &#123; this.dataStore = []; //åˆå§‹åŒ–ä¸ºç©º &#125; Dictionary.prototype = (function () &#123; return &#123; add: add, find: find, remove: remove, showAll: showAll, count: count, clear: clear, &#125; // æ·»åŠ å…ƒç´  function add(key, value) &#123; this.dataStore[key] = value &#125; // æŸ¥æ‰¾å­—å…¸ä¸­çš„å…ƒç´  function find(key) &#123; return this.dataStore[key] &#125; // åˆ é™¤ä¸€ä¸ªå…ƒç´  function remove(key)&#123; if(this.dataStore[key]) &#123; delete this.dataStore[key] &#125; else &#123; return 'Not Found' &#125; &#125; // æ˜¾ç¤ºæ‰€æœ‰å­—å…¸å…ƒç´  function showAll()&#123; for(var key in this.dataStore)&#123; console.log(key + '--&gt;' + this.dataStore[key]) &#125; &#125; // å­—å…¸å…ƒç´ ä¸ªæ•° function count()&#123; var count = 0; for(var key in this.dataStore)&#123; count += 1; &#125; return count &#125; // æ¸…ç©ºå­—å…¸å…ƒç´  function clear() &#123; for(var key in this.dataStore)&#123; delete this.dataStore[key] &#125; &#125; &#125;())``` æ“ä½œï¼š``` js var dict = new Dictionary(); dict.add('name', 'cat') dict.add('name1', 'dog') dict.add('name2', 'bird') dict.add('name3', 'fish') console.log(dict.showAll()) // name--&gt;cat // name1--&gt;dog // name2--&gt;bird // name3--&gt;fish console.log(dict.find('name')) // cat dict.remove('name3') console.log(dict.showAll()) // name--&gt;cat // name1--&gt;dog // name2--&gt;bird console.log(dict.count()) // 3 dict.clear() console.log(dict.count()) // 0","tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://shleyz.github.io/tags/æ•°æ®ç»“æ„/"}]},{"title":"jsæ•°æ®ç»“æ„-é“¾è¡¨","date":"2018-04-23T07:54:06.000Z","path":"2018/04/23/jsæ•°æ®ç»“æ„-é“¾è¡¨/","text":"é“¾è¡¨ Linked-listé“¾è¡¨çš„ç§ç±»æœ‰å•å‘é“¾è¡¨ï¼ŒåŒå‘é“¾è¡¨ï¼Œå•å‘å¾ªç¯é“¾è¡¨å’ŒåŒå‘å¾ªç¯é“¾è¡¨ é“¾è¡¨æ˜¯ä¸€ç»„èŠ‚ç‚¹çš„é›†åˆï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼ˆé“¾ï¼‰æ¥æŒ‡å‘åä¸€ä¸ªèŠ‚ç‚¹ã€‚ data | next --&gt; data2 | next --&gt; Null å…¶ä¸­dataä¿å­˜æ•°æ®ï¼Œnextä¿å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰ï¼Œä¸Šé¢æœ€åä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå°±æ˜¯é“¾è¡¨çš„ä¸ºå…ƒç´ æŒ‡å‘null,è¡¨ç¤ºé“¾æ¥ç»“æŸã€‚ æœ‰å¤´èŠ‚ç‚¹çš„é“¾è¡¨: ç”±äºé“¾è¡¨çš„èµ·å§‹ç‚¹æ¯”è¾ƒéš¾ä»¥ç¡®å®šï¼Œæ‰€ä»¥å¾ˆå¤šé“¾è¡¨çš„å®ç°éƒ½æ˜¯åœ¨é“¾è¡¨çš„æœ€å‰é¢åŠ ä¸€ä¸ªç‰¹æ®Šçš„èŠ‚ç‚¹ï¼Œç§°ä¸ºå¤´èŠ‚ç‚¹ï¼Œæ¥è¡¨ç¤ºé“¾è¡¨çš„å¤´éƒ¨ï¼Œé“¾è¡¨å°±å˜æˆäº†è¿™æ ·ï¼š Header | next --&gt; data1 | next --&gt; data2 | next --&gt; Null å‘é“¾è¡¨ä¸­æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹ï¼š åªéœ€æ”¹å˜å‰ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡å‘ï¼ˆæŒ‡å‘åˆ°æ–°èŠ‚ç‚¹ï¼‰ï¼Œæ–°èŠ‚ç‚¹çš„æŒ‡å‘åŸæ¥å‰ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡å‘ï¼Œå¦‚ä¸‹æ–°èŠ‚ç‚¹data3 Header | next â€“&gt; data1 | next â€“&gt; data3 | next â€“&gt; data2 | next â€“&gt; Null å‘åˆ—è¡¨åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹(åˆ é™¤data1èŠ‚ç‚¹)ï¼š åªéœ€å°†å¸¦åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘æ”¹ä¸ºå¾…åˆ èŠ‚ç‚¹çš„æŒ‡å‘ï¼Œç„¶åæŠŠå¾…åˆ èŠ‚ç‚¹æŒ‡å‘null Header | next â€“&gt; data3 | next â€“&gt; data2 | next â€“&gt; Null data1 | next â€“&gt; null é“¾è¡¨çš„å®ç°è®¾è®¡çš„é“¾è¡¨åº”è¯¥åŒ…å«ä¸¤ä¸ªç±»ï¼Œä¸€ä¸ªæ˜¯Nodeç±»ç”¨æ¥è¡¨ç¤ºèŠ‚ç‚¹ï¼Œä¸€ä¸ªæ˜¯LinkedListç”¨æ¥è¡¨ç¤ºå¯¹èŠ‚ç‚¹çš„æ“ä½œï¼ˆæ·»åŠ /åˆ é™¤ç­‰ï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657function Node(ele) &#123; this.element = ele; this.next = null&#125;function LList() &#123; this.head = new Node('head); this.find = find; this.insert = insert; this.remove = remove; this.findPrev = findPrev; this.display = display;&#125;// æŸ¥æ‰¾æŸä¸ªèŠ‚ç‚¹function find(item)&#123; var currNode = this.head; while(currNode.element !== item) &#123; currNode = currNode.next &#125; return currNode;&#125;// åœ¨itemèŠ‚ç‚¹æ’å…¥newEleèŠ‚ç‚¹function insert(newEle, item) &#123; var currNode = this.find(item); var newNode = new Node(newEle); newNode.next = currNode.next; currNode.next = newNode;&#125;// æŸ¥æ‰¾å‰ä¸€ä¸ªèŠ‚ç‚¹function findPrev(item) &#123; var currNode = this.head; while( !(currNode.next == null) &amp;&amp; currNode.next.element !== item) &#123; currNode = currNode.next &#125; return currNode&#125;// ç§»é™¤ä¸€ä¸ªèŠ‚ç‚¹function remove(item) &#123; var currNode = this.find(item); var PrevNode = this.findPrev(item); PrevNode.next = currNode.next; currNode.next = null&#125;// æ˜¾ç¤ºæ‰€æœ‰é“¾è¡¨å…ƒç´ function display() &#123; var currNode = this.head; while( !(currNode.next == null) )&#123; console.log(currNode.element); currNode = currNode.next &#125;&#125; æµ‹è¯•ï¼š 123456789101112131415161718192021222324252627var linkedList = new LList()console.log(linkedList) // LList &#123;head: Node, find: Æ’, insert: Æ’, remove: Æ’, findPrev: Æ’, â€¦&#125; // display: Æ’ display() // find: Æ’ find(item) // findPrev: Æ’ findPrev(item) // head: Node // element: \"head\" // next: Node &#123;element: \"node1\", next: Node&#125; // __proto__: Object // insert: Æ’ insert(newEle, item) // remove: Æ’ remove(item) // __proto__: ObjectlinkedList.insert('node1', 'head')linkedList.insert('node2', 'node1')linkedList.insert('node3', 'node2')console.log(linkedList.display())// // head// node1// node2linkedList.remove('node2')console.log(linkedList)// // head// node1 åŒå‘é“¾è¡¨çš„å®ç°Null &lt;â€“ previous | Header | next previous | data1 | next previous | data2 | next â€“&gt; Null è¦å®ç°åŒå‘é“¾è¡¨ï¼Œéœ€è¦ç»™nodeç±»æ·»åŠ ä¸€ä¸ªpreviouså±æ€§ï¼Œ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879function Node(ele) &#123; this.element = ele; this.next = null; this.previous = null;&#125;function LList() &#123; this.head = new Node('head'); this.find = find; this.findLast = findLast; this.insert = insert; this.remove = remove; this.findPrev = findPrev; this.display = display; this.dispReverse = dispReverse; // åå‘æ˜¾ç¤ºé“¾è¡¨&#125;// æŸ¥æ‰¾æŸä¸ªèŠ‚ç‚¹function find(item)&#123; var currNode = this.head; while(currNode.element !== item) &#123; currNode = currNode.next &#125; return currNode;&#125;// åœ¨itemèŠ‚ç‚¹æ’å…¥newEleèŠ‚ç‚¹function insert(newEle, item) &#123; var currNode = this.find(item); var newNode = new Node(newEle); newNode.next = currNode.next; newNode.previous = currNode; currNode.next = newNode;&#125;// æŸ¥æ‰¾å‰ä¸€ä¸ªèŠ‚ç‚¹function findPrev(item) &#123; var currNode = this.head; while( !(currNode.next == null) &amp;&amp; currNode.next.element !== item) &#123; currNode = currNode.next &#125; return currNode&#125;// æŸ¥æ‰¾æœ€åä¸€ä¸ªå…ƒç´ function findLast() &#123; var currNode = this.head; while(!(currNode.next == null)) &#123; currNode = currNode.next &#125; return currNode&#125;// ç§»é™¤ä¸€ä¸ªèŠ‚ç‚¹function remove(item) &#123; var currNode = this.find(item); var PrevNode = this.findPrev(item); PrevNode.next = currNode.next; currNode.next = null&#125;// æ˜¾ç¤ºæ‰€æœ‰é“¾è¡¨å…ƒç´ function display() &#123; var currNode = this.head; while( !(currNode.next == null) )&#123; console.log(currNode.element); currNode = currNode.next &#125;&#125;// åå‘æ˜¾ç¤ºæ‰€æœ‰é“¾è¡¨å…ƒç´ function dispReverse() &#123; var lastNode = this.findLast(); while( !(lastNode.previous.element == 'head') )&#123; console.log(lastNode.element); lastNode = lastNode.previous &#125;&#125; æµ‹è¯•ï¼š 12345678910111213141516171819var lists = new LList();lists.insert('node' , 'head');lists.insert('node1' , 'node');lists.insert('node2' , 'node1');lists.insert('node3' , 'node2');console.log( lists.display() ); // node// node1// node2// undefinedconsole.log( lists.dispReverse() );// node2// node1// node// undefined å¾ªç¯é“¾è¡¨çš„å®ç°Header | next â€“&gt; data1 | next â€“&gt; data2 | next â€“&gt; Header å¾ªç¯é“¾è¡¨å’Œå•é“¾è¡¨ç›¸ä¼¼ï¼ŒèŠ‚ç‚¹ç±»å‹éƒ½æ˜¯ä¸€æ ·ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œåœ¨åˆ›å»ºå¾ªç¯é“¾è¡¨çš„æ—¶å€™ï¼Œè®©å…¶å¤´èŠ‚ç‚¹çš„ next å±æ€§æ‰§è¡Œå®ƒæœ¬èº«ï¼Œå³ head.next = head;","tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://shleyz.github.io/tags/æ•°æ®ç»“æ„/"}]},{"title":"jsæ•°æ®ç»“æ„-é˜Ÿåˆ—","date":"2018-04-22T06:29:22.000Z","path":"2018/04/22/jsæ•°æ®ç»“æ„-é˜Ÿåˆ—/","text":"é˜Ÿåˆ—ä¹Ÿæ˜¯ä¸€ç§åˆ—è¡¨ï¼Œä¸åŒäºåˆ—è¡¨çš„æ˜¯ï¼Œåªèƒ½åœ¨åˆ—è¡¨å°¾éƒ¨æ’å…¥å…ƒç´ ï¼Œåœ¨é˜Ÿé¦–åˆ é™¤å…ƒç´ ï¼Œæ»¡è¶³å…ˆè¿›å…ˆå‡ºï¼Œåè¿›åå‡ºçš„æƒ…å†µéƒ½é€‚ç”¨äºé˜Ÿåˆ—ï¼ˆFIFO:first-in-first-outï¼‰é˜Ÿåˆ—å¸¸è§çš„å±æ€§æˆ–è€…æ–¹æ³•ï¼š ç±»å‹ æè¿° enquene å‘é˜Ÿåˆ—æœ«å°¾æ·»åŠ å…ƒç´  dequene åˆ é™¤é˜Ÿåˆ—å¤´éƒ¨å…ƒç´  front è¯»å–é˜Ÿåˆ—é¦–å…ƒç´  back è¯»å–é˜Ÿåˆ—å°¾å…ƒç´  toString æ˜¾ç¤ºé˜Ÿåˆ—æ‰€æœ‰å…ƒç´  clear æ¸…ç©ºé˜Ÿåˆ—å†…å…ƒç´  empty åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º é˜Ÿåˆ—çš„å®ç°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667var Quene = function() &#123; this.dataStore = []; //åˆå§‹åŒ–ä¸ºç©º&#125;Quene.prototype = (function () &#123; return &#123; enquene: enquene, dequene: dequene, front: front, back: back, toString: toString, clear: clear, empty: empty, &#125; // å…¥é˜Ÿ function enquene(ele) &#123; this.dataStore.push(ele) &#125; // å‡ºé˜Ÿ function dequene() &#123; if(this.empty())&#123; return 'empty quene' &#125; else &#123; this.dataStore.shift() &#125; &#125; // è¯»å–é˜Ÿåˆ—é¦–å…ƒç´  function front()&#123; if(this.empty())&#123; return 'empty quene' &#125; else &#123; return this.dataStore[0] &#125; &#125; // è¯»å–é˜Ÿåˆ—å°¾å…ƒç´  function back()&#123; if(this.empty())&#123; return 'empty quene' &#125; else &#123; return this.dataStore[this.dataStore.length - 1] &#125; &#125; // æ˜¾ç¤ºé˜Ÿåˆ—æ‰€æœ‰å…ƒç´  function toString()&#123; if(this.empty())&#123; return 'empty quene' &#125; else &#123; return this.dataStore.join(',') &#125; &#125; // æ¸…ç©ºé˜Ÿåˆ—å†…å…ƒç´  function clear() &#123; delete this.dataStore; this.dataStore = [] &#125; // åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º function empty() &#123; return this.dataStore.length === 0 &#125;&#125;()) æ“ä½œï¼š 12345678910111213141516var que = new Quene()que.enquene(1)console.log(que.front()) // 1console.log(que.back()) // 1que.enquene(2)que.enquene(3)console.log(que.front()) // 1console.log(que.back()) // 3que.dequene()console.log(que.front()) // 2console.log(que.back()) // 3console.log(que.toString()) // \"2,3\"console.log(que.empty()) // falseque.clear()console.log(que.empty()) // true é˜Ÿåˆ—çš„åº”ç”¨åˆ©ç”¨é˜Ÿåˆ—å®ç°åŸºæ•°æ’åº åŸºæ•°æ’åºï¼ˆradix sortï¼‰å±äºâ€œåˆ†é…å¼æ’åºâ€ï¼ˆdistribution sortï¼‰ï¼Œå®ƒæ˜¯é€è¿‡é”®å€¼çš„éƒ¨ä»½èµ„è®¯ï¼Œå°†è¦æ’åºçš„å…ƒç´ åˆ†é…è‡³æŸäº›â€œæ¡¶â€ä¸­ï¼Œè—‰ä»¥è¾¾åˆ°æ’åºçš„ä½œç”¨ï¼ŒåŸºæ•°æ’åºæ³•æ˜¯å±äºç¨³å®šæ€§çš„æ’åºï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸ºO (nlog(r)m)ï¼Œå…¶ä¸­rä¸ºæ‰€é‡‡å–çš„åŸºæ•°ï¼Œè€Œmä¸ºå †æ•°ï¼Œåœ¨æŸäº›æ—¶å€™ï¼ŒåŸºæ•°æ’åºæ³•çš„æ•ˆç‡é«˜äºå…¶å®ƒçš„ç¨³å®šæ€§æ’åºæ³•ã€‚ æ’åºä¸¤ä½æ•°çš„æ€è·¯ï¼š å…ˆæŒ‰ä¸ªä½æ•°å­—è¿›è¡Œæ’åºï¼Œå†æŒ‰åä½æ•°è¿›è¡Œæ’åº å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸²æ•°å­—ï¼Œåˆ†åˆ«ä¸º 73, 22, 93, 43, 55, 14, 28, 65, 39, 81 é¦–å…ˆæ ¹æ®ä¸ªä½æ•°å­—æ’åºï¼Œ81, 22, 73, 93, 43, 14, 55, 65, 28, 39 ç„¶åæ ¹æ®åä½æ•°å­—æ’åºï¼Œ14, 22, 28, 39, 43, 55, 65, 73, 81, 93 1234567891011121314151617181920212223242526272829303132333435363738394041424344//åŸºæ•°æ’åºvar queues = []; //å®šä¹‰é˜Ÿåˆ—æ•°ç»„var nums = []; //å®šä¹‰æ•°å­—æ•°ç»„//é€‰åä¸ª0~99çš„éšæœºæ•°è¿›è¡Œæ’åºfor ( var i = 0 ; i &lt; 10 ; i ++ )&#123; queues[i] = new Queue(); nums[i] = Math.floor( Math.random() * 101 );&#125;//æ’åºä¹‹å‰console.log( 'before radix sort: ' + nums );//åŸºæ•°æ’åºdistribution( nums , queues , 10 , 1 );collect( queues , nums );distribution( nums , queues , 10 , 10 );collect( queues , nums );//æ’åºä¹‹åconsole.info('after radix sort: ' + nums );//æ ¹æ®ç›¸åº”çš„ï¼ˆä¸ªä½å’Œåä½ï¼‰æ•°å€¼ï¼Œå°†æ•°å­—åˆ†é…åˆ°ç›¸åº”é˜Ÿåˆ—function distribution ( nums , queues , n , digit ) &#123; //digitè¡¨ç¤ºä¸ªä½æˆ–è€…åä½çš„å€¼ for( var i = 0 ; i &lt; n ; i++ )&#123; if( digit == 1)&#123; queues[ nums[i] % 10 ].enqueue( nums[i] ); &#125;else&#123; queues[ Math.floor( nums[i] / 10 ) ].enqueue( nums[i] ); &#125; &#125;&#125;//ä»é˜Ÿåˆ—ä¸­æ”¶é›†æ•°å­—function collect ( queues , nums ) &#123; var i = 0; for ( var digit = 0 ; digit &lt; 10 ; digit ++ )&#123; while ( !queues[digit].empty() )&#123; nums[ i++ ] = queues[digit].front(); queues[digit].dequeue(); &#125; &#125;&#125; ä¼˜å…ˆé˜Ÿåˆ—/å¾ªç¯é˜Ÿåˆ—","tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://shleyz.github.io/tags/æ•°æ®ç»“æ„/"}]},{"title":"jsæ•°æ®ç»“æ„-æ ˆ","date":"2018-04-21T05:37:35.000Z","path":"2018/04/21/jsæ•°æ®ç»“æ„-æ ˆ/","text":"ä¸Šä¸€ç¯‡çš„åˆ—è¡¨å¯¹æ•°æ®çš„å­˜å‚¨é¡ºåºä¸è¦æ±‚ï¼Œè€Œè¿™æ¬¡çš„æ ˆå’Œåˆ—è¡¨ç±»ä¼¼ï¼Œä½†æ˜¯æ¯”åˆ—è¡¨æ›´é«˜æ•ˆã€‚ æ ˆï¼Œåˆç§°å †æ ˆï¼Œæ ˆå†…çš„å…ƒç´ åªèƒ½é€šè¿‡æ•°æ®çš„ä¸€ç«¯è®¿é—®ï¼Œç§°ä¸ºæ ˆé¡¶ï¼Œæ•°æ®åªèƒ½åœ¨æ ˆé¡¶æ·»åŠ æˆ–åˆ é™¤ï¼Œéµå¾ªå…ˆå…¥åå‡ºçš„åŸåˆ™ï¼ˆlast-in-first-outï¼‰ æ ˆçš„ä¸»è¦æ“ä½œï¼špushâ€“å…ƒç´ å…¥æ ˆï¼Œ popâ€“å…ƒç´ å‡ºæ ˆ æ ˆå¸¸è§çš„å±æ€§æˆ–è€…æ–¹æ³•ï¼š ç±»å‹ æè¿° push æ–°å…ƒç´ å…¥æ ˆ pop é¡¶éƒ¨å…ƒç´ å‡ºæ ˆ top æŸ¥çœ‹å½“å‰æ ˆé¡¶ä½ç½® peek æŸ¥çœ‹å½“å‰æ ˆé¡¶å…ƒç´  length æŸ¥çœ‹å½“å‰æ ˆå…ƒç´ æ€»æ•° clear æ¸…ç©ºæ ˆå†…å…ƒç´  æ ˆçš„å®ç°12345678910111213141516171819202122232425262728293031323334353637383940414243444546var Stack = function() &#123; this.top = 0; //è®°å½•æ ˆé¡¶ä½ç½® this.dataStore = []; //åˆå§‹åŒ–ä¸ºç©º&#125;Stack.prototype = (function () &#123; return &#123; length: length, clear: clear, pop: pop, push: push, peek: peek, &#125; // è¿”å›æ ˆå…ƒç´ çš„ä¸ªæ•° function length() &#123; return this.top; &#125; // æ¸…ç©ºæ ˆçš„æ‰€æœ‰å…ƒç´  function clear() &#123; delete this.dataStore; this.top = 0; this.dataStore = []; &#125; // è¯¥æ–¹æ³•å°†ä¸€ä¸ªæ–°å…ƒç´ å…¥æ ˆï¼Œæ”¾åˆ°æ•°ç»„ä¸­ top æ‰€å¯¹åº”çš„ä½ç½®ä¸Šï¼Œå¹¶å°† top çš„å€¼åŠ  1ï¼Œè®©å…¶æŒ‡å‘æ•°ç»„çš„ä¸‹ä¸€ä¸ªç©ºä½ç½® function push(ele)&#123; this.dataStore[this.top++] = ele; &#125; // è¯¥æ–¹æ³•ä¸å…¥æ ˆç›¸åï¼Œè¿”å›æ ˆé¡¶å…ƒç´ ï¼Œå¹¶å°† top çš„å€¼å‡ 1 function pop()&#123; return this.dataStore[--this.top]; &#125; // è¯¥æ–¹æ³•è¿”å›çš„æ˜¯æ ˆé¡¶å…ƒç´ ï¼Œå³ top - 1 ä¸ªä½ç½®å…ƒç´  function peek()&#123; if(this.top &gt; 0) &#123; return this.dataStore[this.top - 1] &#125; else &#123; return 'empty' &#125; &#125; &#125;()) æ“ä½œï¼š 1234567891011var stack = new Stack()console.log(stack.peek()) // emptystack.push('one')stack.push('two')console.log(stack.peek()) // twostack.pop()console.log(stack.peek()) // onestack.length() // 1stack.clear()console.log(stack.peek()) // empty æ ˆçš„åº”ç”¨åˆ¤æ–­å›æ–‡å­—ç¬¦ä¸²ï¼Œå³åè½¬åçš„å­—ç¬¦ä¸²å’ŒåŸå­—ç¬¦ä¸²ä¸€æ · 12345678910111213141516function isPalindrome(word) &#123; var s = new Stack() for (var i = 0; i &lt; word.length; i++) &#123; s.push(word[i]) &#125; var rword = \"\"; while (s.length() &gt; 0) &#123; rword += s.pop(); &#125; if (word == rword) &#123; return true; &#125; else &#123; return false; &#125;&#125; å®ç°ä¸€ä¸ªé˜¶ä¹˜ç®—æ³• 5! = 5 4 3 2 1 = 120 function fact(n) { var s = new Stack() while (n &gt; 1) { //[5,4,3,2] s.push(n--); } var product = 1; while (s.length() &gt; 0) { product *= s.pop(); } return product; } fact(6) // 720","tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://shleyz.github.io/tags/æ•°æ®ç»“æ„/"}]},{"title":"åˆ—è¡¨","date":"2018-04-21T03:16:49.000Z","path":"2018/04/21/jsæ•°æ®ç»“æ„-åˆ—è¡¨/","text":"åˆ—è¡¨æ˜¯ä¸€ç»„æœ‰åºçš„æ•°æ®ï¼Œæ¯ä¸ªåˆ—è¡¨ä¸­çš„æ•°æ®è¢«ç§°ä¸ºä¸€ä¸ªå…ƒç´ ï¼Œå…ƒç´ å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œåˆ—è¡¨å¯ä»¥ä¿å­˜å¤šå°‘æ•°æ®æ²¡æœ‰é™åˆ¶ï¼Œä½†æ˜¯ä¼šå—å†…å­˜çš„é™åˆ¶ã€‚åˆ—è¡¨ä¸­å¸¸è§çš„å±æ€§æˆ–è€…æ–¹æ³•ï¼š ç±»å‹ æè¿° listSize åˆ—è¡¨å…ƒç´ ä¸ªæ•° pos å½“å‰ä½ç½® length è¿”å›åˆ—è¡¨ä¸­å…ƒç´ çš„ä¸ªæ•° clear æ¸…é™¤åˆ—è¡¨ä¸­æ‰€æœ‰å…ƒç´  toString è¿”å›åˆ—è¡¨çš„å­—ç¬¦ä¸²å½¢å¼ getElement è¿”å›å½“å‰ä½ç½®çš„å…ƒç´  insert åœ¨ç°æœ‰å…ƒç´ åæ’å…¥æ–°å…ƒç´  append åœ¨åˆ—è¡¨çš„æœ«å°¾æ·»åŠ æ–°å…ƒç´  remove åœ¨åˆ—è¡¨ä¸­åˆ é™¤å…ƒç´  front å°†åˆ—è¡¨çš„å½“å‰ä½ç½®ç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½® end å°†åˆ—è¡¨çš„å½“å‰ä½ç½®ç§»åŠ¨åˆ°æœ€åä¸€ä¸ªå…ƒç´ ä½ç½® prev å°†å½“å‰ä½ç½®åç§»ä¸€ä½ next å°†å½“å‰ä½ç½®å‰ç§»ä¸€ä½ hasNext åˆ¤æ–­æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä½ hasPrev åˆ¤æ–­æ˜¯å¦è¿˜æœ‰ä¸Šä¸€ä½ currPos è¿”å›åˆ—è¡¨çš„å½“å‰ä½ç½® moveTo å°†å½“å‰ä½ç½®ç§»åŠ¨åˆ°æŒ‡å®šä½ç½® æ¨¡æ‹Ÿåˆ—è¡¨æ¥æ„é€ å‡½æ•°ä»¥åŠå¯¹åº”è¿­ä»£å™¨123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142var List = function() &#123; this.listSize = 0; this.pos = 0; this.dataStore = [];&#125;List.prototype = (function () &#123; return &#123; length: length, clear: clear, toString: toString, getElement: getElement, insert: insert, append: append, remove: remove, front: front, end: end, prev: prev, next: next, hasNext: hasNext, hasPrev: hasPrev, currPos: currPos, moveTo: moveTo, find: find, &#125; /* * è¿”å›åˆ—è¡¨å…ƒç´ çš„ä¸ªæ•° * @returns &#123;number&#125; */ function length() &#123; return this.listSize; &#125; /** * æ¸…ç©ºåˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´  */ function clear() &#123; delete this.dataStore; this.listSize = 0; this.currPos = 0; this.dataStore.length = 0; &#125; /* * è¿”å›è¦å±•ç¤ºçš„åˆ—è¡¨ * @returns &#123;string&#125; */ function toString() &#123; return this.dataStore; &#125; /* * è¿”å›å½“å‰ä½ç½®çš„å…ƒç´  * @returns &#123;*&#125; */ function getElement() &#123; return this.dataStore[this.pos] &#125; /* * æ’å…¥æŸä¸ªå…ƒç´  * @param ele è¦æ’å…¥çš„å…ƒç´  * @param after åˆ—è¡¨ä¸­çš„å…ƒç´ ä¹‹å * @returns &#123;boolean&#125; */ function insert(ele, after) &#123; var insertPos = this.dataStore.find(after); if(this.insertPos &gt; -1) &#123; this.dataStore.splice(insertPos, 0, ele) ++this.listSize; return true &#125; else &#123; return false &#125; &#125; /* * ç»™åˆ—è¡¨æœ€åæ·»åŠ å…ƒç´ çš„æ—¶å€™ï¼Œåˆ—è¡¨å…ƒç´ ä¸ªæ•°+1 * @param ele */ function append(ele) &#123; ++this.listSize; this.dataStore.push(ele) &#125; /* * åˆ é™¤å…ƒç´ æˆåŠŸï¼Œå…ƒç´ ä¸ªæ•°-1 * @param ele * @returns &#123;boolean&#125; */ function remove(ele) &#123; let removeIndex = this.dataStore.find(ele); if(removeIndex &gt; -1) &#123; this.dataStore.splice(removeIndex, 1) this.listSize -- return true &#125; else &#123; return false &#125; &#125; /* * å°†åˆ—è¡¨çš„å½“å‰ä½ç½®ç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªå…ƒç´  */ function front() &#123; this.pos = 0 &#125; /* * å°†åˆ—è¡¨çš„å½“å‰ä½ç½®ç§»åŠ¨åˆ°æœ€åä¸€ä¸ªå…ƒç´  */ function end() &#123; this.pos = this.listSize - 1 &#125; /* * å°†å½“å‰ä½ç½®å‘å‰ç§»åŠ¨ä¸€ä½ */ function prev() &#123; --this.pos &#125; /* * å°†å½“å‰ä½ç½®å‘åç§»åŠ¨ä¸€ä½ */ function next() &#123; ++this.pos &#125; /* * åˆ¤æ–­æ˜¯å¦æœ‰åä¸€ä½ * @returns &#123;boolean&#125; */ function hasNext() &#123; return this.pos &lt; this.listSize &#125; /* * åˆ¤æ–­æ˜¯å¦æœ‰å‰ä¸€ä½ * @returns &#123;boolean&#125; */ function hasPrev() &#123; return this.pos &gt; 0 &#125; /* * è¿”å›åˆ—è¡¨çš„å½“å‰ä½ç½® * @returns &#123;number|*&#125; */ function currPos() &#123; return this.pos &#125;&#125;())","tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"https://shleyz.github.io/tags/æ•°æ®ç»“æ„/"}]},{"title":"Linuxä½¿ç”¨","date":"2018-04-20T05:11:12.000Z","path":"2018/04/20/linuxæ“ä½œ/","text":"è½¯ä»¶æ“ä½œè½¯ä»¶åŒ…ç®¡ç† yum å®‰è£… yum install ... å¸è½½ yum remove ... æœç´¢ yum serach ... æ¸…ç†ç¼“å­˜ yum clean packages åˆ—å‡ºå·²å®‰è£… yum list è½¯ä»¶åŒ…ä¿¡æ¯ yum info ... ç¡¬ä»¶èµ„æºä¿¡æ¯ å†…å­˜ free -m ç¡¬ç›˜ df -h è´Ÿè½½ï¼ˆwæˆ–topï¼‰ w 12:53:49 up 2:33, 3 users, load average: 0.00, 0.01, 0.05 USER TTY FROM LOGIN@ IDLE JCPU PCPU WHAT root tty2 10:32 1:59m 0.04s 0.04s -bash root pts/0 121.239.246.23 11:34 1:13m 0.01s 0.01s -bash root pts/1 121.239.246.23 12:24 5.00s 0.02s 0.00s w load average: 0.00, 0.01, 0.05 åˆ†åˆ«è¡¨ç¤ºæœ€è¿‘1åˆ†é’Ÿï¼Œ5åˆ†é’Ÿï¼Œ15åˆ†é’Ÿæ—¶å€™çš„è´Ÿè½½å€¼ å½“åˆ°è¾¾1æ—¶è¯´æ˜è´Ÿè½½å¿«è¦è¶…è·ã€‚0.6-0.7æ˜¯å¥åº·å€¼ã€‚ cpuä¸ªæ•°å’Œæ ¸æ•° cat /proc/cpuinfo æ–‡ä»¶æ“ä½œ####ç›®å½•ç»“æ„ æ ¹ç›®å½•/ å®¶ç›®å½• /home ä¸´æ—¶ç›®å½• /tmp é…ç½®ç›®å½• /etc ç”¨æˆ·ç¨‹åºç›®å½• /usr ####æ–‡ä»¶åŸºæœ¬æ“ä½œ touch --æ–°å»ºæ–‡ä»¶ rm --åˆ é™¤æ–‡ä»¶å’Œç›®å½• cp --å¤åˆ¶ mv --ç§»åŠ¨ pwd --æ˜¾ç¤ºè·¯å¾„ ####vim gg--å®šä½åˆ°è¡Œå¤´ G--å®šä½åˆ°è¡Œå°¾ dd--åˆ é™¤æ•´è¡Œ u--æ¢å¤ ####æ–‡ä»¶æƒé™421 r--4 å¯è¯» w--2 å¯å†™ x--1 å¯æ‰§è¡Œ ####æ–‡ä»¶æœç´¢ï¼ŒæŸ¥æ‰¾ tail--ä»å°¾éƒ¨å¼€å§‹è¯» head--ä»å¤´éƒ¨å¼€å§‹è¯» cat--è¯»å–æ•´ä¸ªæ–‡ä»¶ more--åˆ†é¡µè¯»å– less--å¯æ§åˆ†é¡µ grep--æœç´¢å…³é”®å­— find--æŸ¥æ‰¾æ–‡ä»¶ wc--ç»Ÿè®¡ä¸ªæ•° find . -name &quot;*.conf&quot; --æŸ¥æ‰¾å½“å‰è·¯å¾„ä¸‹ä»¥confåç¼€çš„æ–‡ä»¶ find . -type f --æŸ¥æ‰¾å½“å‰è·¯å¾„ä¸‹çš„æ–‡ä»¶ find . -type d --æŸ¥æ‰¾å½“å‰è·¯å¾„ä¸‹çš„æ–‡ä»¶å¤¹ find . -ctime -20 --æŸ¥æ‰¾20å¤©å†…æ›´æ–°è¿‡çš„æ–‡ä»¶ æ–‡ä»¶å‹ç¼©å’Œè§£å‹tarå’ŒuntaræŠŠzxlæ–‡ä»¶å‹ç¼©ä¸ºzxl.tarï¼š tar -cf zxl.tar zxl æŸ¥çœ‹zxl.taré‡Œé¢çš„å†…å®¹ï¼š tar -tf zxl.tar æŸ¥çœ‹zxl.taré‡Œé¢çš„è¯¦ç»†å†…å®¹ï¼š tar -tvf zxl.tar æŠŠzxl.tarè§£å‹ï¼š tar -xf zxl.tar ç³»ç»Ÿç”¨æˆ·æ“ä½œå‘½ä»¤æ·»åŠ ç”¨æˆ·cd /home/ useradd zhaolin è¿™æ—¶æŸ¥çœ‹homeé‡Œé¢ä¼šå¤šäº†ä¸€ä¸ªæ–‡ä»¶å¤¹zhaolin ç»™zhaolinç”¨æˆ·æ·»åŠ å¯†ç ï¼š passwd zhaolin è¾“å…¥å¯†ç å¹¶ç¡®è®¤å¯†ç ã€‚ è¿™æ ·å°±æœ‰äº†ä¸€ä¸ªæ–°çš„ç”¨æˆ·zhaolinï¼Œå¯ä»¥ç”¨sshç”¨zhaolinç”¨æˆ·è¿æ¥ã€‚ åˆ é™¤ç”¨æˆ·userdel zhaolin --åˆ é™¤ç”¨æˆ·zhaolin rm -rf zhaolin --åˆ é™¤ç”¨æˆ·zhaolinç›®å½• userdel -r zhaolin --å½»åº•åˆ é™¤ç”¨æˆ·ä»¥åŠç”¨æˆ·æ–‡ä»¶å¤¹ é˜²ç«å¢™æ“ä½œä½œç”¨ï¼šä¿æŠ¤æœåŠ¡å™¨å®‰å…¨ å®‰è£…ï¼š yum install firewalld å¯åŠ¨ï¼š service firewalld started å¯åŠ¨ï¼š service firewalld restarted åˆ—å‡ºé˜²ç«å¢™æœåŠ¡ï¼š yum list | grep firewall æŸ¥çœ‹æ˜¯å¦å¯åŠ¨é˜²ç«å¢™ï¼š ps -ef|grep firewall åœæ­¢ï¼š service firewalld stop service firewalld status ææƒrootè´¦å·ä¸­ visudo ä¿®æ”¹ï¼š ## Allows people in group wheel to run all commands %wheel ALL=(ALL) ALL %zhaolin ALL=(ALL) ALL åœ¨zhaolinç”¨æˆ·è¿›è¡Œæ“ä½œä»¥å‰ï¼Œå‰é¢åŠ ä¸Šsudoå³å¯ sudo yum install XXXXX æ–‡ä»¶ä¸Šä¼ linux: scpscp zhaolin@47.96.140.xx:/tmp/abc.txt ./ æŠŠæœåŠ¡å™¨47.96.140.xxä¸Štmpé‡Œé¢çš„æ–‡ä»¶ä¼ åˆ°æœ¬åœ°å½“å‰ç›®å½• scp abc.txt zhaolin@47.96.140.xx:/tmp æŠŠæœ¬åœ°å½“å‰ç›®å½•çš„æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨47.96.140.xxä¸Štmp windows xshell é¦–å…ˆxshellè¿æ¥linuxï¼Œ ç„¶åå†linuxæœåŠ¡å™¨ä¸Šå®‰è£…ï¼š yum install lrzsz è£…å¥½ä»¥åæ‰§è¡Œå‘½ä»¤ï¼š rz ä¼šå‡ºç°å¼¹æ¡†ï¼š é€‰æ‹©æ–‡ä»¶å¹¶ä¸Šä¼ å³å¯ æ–‡ä»¶ä¸‹è½½wget XXXXX","tags":[{"name":"linux","slug":"linux","permalink":"https://shleyz.github.io/tags/linux/"}]},{"title":"SSHè¿æ¥","date":"2018-04-20T05:11:12.000Z","path":"2018/04/20/SSHè¿æ¥/","text":"æœåŠ¡å™¨ç«¯å®‰è£…SSHå®‰è£…SSHï¼š yum install openssh-server å¯åŠ¨SSHï¼š sevice sshd start è®¾ç½®å¼€æœºè¿è¡Œï¼š chkconfig sshd on æˆ– systemctl enable sshd.service å®¢æˆ·ç«¯SSHè¿æ¥æœåŠ¡å™¨ç«¯SSHæœ¬åœ°å‘½ä»¤è¡Œlï¼š ssh root@server_ip å›è½¦è¾“å…¥å¯†ç è¿æ¥ã€‚ SSH config configæ–¹ä¾¿æ‰¹é‡ç®¡ç†å¤šä¸ªssh configå­˜æ”¾åœ¨ ~/.ssh/config configè¯­æ³• cd ~/.ssh/ vim config ç¼–è¾‘ï¼š host &quot;zhu&quot; HostName 47.96.140.** User root Port 22 åŒæ ·å¯ä»¥é…ç½®å¤šä¸ªhost SSHå…å¯†ç ç™»å½•ssh key ssh keyä½¿ç”¨éå¯¹ç§°åŠ å¯†æ–¹å¼ç”Ÿæˆå…¬é’¥å’Œç§é’¥ ç§é’¥å­˜æ”¾åœ¨æœ¬åœ°~/.sshç›®å½• å…¬é’¥å¯ä»¥å¯¹å¤–å¼€æ”¾ï¼Œæ”¾åœ¨æœåŠ¡å™¨çš„~/.ssh/authorized_keys linuxç”Ÿæˆç§˜é’¥ cd ~/.ssh/ ssh-keygen ç„¶åè¾“å…¥æ–‡ä»¶åå­—è¾“å…¥å¯†ç ç¡®è®¤å¯†ç  ç”ŸæˆæˆåŠŸ Your identification has been saved in file_sra. Your public key has been saved in file_sra.pub. The key fingerprint is: SHA256:NrBxS72quC*************Mf54sqrl8tPwraeHYdKzg root@server The key&apos;s randomart image is: +---[RSA 2048]----+ | | | . | | o o . | | * . . | | . . S . | | . + o.o | | *.+oo+o. | | ==E==+== | | =@OO=*=oo. | +----[SHA256]-----+ [root@qyweb01 .ssh]# ls -al total 24 drwx------ 2 root root 4096 Apr 27 12:14 . dr-xr-x---. 5 root root 4096 Apr 27 12:02 .. -rw------- 1 root root 0 Apr 27 10:20 authorized_keys -rw-r--r-- 1 root root 67 Apr 27 11:52 config -rw-r--r-- 1 root root 174 Apr 27 11:58 known_hosts -rw------- 1 root root 1679 Apr 27 12:14 zxl_sra -rw-r--r-- 1 root root 394 Apr 27 12:14 zxl_sra.pub æŠŠå…¬é’¥ .pub é‡Œé¢çš„å†…å®¹å¤åˆ¶åˆ°æœåŠ¡å™¨ ~/.ssh/authorized_keys è¿™æ ·å°±å¯ä»¥å…å¯†è¿æ¥æœåŠ¡å™¨ SSHè®¾ç½®å®‰å…¨ç«¯å£sshé»˜è®¤ç«¯å£22 é˜²æ­¢ä¸æ³•åˆ†å­åˆ©ç”¨ï¼Œæœ€å¥½ä¿®æ”¹é»˜è®¤ç«¯å£ ä¿®æ”¹é…ç½®æ–‡ä»¶ /etc/ssh/sshd_config çš„portéƒ¨åˆ†ï¼Œ ç„¶åé‡å¯æœåŠ¡ systemctl restart sshd.service æœ€å¥½ä¸è¦ä¿®æ”¹é»˜è®¤ç«¯å£ï¼Œè€Œæ˜¯ä½¿ç”¨å¤æ‚çš„å¯†ç ï¼Œæˆ–è€…ä½¿ç”¨å¯†é’¥ç™»é™†","tags":[]},{"title":"é˜¿é‡Œäº‘æœåŠ¡å™¨nginxå®‰è£…","date":"2018-04-20T05:11:12.000Z","path":"2018/04/20/nginx webæœåŠ¡å™¨/","text":"é˜¿é‡Œäº‘æœåŠ¡å™¨Linuxè¿œç¨‹sshè¿æ¥å¯ä»¥åœ¨åˆ›å»º ECS å®ä¾‹æ—¶åˆ†é…å¯†é’¥å¯¹ï¼Œä¹Ÿå¯ä»¥ä¸ºå®ä¾‹ç»‘å®šå¯†é’¥å¯¹ã€‚ ä¸€å° ECS å®ä¾‹åªèƒ½ç»‘å®šä¸€ä¸ª SSH å¯†é’¥å¯¹ã€‚ åˆ›å»ºå¯†é’¥å¯¹ç™»å½• ECS æ§åˆ¶å°ã€‚ åœ¨å·¦ä¾§å¯¼èˆªæ ä¸­ï¼Œå•å‡» å¯†é’¥å¯¹ã€‚ åœ¨ å¯†é’¥å¯¹ é¡µé¢ä¸Šï¼Œé€‰æ‹©æ‰€éœ€åœ°åŸŸåï¼Œå•å‡» åˆ›å»ºå¯†é’¥å¯¹ã€‚ åœ¨ åˆ›å»ºå¯†é’¥å¯¹ é¡µé¢ï¼Œè®¾ç½®å¯†é’¥å¯¹åç§°ï¼Œå¹¶é€‰æ‹© è‡ªåŠ¨æ–°å»ºå¯†é’¥å¯¹ã€‚ å•å‡» ç¡®å®š åˆ›å»ºå¯†é’¥å¯¹ã€‚ ç»‘å®šå¯†é’¥å¯¹ç™»å½• ECS æ§åˆ¶å°ã€‚ åœ¨å·¦ä¾§å¯¼èˆªæ ä¸­ï¼Œé€‰æ‹© ç½‘ç»œä¸å®‰å…¨ &gt; å¯†é’¥å¯¹ã€‚ é€‰æ‹©ä¸€ä¸ªåœ°åŸŸã€‚ æ‰¾åˆ°éœ€è¦æ“ä½œçš„å¯†é’¥å¯¹ï¼Œåœ¨ æ“ä½œ åˆ—ä¸­ï¼Œå•å‡» ç»‘å®šå¯†é’¥å¯¹ã€‚ åœ¨ ç»‘å®šå¯†é’¥å¯¹ å¯¹è¯æ¡†é‡Œï¼Œåœ¨ é€‰æ‹© ECS å®ä¾‹ æ ä¸­ï¼Œé€‰ä¸­éœ€è¦ç»‘å®šè¯¥å¯†é’¥å¯¹çš„ ECS å®ä¾‹åç§°ï¼Œå•å‡» &gt;ï¼Œç§»å…¥ å·²é€‰æ‹© æ ä¸­ã€‚ å•å‡» ç¡®å®š ç»‘å®šå¯†é’¥å¯¹ã€‚ ä½¿ç”¨ SSH å¯†é’¥å¯¹è¿æ¥ Linux å®ä¾‹ï¼ˆæœ¬åœ°ä¸º Windows ç¯å¢ƒï¼‰#####å‰ææ¡ä»¶ å·²ç»ä¸‹è½½å¹¶å®‰è£…äº† PuTTY å’Œ PuTTYgenã€‚ PuTTY å’Œ PuTTYgen çš„ä¸‹è½½åœ°å€ï¼š PuTTYï¼š https://the.earth.li/~sgtatham/putty/latest/w64/putty.exe PuTTYgenï¼š https://the.earth.li/~sgtatham/putty/latest/w64/puttygen.exe å·²ç»æ‹¥æœ‰ä¸€ä¸ªåˆ†é…äº†å¯†é’¥å¯¹çš„ Linux å®ä¾‹ã€‚å¯ä»¥åœ¨åˆ›å»º ECS å®ä¾‹æ—¶åˆ†é…å¯†é’¥å¯¹ï¼Œä¹Ÿå¯ä»¥ä¸ºå®ä¾‹ç»‘å®šå¯†é’¥å¯¹ã€‚ å®ä¾‹æ‰€åœ¨çš„å®‰å…¨ç»„å¿…é¡»æ·»åŠ ä»¥ä¸‹å®‰å…¨ç»„è§„åˆ™ï¼ˆå…·ä½“æ“ä½œï¼Œè¯·å‚è€ƒ https://help.aliyun.com/document_detail/51798.html?spm=a2c4g.11186623.4.2.4RBql5#windowsï¼‰ #####æ“ä½œæ­¥éª¤ ï¼ˆå¯é€‰ï¼‰å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨é˜¿é‡Œäº‘ç”Ÿæˆçš„ .pem ç§é’¥æ–‡ä»¶ï¼Œåº”å…ˆæŒ‰ä»¥ä¸‹æ­¥éª¤è½¬ä¸º .ppk ç§é’¥æ–‡ä»¶ã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ç§é’¥æ–‡ä»¶æœ¬èº«å·²ç»æ˜¯ .ppk æ–‡ä»¶ï¼Œå¯ä»¥ç•¥è¿‡è¿™ä¸€æ­¥ã€‚ å¯åŠ¨ PuTTYgenã€‚æœ¬ç¤ºä¾‹ä¸­çš„ PuTTYgen ç‰ˆæœ¬ä¸º 0.68ã€‚ åœ¨ Parameters &gt; Type of key to generate ä¸­ï¼Œé€‰ä¸­ RSAã€‚Number of bits in a generated key çš„å€¼ä¸éœ€è¦è®¾ç½®ï¼Œè½¯ä»¶ä¼šæ ¹æ®å¯¼å…¥çš„ç§é’¥ä¿¡æ¯è‡ªåŠ¨æ›´æ–°ã€‚ å•å‡» Loadã€‚PuTTYgen é»˜è®¤ä»…æ˜¾ç¤ºæ‰©å±•åä¸º .ppk çš„æ–‡ä»¶ã€‚è¦æ‰¾åˆ°æ‚¨çš„ .pem æ–‡ä»¶ï¼Œè¯·é€‰æ‹©æ˜¾ç¤ºæ‰€æœ‰ç±»å‹çš„æ–‡ä»¶ã€‚ é€‰æ‹©æ‚¨ä»é˜¿é‡Œäº‘ä¸‹è½½çš„â€œ.pemâ€æ ¼å¼çš„ç§é’¥æ–‡ä»¶ï¼Œç„¶åå•å‡» æ‰“å¼€ã€‚ å•å‡» OKï¼ˆç¡®å®šï¼‰å…³é—­ç¡®è®¤å¯¹è¯æ¡†ã€‚ å•å‡» Save private keyã€‚PuTTYgen ä¼šæ˜¾ç¤ºä¸€æ¡å…³äºåœ¨æ²¡æœ‰å£ä»¤çš„æƒ…å†µä¸‹ä¿å­˜å¯†é’¥çš„è­¦å‘Šï¼Œå•å‡» æ˜¯(Y)ã€‚ æŒ‡å®šä¸å¯†é’¥å¯¹ç›¸åŒçš„ç§é’¥åç§°ï¼Œä¿å­˜ã€‚PuTTY ä¼šè‡ªåŠ¨ä¸ºæ–‡ä»¶æ·»åŠ  .ppk æ‰©å±•åã€‚ å¯åŠ¨ PuTTYã€‚ å•å‡» Connection &gt; SSH &gt; Authï¼Œå†å•å‡» Browseâ€¦ï¼Œé€‰æ‹©å‰é¢æ‰€ç”Ÿæˆçš„ .ppk æ–‡ä»¶ã€‚ å•å‡» Sessionï¼Œ åœ¨ Host Name (or IP address) é‡Œè¾“å…¥è´¦å·å’Œéœ€è¦è¿æ¥çš„å®ä¾‹å…¬ç½‘ IP åœ°å€ï¼Œæ ¼å¼ä¸º â€œroot@IP åœ°å€â€ã€‚ åœ¨ Port é‡Œè¾“å…¥ç«¯å£å· 22ï¼› Connection type é€‰æ‹© SSHã€‚ å•å‡» Openï¼Œå¼€å§‹è¿æ¥æ‚¨çš„ Linux å®ä¾‹ã€‚ Ubuntuä¸‹æ­å»ºå’Œé…ç½®Nginx WebæœåŠ¡å™¨å®‰è£…nginxapt-get update apt-get install nginx å¯åŠ¨nginxsystemctl start nginx systemctl status nginx -l systemctl enable nginx åœæ­¢nginxsystemctl stop nginx æµ‹è¯•ï¼šlsof -i:80 COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME AliYunDun 898 root 18u IPv4 12980 0t0 TCP qyweb01:33654-&gt;140.205.140.205:http (CLOSE_WAIT) AliYunDun 934 root 18u IPv4 12980 0t0 TCP qyweb01:33654-&gt;140.205.140.205:http (CLOSE_WAIT) AliYunDun 934 root 21u IPv4 13271 0t0 TCP qyweb01:48738-&gt;106.11.68.13:http (ESTABLISHED) nginx 16177 root 6u IPv4 33583 0t0 TCP *:http (LISTEN) nginx 16177 root 7u IPv6 33584 0t0 TCP *:http (LISTEN) nginx 16178 www-data 6u IPv4 33583 0t0 TCP *:http (LISTEN) nginx 16178 www-data 7u IPv6 33584 0t0 TCP *:http (LISTEN) nginx 16179 www-data 6u IPv4 33583 0t0 TCP *:http (LISTEN) nginx 16179 www-data 7u IPv6 33584 0t0 TCP *:http (LISTEN) çœ‹åˆ°å¦‚ä¸Šçš„ä¿¡æ¯ï¼Œè¯´æ˜nginxå¯åŠ¨æˆåŠŸã€‚ nginxé…ç½®æ–‡ä»¶å…¨æ”¾åœ¨/etc/nginx ä¸‹é¢ï¼Œç”¨ ll åä»¤æŸ¥çœ‹å¦‚ä¸‹ï¼š root@qyweb01:/etc/nginx# ll total 64 drwxr-xr-x 6 root root 4096 Apr 26 12:47 ./ drwxr-xr-x 90 root root 4096 Apr 26 12:47 ../ drwxr-xr-x 2 root root 4096 Jul 12 2017 conf.d/ -rw-r--r-- 1 root root 1077 Feb 12 2017 fastcgi.conf -rw-r--r-- 1 root root 1007 Feb 12 2017 fastcgi_params -rw-r--r-- 1 root root 2837 Feb 12 2017 koi-utf -rw-r--r-- 1 root root 2223 Feb 12 2017 koi-win -rw-r--r-- 1 root root 3957 Feb 12 2017 mime.types -rw-r--r-- 1 root root 1462 Feb 12 2017 nginx.conf -rw-r--r-- 1 root root 180 Feb 12 2017 proxy_params -rw-r--r-- 1 root root 636 Feb 12 2017 scgi_params drwxr-xr-x 2 root root 4096 Apr 26 12:47 sites-available/ drwxr-xr-x 2 root root 4096 Apr 26 12:47 sites-enabled/ drwxr-xr-x 2 root root 4096 Apr 26 12:47 snippets/ -rw-r--r-- 1 root root 664 Feb 12 2017 uwsgi_params -rw-r--r-- 1 root root 3071 Feb 12 2017 win-utf nginx.confæ˜¯ä¸»é…ç½®æ–‡ä»¶ æŸ¥çœ‹nginxè¿›ç¨‹æ˜¯å¦å¯åŠ¨ ps -ef|grep nginx é…ç½®nginx WebæœåŠ¡å™¨ä¸»è¦é…ç½®æ–‡ä»¶nginx.conf sudo vim /etc/nginx/nginx.conf è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶ sudo vim /etc/nginx/sites-enabled/default Ubuntuä¸‹å®‰è£…nodesudo apt-get install nodejs-legacy nodejs sudo apt-get install npm Windowsä¸Šä¼ æ–‡ä»¶åˆ°UbuntuæœåŠ¡å™¨ä½¿ç”¨WinSCPå·¥å…·ï¼Œä¼ è¾“rarå‹ç¼©æ–‡ä»¶ Linuxè§£å‹æ–‡ä»¶apt install rar unrar unrar e build.rar","tags":[{"name":"nginx","slug":"nginx","permalink":"https://shleyz.github.io/tags/nginx/"}]},{"title":"Nginx å®‰è£…ä½¿ç”¨","date":"2018-04-20T05:11:12.000Z","path":"2018/04/20/nginx centOS/","text":"nginxåŸºæœ¬æ“ä½œå®‰è£…ï¼š yum install nginx å¯åŠ¨ï¼š service nginx start åœæ­¢ï¼š service nginx stop é‡è½½ï¼š service nginx reload éƒ¨ç½²NGINXï¼š// $ sudo service httpd stop $ sudo yum install nginx æŸ¥çœ‹æ˜¯å¦å¯åŠ¨ï¼š $ ps -ef | grep nginx å¯åŠ¨ï¼š $ sudo service nginx start $ sudo service nginx reload firewall-cmd --zone=public --add-port=80/tcp --permanent é˜²ç«å¢™å¼€å¯80ç«¯å£ firewall-cmd --reload é˜²ç«å¢™é‡è½½ yum install iptables-services systemctl enable iptables systemctl stop firewalld systemctl start firewalld é…ç½®/etc/nginx/ä¸‹çš„é…ç½®æ–‡ä»¶ï¼š å› ä¸ºåœ¨nginxä¸»é…ç½®æ–‡ä»¶ä¸­å¼•å…¥äº†conf.dæ–‡ä»¶å¤¹ä¸­çš„: include /etc/nginx/conf.d/*.conf;æ‰€ä»¥åœ¨nginx/conf.d/ä¸‹é¢æ·»åŠ **.confæ–‡ä»¶è¿›è¡Œé…ç½®. ä¸»é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859# For more information on configuration, see:# * Official English Documentation: http://nginx.org/en/docs/# * Official Russian Documentation: http://nginx.org/ru/docs/user root;worker_processes auto;error_log /var/log/nginx/error.log;pid /run/nginx.pid;# Load dynamic modules. See /usr/share/nginx/README.dynamic.include /usr/share/nginx/modules/*.conf;events &#123; worker_connections 1024;&#125;http &#123; log_format main '$remote_addr - $remote_user [$time_local] \"$request\" ' '$status $body_bytes_sent \"$http_referer\" ' '\"$http_user_agent\" \"$http_x_forwarded_for\"'; access_log /var/log/nginx/access.log main; sendfile on; tcp_nopush on; tcp_nodelay on; keepalive_timeout 65; types_hash_max_size 2048; include /etc/nginx/mime.types; default_type application/octet-stream; # Load modular configuration files from the /etc/nginx/conf.d directory. # See http://nginx.org/en/docs/ngx_core_module.html#include # for more information. include /etc/nginx/conf.d/*.conf; server &#123; listen 80 default_server; listen [::]:80 default_server; server_name _; root /usr/share/nginx/html; # Load configuration files for the default server block. include /etc/nginx/default.d/*.conf; location / &#123; &#125; error_page 404 /404.html; location = /40x.html &#123; &#125; error_page 500 502 503 504 /50x.html; location = /50x.html &#123; &#125; &#125; &#125; é¦–å…ˆä¸»é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹ç”¨æˆ·ç»„ user root; ç„¶åè¿›è¡Œæ“ä½œï¼š cd conf.d touch **.conf //æ–°å»ºæ–‡ä»¶ vim **.conf ä¿®æ”¹**.conf: server { listen 80; server_name 47.**.***.**; #charset koi8-r; #access_log logs/host.access.log main; location / { root /home/********/****; index index.html index.htm; try_files $uri /index.html; } #error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } } react-routeråœ¨nginxä¸Šçš„åº”ç”¨ï¼Œå‚ç…§ï¼šè°ƒæ•´nginxæ­£ç¡®æœåŠ¡react-routeråº”ç”¨ æ³¨æ„åœ¨linuxè¿›è¡Œè§£å‹æ–‡ä»¶æ—¶unrar e build.rar build è¿™æ ·ä¼šæŠŠbuild.raré‡Œé¢æ‰€æœ‰çš„æ–‡ä»¶éƒ½è§£å‹åˆ°buildæ–‡ä»¶å¤¹ï¼Œä¸ä¿æŒåŸæœ‰çš„ç›®å½•ã€‚ unrar x build.rar build è¿™æ ·è§£å‹ä¼šä¿æŒåŸæœ‰çš„ç›®å½•ã€‚","tags":[{"name":"nginx","slug":"nginx","permalink":"https://shleyz.github.io/tags/nginx/"}]},{"title":"gitç›¸å…³","date":"2018-03-17T06:42:05.000Z","path":"2018/03/17/gitç›¸å…³/","text":"gitä»“åº“ åˆ›å»ºç‰ˆæœ¬åº“ï¼š123$ mkdir learngit$ cd learngit$ git init å½“å‰ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ª.gitçš„éšè—ç›®å½•ï¼Œè¿™ä¸ªç›®å½•æ˜¯Gitæ¥è·Ÿè¸ªç®¡ç†ç‰ˆæœ¬åº“çš„ï¼Œåƒä¸‡ä¸è¦æ‰‹åŠ¨ä¿®æ”¹è¿™ä¸ªç›®å½•é‡Œé¢çš„æ–‡ä»¶ï¼Œä¸ç„¶æ”¹ä¹±äº†ï¼Œå°±æŠŠGitä»“åº“ç»™ç ´åäº†ã€‚ æŠŠæ–‡ä»¶æ·»åŠ åˆ°ç‰ˆæœ¬åº“ æ–°å»ºä¸€ä¸ªæ–‡ä»¶readme.txt ç”¨å‘½ä»¤git addå‘Šè¯‰Gitï¼ŒæŠŠæ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ï¼ˆæŠŠè¦æäº¤çš„æ‰€æœ‰ä¿®æ”¹æ”¾åˆ°æš‚å­˜åŒºï¼‰ï¼š 1$ git add readme.txt ç”¨å‘½ä»¤git commitå‘Šè¯‰Gitï¼ŒæŠŠæ–‡ä»¶æäº¤åˆ°ä»“åº“ï¼ˆæŠŠæš‚å­˜åŒºçš„æ‰€æœ‰ä¿®æ”¹æäº¤åˆ°åˆ†æ”¯ï¼‰ï¼š 123$ git commit -m \"æœ¬æ¬¡æäº¤çš„è¯´æ˜\"$ git push origin brachName æŠŠåˆ†æ”¯ä¸Šçš„æ‰€æœ‰æœ¬åœ°æäº¤æ¨é€åˆ°è¿œç¨‹åº“ 123$ git status å¯ä»¥è®©æˆ‘ä»¬æ—¶åˆ»æŒæ¡ä»“åº“å½“å‰çš„çŠ¶æ€$ git log æ˜¾ç¤ºä»æœ€è¿‘åˆ°æœ€è¿œçš„æäº¤æ—¥å¿— 12345678commit 8125d1babdf58e7f82b2ce78d048f47d867b1b5c (HEAD -&gt; master)Author: shleyZ &lt;zxl735975459@126.com&gt;Date: Sat Mar 17 11:13:22 2018 +0800 æ·»åŠ ä¸€æ®µå†…å®¹commit 43c80b42f0d4da4005a4c7cf87d150d59a44e64aï¼ˆHEADè¡¨ç¤ºå½“å‰ç‰ˆæœ¬ï¼‰ å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬1$ git reset --hard HEAD^ æŒ‡å®šå›åˆ°æŸä¸ªç‰ˆæœ¬ 1$ git reset --hard 3628164(ç‰ˆæœ¬å·) æŸ¥çœ‹ä½ ä¹‹å‰çš„æ¯ä¸€æ¬¡å‘½ä»¤ï¼Œå‰é¢æ˜¯ç‰ˆæœ¬å·å‰å‡ ä½ 1$ git reflog 8125d1b (HEAD -&gt; master) HEAD@{0}: commit: æ·»åŠ ä¸€æ®µå†…å®¹ 43c80b4 HEAD@{1}: commit (initial): æœ¬æ¬¡æäº¤çš„è¯´æ˜ åˆ é™¤æ–‡ä»¶ 1$ git rm test.txt gitåˆ†æ”¯åˆ›å»ºdevåˆ†æ”¯ï¼Œç„¶ååˆ‡æ¢åˆ°devåˆ†æ”¯ 12$ git checkout -b dev//Switched to a new branch 'dev' ç”¨git branchå‘½ä»¤æŸ¥çœ‹å½“å‰åˆ†æ”¯ï¼ˆåˆ—å‡ºæ‰€æœ‰åˆ†æ”¯ï¼Œå½“å‰åˆ†æ”¯å‰é¢ä¼šæ ‡ä¸€ä¸ª*å·ï¼‰ 123$ git branch* dev master åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ï¼š 1git merge &lt;name&gt; åˆ é™¤åˆ†æ”¯ï¼š 123git branch -d &lt;name&gt;git branch -D &lt;name&gt; ï¼ˆå¼ºè¡Œåˆ é™¤åˆ†æ”¯ï¼‰ å†²çªéœ€è¦æ ¹æ®æç¤ºæ‰‹åŠ¨è§£å†³ï¼Œæœ€å¥½ä¸è¦ä¸¤äººåœ¨åŒæ—¶å¯¹ä¸€ä¸ªæ–‡ä»¶ä¿®æ”¹ã€‚ åˆ†æ”¯ masteråˆ†æ”¯åº”è¯¥æ˜¯éå¸¸ç¨³å®šçš„ï¼Œä¹Ÿå°±æ˜¯ä»…ç”¨æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œå¹³æ—¶ä¸èƒ½åœ¨ä¸Šé¢å¹²æ´»ï¼› åœ¨devåˆ†æ”¯å¹²æ´»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œdevåˆ†æ”¯æ˜¯ä¸ç¨³å®šçš„ åˆå¹¶åˆ†æ”¯æœ€å¥½ç”¨ä¸‹é¢è¿™ç§æ–¹æ³•ï¼š 1git merge --no-ff -m \"merge with no-ff\" dev è¿™æ ·Gitå°±ä¼šåœ¨mergeæ—¶ç”Ÿæˆä¸€ä¸ªæ–°çš„commitï¼Œèƒ½çœ‹å‡ºæ¥æ›¾ç»åšè¿‡åˆå¹¶ã€‚ bugåˆ†æ”¯ï¼š ä¿®å¤bugæ—¶ï¼Œæˆ‘ä»¬ä¼šé€šè¿‡åˆ›å»ºæ–°çš„bugåˆ†æ”¯è¿›è¡Œä¿®å¤ï¼Œç„¶ååˆå¹¶ï¼Œæœ€ååˆ é™¤ï¼› å½“æ‰‹å¤´å·¥ä½œæ²¡æœ‰å®Œæˆæ—¶ï¼Œå…ˆæŠŠå·¥ä½œç°åœºgit stashä¸€ä¸‹ï¼Œç„¶åå»ä¿®å¤bugï¼Œä¿®å¤åï¼Œå†git stash popï¼Œå›åˆ°å·¥ä½œç°åœºã€‚ Featureåˆ†æ”¯ï¼ˆå¼€å‘æ–°åŠŸèƒ½ï¼‰ å¤šäººåä½œï¼šgit remote -v æŸ¥çœ‹è¿œç¨‹åº“çš„ä¿¡æ¯ å¤šäººåä½œçš„å·¥ä½œæ¨¡å¼é€šå¸¸æ˜¯è¿™æ ·ï¼š é¦–å…ˆï¼Œå¯ä»¥è¯•å›¾ç”¨git push origin branch-nameæ¨é€è‡ªå·±çš„ä¿®æ”¹ï¼› å¦‚æœæ¨é€å¤±è´¥ï¼Œåˆ™å› ä¸ºè¿œç¨‹åˆ†æ”¯æ¯”ä½ çš„æœ¬åœ°æ›´æ–°ï¼Œéœ€è¦å…ˆç”¨git pullè¯•å›¾åˆå¹¶ï¼› å¦‚æœåˆå¹¶æœ‰å†²çªï¼Œåˆ™è§£å†³å†²çªï¼Œå¹¶åœ¨æœ¬åœ°æäº¤ï¼› æ²¡æœ‰å†²çªæˆ–è€…è§£å†³æ‰å†²çªåï¼Œå†ç”¨git push origin branch-nameæ¨é€å°±èƒ½æˆåŠŸï¼ å¦‚æœgit pullæç¤ºâ€œno tracking informationâ€ï¼Œåˆ™è¯´æ˜æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„é“¾æ¥å…³ç³»æ²¡æœ‰åˆ›å»ºï¼Œç”¨å‘½ä»¤ 1git branch --set-upstream branch-name origin/branch-nameã€‚ è¿™å°±æ˜¯å¤šäººåä½œçš„å·¥ä½œæ¨¡å¼ï¼Œä¸€æ—¦ç†Ÿæ‚‰äº†ï¼Œå°±éå¸¸ç®€å•ã€‚","tags":[{"name":"git","slug":"git","permalink":"https://shleyz.github.io/tags/git/"}]},{"title":"è§£å†³webstormè¢«é™åˆ¶è¯»å†™æƒé™çš„é—®é¢˜","date":"2018-03-15T08:32:28.000Z","path":"2018/03/15/è§£å†³webstormè¢«é™åˆ¶è¯»å†™æƒé™çš„é—®é¢˜/","text":"åœ¨webstormä¸Šæ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œå‘ç°é¡¹ç›®ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸Šéƒ½å¤šäº†ä¸€ä¸ªå°é”çš„å›¾æ ‡ï¼Œå¯¹è¿™äº›æ–‡ä»¶ä¿®æ”¹æˆ–æ–°å»ºæ–‡ä»¶çš„æ—¶å€™æ€»æ˜¯å¼¹å‡ºï¼šâ€˜ cannot modify a ready-only directoryâ€™çš„å¼¹çª—ï¼Œ ç‚¹å‡»ä¿®æ”¹è¯»å†™æƒé™çš„å°é”å›¾æ ‡ï¼Œé¡µæ˜¯å¼¹å‡ºâ€˜failed to change read-only flagâ€™ã€‚ è§£å†³æ–¹æ³•ï¼š è¿è¡Œï¼š1sudo chown -R myusername my-project-folder","tags":[]},{"title":"macä¿®æ”¹hostname","date":"2017-12-13T12:10:07.000Z","path":"2017/12/13/macä¿®æ”¹hostname/","text":"ä¿®æ”¹Macç»ˆç«¯ï½å‰é¢çš„è®¡ç®—æœºåï¼š sudo scutil --set HostName temp tempæ˜¯ä½ æƒ³è¦ä¿®æ”¹æˆçš„åå­—è¾“å…¥å¯†ç å›è½¦åé‡å¯ç»ˆç«¯è®¡ç®—æœºåå°±ä¼šæ˜¾ç¤ºtempäº†ï¼","tags":[{"name":"mac","slug":"mac","permalink":"https://shleyz.github.io/tags/mac/"}]},{"title":"shellè¿›è¡Œvimæ“ä½œFound a swp file by the name","date":"2017-12-10T12:15:52.000Z","path":"2017/12/10/shellè¿›è¡Œvimæ“ä½œFound-a-swp-file-by-the-name/","text":"ç”¨vimæ‰“å¼€.bash_profileæ—¶å‡ºç°ï¼š ATTENTION Found a swap file by the name &quot;.bash_profile.swp&quot; owned by: ****** dated: ****** file name: ******* modified: YES user name: ****** host name: ******* process ID: ****** ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ åŸå› æ˜¯ä¹‹å‰vi æ“ä½œ.bash_profileæ–‡ä»¶æ—¶å‡ºç°äº†å¼‚å¸¸ä¸­æ–­ï¼Œæ‰€ä»¥åœ¨å½“å‰ç›®å½•ä¸‹äº§ç”Ÿäº†ä¸€ä¸ª.bash_profile.swpæ–‡ä»¶ ä½¿ç”¨ls -aå‘½ä»¤æŸ¥çœ‹å¯ä»¥å‘ç°è¿™ä¸ªéšè—æ–‡ä»¶ã€‚ rm .bash_profile.swp è¿™æ ·å°±ä¸ä¼šæœ‰ ATTENTION äº†","tags":[]},{"title":"pythonè·å–æŒ‡å®šç›®å½•ä»¥åŠå…¶å­ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶","date":"2017-12-05T08:24:54.000Z","path":"2017/12/05/pythonè·å–æŒ‡å®šç›®å½•ä»¥åŠå…¶å­ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶/","text":"#!/usr/bin/env python3 #-*- coding: utf-8 -*- import os def findfile(path): # è·å–æŒ‡å®špathä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ allfiles = os.listdir(path) for x in allfiles: newPath = os.path.join(path,x) if os.path.isdir(newPath): # å¦‚æœæ˜¯æ–‡ä»¶å¤¹ï¼Œå°±ç»§ç»­å¾€ä¸‹æŸ¥æ‰¾ findfile(newPath) if os.path.isfile(newPath): # å¦‚æœæ˜¯æ–‡ä»¶ï¼Œæ‰“å°å‡ºæ¥ print(newPath) #ç»å¯¹è·¯å¾„ print(newPath.split(path)[1]) # ç›¸å¯¹è·¯å¾„","tags":[]},{"title":"pythonæ“ä½œæ–‡ä»¶å’Œç›®å½•","date":"2017-12-02T07:28:27.000Z","path":"2017/12/02/pythonæ“ä½œæ–‡ä»¶å’Œç›®å½•/","text":"å¦‚ä½•åœ¨pythonä¸­è¿›è¡Œæ–‡ä»¶å’Œç›®å½•æ“ä½œå‘¢ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‘½ä»¤è¡Œè¾“å…¥æ“ä½œç³»ç»Ÿæä¾›çš„å„ç§å‘½ä»¤ã€‚ pythonå†…ç½®çš„osæ¨¡å—å¯ä»¥ç›´æ¥è°ƒç”¨æ“ä½œç³»ç»Ÿæä¾›çš„æ¥å£å‡½æ•° 1.å¼•ç”¨osæ¨¡å—åœ¨pythonäº¤äº’å‘½ä»¤è¡Œä¸­ 123&gt;&gt;&gt; import os &gt;&gt;&gt; os.name'posix' å¦‚æœç³»ç»Ÿæ˜¯Linuxï¼ŒUnixæˆ–Mac OS Xï¼Œé‚£ä¹ˆos.nameæ˜¯â€™posixâ€™å¦‚æœç³»ç»Ÿæ˜¯Windowsï¼Œé‚£ä¹ˆos.nameæ˜¯â€™ntâ€™ 2.æ“ä½œç³»ç»Ÿä¸­å®šä¹‰çš„ç¯å¢ƒå˜é‡éƒ½åœ¨os.environä¸­12&gt;&gt;&gt; os.environenviron(&#123;'TERM_PROGRAM': 'Apple_Terminal', 'SHELL': '/bin/bash', 'TERM': 'xterm-256color', 'TMPDIR': '/var/folders/jg/dr9gc8rd7y7g0pzyv3xzzp500000gn/T/', 'Apple_PubSub_Socket_Render': '/private/tmp/com.apple.launchd.LI1PfpIvgk/Render', 'TERM_PROGRAM_VERSION': '38.8.1.1', 'OLDPWD': '/Users/*****/workspace', 'TERM_SESSION_ID': '475******6', 'USER': '*****', 'SSH_AUTH_SOCK': '/private/tmp/com.apple.launchd.h8tpeio0hp/Listeners', '__CF_USER_TEXT_ENCODING': '0x1F5:0x19:0x34', 'PATH': '/anaconda3/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/anaconda3/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home/bin:/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home/jre/bin:/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home/bin:/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home/jre/bin', 'PWD': '/Users/*****/workspace/cpython', 'JAVA_HOME': '/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home', 'LANG': 'zh_CN.UTF-8', 'XPC_FLAGS': '0x0', 'XPC_SERVICE_NAME': '0', 'SHLVL': '1', 'HOME': '/Users/*****', 'LOGNAME': '*****', 'CLASSPATH': '.:/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home/lib:.:/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home', '_': '/anaconda3/bin/python3'&#125;) è¦è·å–æŸä¸ªç¯å¢ƒå˜é‡çš„å€¼ï¼Œå¯ä»¥ç”¨os.environ.get(â€˜keyâ€™): 12&gt;&gt;&gt; os.environ.get('PATH')'/anaconda3/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/anaconda3/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home/bin:/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home/jre/bin:/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home/bin:/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home/jre/bin' 3.æ“ä½œæ–‡ä»¶å’Œç›®å½•æŸ¥çœ‹å½“å‰ç»å¯¹è·¯å¾„12&gt;&gt;&gt; os.path.abspath('.')'/Users/******/Workspace/Cpython' åœ¨ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•seconddir123&gt;&gt;&gt; os.path.join('/Users/******/Workspace/Cpython','seconddir')'/Users/******/Workspace/Cpython/seconddir'&gt;&gt;&gt; os.mkdir('/Users/******/Workspace/Cpython/seconddir') åˆ é™¤ä¸€ä¸ªç›®å½•:1&gt;&gt;&gt; os.rmdir('/Users/******/Workspace/Cpython/seconddir') æ‹¼æ¥è·¯å¾„ï¼š12 &gt;&gt;&gt; os.path.join('/Users/******/Workspace','Cpython')'/Users/******/Workspace/Cpython' æ‹†åˆ†è·¯å¾„ï¼š12 &gt;&gt;&gt; os.path.split('/Users/******/Workspace/Cpython')('/Users/******/Workspace', 'Cpython') å¯¹æ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶é‡å‘½åï¼š1&gt;&gt;&gt; os.rename('seconddir','second') åˆ æ‰æ–‡ä»¶ï¼ˆå½“å‰ç›®å½•ä¸‹çš„ï¼‰1&gt;&gt;&gt; os.remove('first_test.py') åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•12 &gt;&gt;&gt; [x for x in os.listdir('.') if os.path.isdir(x)]['__pycache__', 'second'] åˆ—å‡ºæ‰€æœ‰çš„.pyæ–‡ä»¶ï¼š12&gt;&gt;&gt; [x for x in os.listdir('.') if os.path.isfile(x) and os.path.splitext(x)[1] == '.py']['first.py', 'first_test.py', 'hello.py', 'learning.py', 'module.py']","tags":[]},{"title":"å½»åº•å¼„æ‡‚javascriptæ‰§è¡Œæœºåˆ¶","date":"2017-11-28T06:05:11.000Z","path":"2017/11/28/å½»åº•å¼„æ‡‚javascriptæ‰§è¡Œæœºåˆ¶/","text":"è¿™ä¸€æ¬¡ï¼Œå½»åº•å¼„æ‡‚ JavaScript æ‰§è¡Œæœºåˆ¶","tags":[]},{"title":"pythonåŸºç¡€æ€»ç»“","date":"2017-11-26T08:11:12.000Z","path":"2017/11/26/python/","text":"1.åŸå§‹æ•°æ®ç±»å‹å’Œè¿ç®—ç¬¦(is vs. ==) is æ£€æŸ¥ä¸¤ä¸ªå˜é‡æ˜¯å¦å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡, ä½†æ˜¯ == æ£€æŸ¥æŒ‡å‘çš„å¯¹è±¡æ˜¯å¦å…·æœ‰ç›¸åŒçš„å€¼.1234567a = [1, 2, 3, 4] # Point a at a new list, [1, 2, 3, 4]b = a # Point b at what a is pointing tob is a # =&gt; True, a and b refer to the same objectb == a # =&gt; True, a's and b's objects are equalb = [1, 2, 3, 4] # Point b at a new list, [1, 2, 3, 4]b is a # =&gt; False, a and b do not refer to the same objectb == a # =&gt; True, a's and b's objects are equal å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥+ ä½†å°½é‡ä¸è¦è¿™æ ·åšã€‚1\"Hello \" + \"world!\" # =&gt; \"Hello world!\" å­—ç¬¦ä¸²æ–‡å­—ï¼ˆä½†ä¸æ˜¯å˜é‡ï¼‰å¯ä»¥è¿æ¥è€Œä¸ä½¿ç”¨â€™+â€™1\"Hello \" \"world!\" # =&gt; \"Hello world!\" å¯ä»¥å°†å­—ç¬¦ä¸²è§†ä¸ºå­—ç¬¦åˆ—è¡¨1\"This is a string\"[0] # =&gt; 'T' å­—ç¬¦ä¸²çš„é•¿åº¦1len(\"This is a string\") # =&gt; 16 .formatå¯ç”¨äºæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š12\"&#123;&#125; can be &#123;&#125;\".format(\"Strings\", \"interpolated\") # =&gt; \"Strings can be interpolated\" é‡å¤çš„format ä»¥æ–¹ä¾¿è¾“å…¥.12\"&#123;0&#125; be nimble, &#123;0&#125; be quick, &#123;0&#125; jump over the &#123;1&#125;\".format(\"Jack\", \"candle stick\")# =&gt; \"Jack be nimble, Jack be quick, Jack jump over the candle stick\" formatå¯ä»¥ä½¿ç”¨å…³é”®å­—ã€‚12\"&#123;name&#125; wants to eat &#123;food&#125;\".format(name=\"Bob\", food=\"lasagna\") # =&gt; \"Bob wants to eat lasagna\" å¦‚æœPython 3ä»£ç ä¹Ÿéœ€è¦åœ¨Python 2.5åŠæ›´ä½ç‰ˆæœ¬ä¸Šè¿è¡Œï¼Œä½ ä»ç„¶å¯ä»¥ä½¿ç”¨æ—§æ ¼å¼ï¼š12\"%s can be %s the %s way\" % (\"Strings\", \"interpolated\", \"old\") # =&gt; \"Strings can be interpolated the old way\" è¿˜å¯ä»¥ä½¿ç”¨f-stringsæˆ–æ ¼å¼åŒ–çš„å­—ç¬¦ä¸²æ–‡å­—è¿›è¡Œæ ¼å¼åŒ–ï¼ˆåœ¨Python 3.6+ä¸­ï¼‰12name = \"Reiko\"f\"She said her name is &#123;name&#125;.\" # =&gt; \"She said her name is Reiko\" å¯ä»¥å°†ä»»ä½•Pythonè¯­å¥æ”¾åœ¨å¤§æ‹¬å·å†…ï¼Œå®ƒå°†åœ¨å­—ç¬¦ä¸²ä¸­è¾“å‡ºã€‚1f\"&#123;name&#125; is &#123;len(name)&#125; characters long.\" None æ˜¯ä¸€ä¸ªå¯¹è±¡1None # =&gt; None ä¸è¦ä½¿ç”¨ç­‰å·â€œ==â€ç¬¦å·å°†å¯¹è±¡ä¸Noneè¿›è¡Œæ¯”è¾ƒï¼Œè€Œæ˜¯ä½¿ç”¨â€œisâ€ã€‚ è¿™ä¼šæ£€æŸ¥å¯¹è±¡æ ‡è¯†æ˜¯å¦ç›¸ç­‰ã€‚12\"etc\" is None # =&gt; FalseNone is None # =&gt; True None, 0å’Œç©ºå­—ç¬¦ä¸²/åˆ—è¡¨/ dicts /å…ƒç»„éƒ½è®¡ç®—ä¸ºFalseã€‚ æ‰€æœ‰å…¶ä»–å€¼å‡ä¸ºTrue12345bool(0) # =&gt; Falsebool(\"\") # =&gt; Falsebool([]) # =&gt; Falsebool(&#123;&#125;) # =&gt; Falsebool(()) # =&gt; False 2.å˜é‡å’Œé›†åˆprint æ–¹æ³•ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œprintæ–¹æ³•æœ€åæœ‰ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ä½¿ç”¨å¯é€‰å‚æ•°endæ›´æ”¹ç»“æŸå­—ç¬¦ä¸²ã€‚12345print(\"I'm Python. Nice to meet you!\") # =&gt; I'm Python. Nice to meet you!print(\"Hello, World\", end=\"!\") # =&gt; Hello, World! ä»æ§åˆ¶å°è·å–è¾“å…¥æ•°æ®1input_string_var = input(\"Enter some data: \") å˜é‡æ²¡æœ‰å£°æ˜ï¼Œåªæœ‰èµ‹å€¼ã€‚çº¦å®šå‘½åè§„åˆ™ï¼šå°å†™å’Œä¸‹åˆ’çº¿lower_case_with_underscores12some_var = 5some_var # =&gt; 5 è®¿é—®ä»¥å‰æœªåˆ†é…çš„å˜é‡ä¼šæŠ¥é”™ã€‚1some_unknown_var # å¼•å‘å¼‚å¸¸ if è¡¨è¾¾å¼ï¼Œç­‰ä»·äºä¸‰å…ƒè¿ç®—ç¬¦12\"yahoo!\" if 3 &gt; 2 else 2 # =&gt; 'yahoo!'\"yahoo!\" if 3 &gt; 4 else 2 # =&gt; 2 æ•°ç»„â€“ä½¿ç”¨appendå°†å†…å®¹æ·»åŠ åˆ°åˆ—è¡¨æœ«å°¾12345li = []li.append(1) # li is now [1]li.append(2) # li is now [1, 2]li.append(4) # li is now [1, 2, 4]li.append(3) # li is now [1, 2, 4, 3] æ•°ç»„â€“ä½¿ç”¨popä»åˆ—è¡¨æœ«å°¾åˆ é™¤1li.pop() # =&gt; 3 and li is now [1, 2, 4] æ•°ç»„â€“ä½¿ç”¨åˆ‡ç‰‡è¯­æ³•æŸ¥çœ‹èŒƒå›´ã€‚åŒ…å«èµ·å§‹ç´¢å¼•ï¼Œä¸åŒ…æ‹¬ç»“æŸç´¢å¼•12345678li = [1, 2, 4, 3] li[1:3] # =&gt; [2, 4]li[2:] # =&gt; [4, 3]li[:3] # =&gt; [1, 2, 4]li[::2] # =&gt;[1, 4] //é—´éš”è¾“å‡ºli[::-1] # =&gt; [3, 4, 2, 1] // liståè½¬reverseli[start:end:step] æ•°ç»„â€“æ•°ç»„æ‹·è´1li2 = li[:] # =&gt; li2 = [1, 2, 4, 3] but (li2 is li) will result in false. æ•°ç»„â€“ä½¿ç”¨delä»åˆ—è¡¨ä¸­åˆ é™¤ä»»æ„å…ƒç´ 1del li[2] # li is now [1, 2, 3] æ•°ç»„â€“åˆ é™¤ç¬¬ä¸€æ¬¡å‡ºç°çš„å€¼12li.remove(2) # li is now [1, 3]li.remove(2) # Raises a ValueError as 2 is not in the list æ•°ç»„â€“åœ¨ç‰¹å®šç´¢å¼•å¤„æ’å…¥å…ƒç´ 1li.insert(1, 2) # li is now [1, 2, 3] again æ•°ç»„â€“è·å–ä¸å‚æ•°åŒ¹é…çš„ç¬¬ä¸€ä¸ªé¡¹ç›®çš„ç´¢å¼•12li.index(2) # =&gt; 1li.index(4) # Raises a ValueError as 4 is not in the list æ•°ç»„â€“æ•°ç»„ç›¸åŠ ï¼ŒåŸæ•°ç»„ä¸ä¼šæ”¹å˜123li=[1, 2, 3]other_li=[4, 5, 6]li + other_li # =&gt; [1, 2, 3, 4, 5, 6] æ•°ç»„â€“inæ£€æŸ¥æ˜¯å¦å­˜åœ¨äºåˆ—è¡¨ä¸­11 in li # =&gt; True å…ƒç»„â€“å…ƒç»„ç±»ä¼¼åˆ—è¡¨ï¼Œä½†æ˜¯ä¸å¯å˜ã€‚123tup = (1, 2, 3)tup[0] # =&gt; 1tup[0] = 3 # Raises a TypeError å…ƒç»„â€“æ³¨æ„ï¼Œé•¿åº¦ä¸º1çš„å…ƒç»„å¿…é¡»åœ¨æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åä½¿ç”¨é€—å·123type((1)) # =&gt; &lt;class 'int'&gt;type((1,)) # =&gt; &lt;class 'tuple'&gt;type(()) # =&gt; &lt;class 'tuple'&gt; å…ƒç»„â€“å…ƒç»„æ“ä½œ1234a, b, c = (1, 2, 3) # a is now 1, b is now 2 and c is now 3a, *b, c = (1, 2, 3, 4) # a is now 1, b is now [2, 3] and c is now 4d, e, f = 4, 5, 6 # d is now 4, e is now 5 and f is now 6e, d = d, e # d is now 5 and e is now 4 ä¸¤ä¸ªå€¼äº¤æ¢ dictionariesâ€“é”®å€¼å¯¹å­˜å‚¨ï¼Œkeys for dictionarieså¿…é¡»æ˜¯ä¸å¯å˜ç±»å‹ã€‚ è¿™æ˜¯ä¸ºäº†ç¡®ä¿å¯ä»¥å°†å¯†é’¥è½¬æ¢ä¸ºå¸¸é‡å“ˆå¸Œå€¼ï¼Œä»¥ä¾¿å¿«é€ŸæŸ¥æ‰¾ã€‚ä¸å¯å˜ç±»å‹åŒ…æ‹¬æ•´æ•°ï¼Œæµ®ç‚¹æ•°ï¼Œå­—ç¬¦ä¸²ï¼Œå…ƒç»„ã€‚ä½†æ˜¯ï¼Œå€¼å¯ä»¥æ˜¯ä»»ä½•ç±»å‹12345empty_dict = &#123;&#125;filled_dict = &#123;\"one\": 1, \"two\": 2, \"three\": 3&#125;invalid_dict = &#123;[1,2,3]: \"123\"&#125; # =&gt; Raises a TypeError: unhashable type: 'list'valid_dict = &#123;(1,2,3):[1,2,3]&#125; filled_dict[\"one\"] # =&gt; 1 dictionariesâ€“ä½¿ç”¨â€œkeysï¼ˆï¼‰â€è·å–æ‰€æœ‰keysã€‚ ä½¿ç”¨â€œvalues()â€è·å–æ‰€æœ‰çš„å€¼ï¼Œéœ€è¦ç”¨listï¼ˆï¼‰åŒ…è£…è°ƒç”¨ä»¥å°†å…¶è½¬æ¢ä¸ºåˆ—è¡¨ã€‚ æ³¨ - å¯¹äºPythonç‰ˆæœ¬&lt;3.7ï¼Œä¸ä¿è¯å­—å…¸é”®æ’åºã€‚ ä½†æ˜¯ï¼Œä»Python 3.7å¼€å§‹ï¼Œå­—å…¸é¡¹ä¿æŒå®ƒä»¬æ’å…¥å­—å…¸çš„é¡ºåºã€‚1234567list(filled_dict.keys()) # =&gt; [\"three\", \"two\", \"one\"] in Python &lt;3.7list(filled_dict.keys()) # =&gt; [\"one\", \"two\", \"three\"] in Python 3.7+list(filled_dict.values()) # =&gt; [3, 2, 1] in Python &lt;3.7list(filled_dict.values()) # =&gt; [1, 2, 3] in Python 3.7+\"one\" in filled_dict # =&gt; True1 in filled_dict # =&gt; False dictionariesâ€“æŸ¥æ‰¾ä¸å­˜åœ¨çš„keyå€¼ä¼šæŠ¥é”™ï¼Œä½¿ç”¨getä¸ä¼šæŠ¥é”™123filled_dict[\"four\"] # KeyErrorfilled_dict.get(\"one\") # =&gt; 1filled_dict.get(\"four\") # =&gt; None dictionariesâ€“getæ–¹æ³•è®¾ç½®é»˜è®¤å‚æ•°ï¼Œå¦‚æœæŸ¥è¯¢ä¸åˆ°keyå¯¹åº”çš„å€¼ï¼Œåˆ™è¿”å›é»˜è®¤å‚æ•°12filled_dict.get(\"one\", 4) # =&gt; 1filled_dict.get(\"four\", 4) # =&gt; 4 dictionariesâ€“setdefaultï¼ˆï¼‰ä»…åœ¨ç»™å®šé”®ä¸å­˜åœ¨æ—¶æ‰æ’å…¥å­—å…¸12filled_dict.setdefault(\"five\", 5) # filled_dict[\"five\"] is set to 5filled_dict.setdefault(\"five\", 6) # filled_dict[\"five\"] is still 5 dictionariesâ€“å‘å­—å…¸ä¸­æ·»åŠ å’Œåˆ é™¤123filled_dict.update(&#123;\"four\":4&#125;) # =&gt; &#123;\"one\": 1, \"two\": 2, \"three\": 3, \"four\": 4&#125;filled_dict[\"four\"] = 4 # another way to add to dictdel filled_dict[\"one\"] # Removes the key \"one\" from filled dict set() å‡½æ•°åˆ›å»ºä¸€ä¸ªæ— åºä¸é‡å¤å…ƒç´ é›†ï¼Œå¯è¿›è¡Œå…³ç³»æµ‹è¯•ï¼Œåˆ é™¤é‡å¤æ•°æ®ï¼Œè¿˜å¯ä»¥è®¡ç®—äº¤é›†ã€å·®é›†ã€å¹¶é›†ç­‰ã€‚12empty_set = set()some_set = &#123;1, 1, 2, 2, 3, 4&#125; # some_set is now &#123;1, 2, 3, 4&#125; setâ€“ä¸å­—å…¸çš„é”®ç±»ä¼¼ï¼Œé›†åˆçš„å…ƒç´ å¿…é¡»æ˜¯ä¸å¯å˜çš„ã€‚12345invalid_set = &#123;[1], 1&#125; # =&gt; Raises a TypeError: unhashable type: 'list'valid_set = &#123;(1,), 1&#125;filled_set = &#123;1, 2, 3, 4&#125;filled_set.add(5) # filled_set is now &#123;1, 2, 3, 4, 5&#125;filled_set.add(5) # it remains as before &#123;1, 2, 3, 4, 5&#125; setâ€“ä¸ï¼†è®¾ç½®äº¤é›†12other_set = &#123;3, 4, 5, 6&#125;filled_set &amp; other_set # =&gt; &#123;3, 4, 5&#125; setâ€“ç”¨|è®¾ç½®å¹¶é›†1filled_set | other_set # =&gt; &#123;1, 2, 3, 4, 5, 6&#125; setâ€“ç”¨-è®¾ç½®å·®é›†12&#123;1, 2, 3, 4&#125; - &#123;2, 3, 5&#125; # =&gt; &#123;1, 4&#125;&#123;2, 3, 5&#125; - &#123;1, 2, 3, 4&#125; # =&gt; &#123;5&#125; setâ€“ç”¨^è®¾ç½®å¯¹ç§°å·®é›†1&#123;1, 2, 3, 4&#125; ^ &#123;2, 3, 5&#125; # =&gt; &#123;1, 4, 5&#125; setâ€“æ£€æŸ¥å·¦ä¾§çš„è®¾ç½®æ˜¯å¦æ˜¯å³ä¾§è®¾ç½®çš„è¶…é›†1&#123;1, 2&#125; &gt;= &#123;1, 2, 3&#125; # =&gt; False setâ€“æ£€æŸ¥å·¦ä¾§çš„setæ˜¯å¦æ˜¯å³ä¾§setçš„å­é›†1&#123;1, 2&#125; &lt;= &#123;1, 2, 3&#125; # =&gt; True setâ€“inæ£€æŸ¥æ˜¯å¦å­˜åœ¨122 in filled_set # =&gt; True10 in filled_set # =&gt; False 3.æ§åˆ¶æµå’Œå¾ªç¯ifè¯­å¥ã€‚ç¼©è¿›åœ¨Pythonä¸­å¾ˆé‡è¦ï¼çº¦å®šæ˜¯ä½¿ç”¨å››ä¸ªç©ºæ ¼ï¼Œè€Œä¸æ˜¯åˆ¶è¡¨ç¬¦ã€‚1234567some_var = 5if some_var &gt; 10: print(\"some_var is totally bigger than 10.\")elif some_var &lt; 10: # This elif clause is optional. print(\"some_var is smaller than 10.\")else: # This is optional too. print(\"some_var is indeed 10.\") forå¾ªç¯12for animal in [\"dog\", \"cat\", \"mouse\"]: print(\"&#123;&#125; is a mammal\".format(animal)) for in ä¾¿å†(rangeè¿”å›å¯è¿­ä»£çš„æ•°å­—,ä»å°åˆ°å¤§)12345678for i in range(4): print(i) # 1 2 3 4for i in range(4, 8): print(i) # 4 5 6 7for i in range(4, 8, 2): print(i) # 4 6 while å¾ªç¯1234x = 0while x &lt; 4: print(x) x += 1 # 0 1 2 3 ä½¿ç”¨try / exceptå—å¤„ç†å¼‚å¸¸1234567891011try: # Use \"raise\" to raise an error raise IndexError(\"This is an index error\")except IndexError as e: pass # Pass is just a no-op. Usually you would do recovery here.except (TypeError, NameError): pass # Multiple exceptions can be handled together, if required.else: # Optional clause to the try/except block. Must follow all except blocks print(\"All good!\") # Runs only if the code in try raises no exceptionsfinally: # Execute under all circumstances print(\"We can clean up resources here\") 4.Functionsä½¿ç”¨â€œdefâ€åˆ›å»ºæ–°æ–¹æ³•123456def add(x, y): print(\"x is &#123;&#125; and y is &#123;&#125;\".format(x, y)) return x + y add(5, 6) # =&gt; prints out \"x is 5 and y is 6\" and returns 11add(y=6, x=5) # =&gt; prints out \"x is 5 and y is 6\" and returns 11 å¯å˜æ•°é‡çš„å‚æ•°12345def manyArgs(*args): print(args) return args manyArgs(1, 2, 3, 4, 5) # =&gt; prints out \"(1, 2, 3, 4, 5)\" and returns (1, 2, 3, 4, 5) å¯å˜æ•°é‡çš„å…³é”®å­—å‚æ•°12345def keyword_args(**kwargs):return kwargs# Let's call it to see what happenskeyword_args(big=\"foot\", loch=\"ness\") # =&gt; &#123;\"big\": \"foot\", \"loch\": \"ness\"&#125; åŒæ—¶ä¼  å¯å˜æ•°é‡çš„å‚æ•° å’Œ å¯å˜æ•°é‡çš„å…³é”®å­—å‚æ•°1234567891011121314def all_the_args(*args, **kwargs): print(args) print(kwargs)all_the_args(1, 2, a=3, b=4) prints:(1, 2)&#123;\"a\": 3, \"b\": 4&#125; args = (1, 2, 3, 4)kwargs = &#123;\"a\": 3, \"b\": 4&#125;all_the_args(*args) # equivalent to all_the_args(1, 2, 3, 4)all_the_args(**kwargs) # equivalent to all_the_args(a=3, b=4)all_the_args(*args, **kwargs) # equivalent to all_the_args(1, 2, 3, 4, a=3, b=4) è¿”å›å¤šä¸ªå€¼ï¼ˆä»¥å…ƒç¥–çš„å½¢å¼ï¼Œ å€¼ä¸å¯å˜ï¼‰123456def swap(x, y):return y, x # å°†å¤šä¸ªå€¼ä½œä¸ºå…ƒç»„è¿”å›ï¼Œä¸å¸¦æ‹¬å·ã€‚(æ³¨æ„ï¼šæ‹¬å·å·²è¢«æ’é™¤ï¼Œä½†å¯ä»¥åŒ…æ‹¬åœ¨å†…x = 1y = 2x, y = swap(x, y) # =&gt; x = 2, y = 1 å‡½æ•°ä½œç”¨åŸŸ, å±€éƒ¨å˜é‡xä¸å…¨å±€å˜é‡x123456789101112131415x = 5def set_x(num): # Local var x not the same as global variable x x = num # =&gt; 43 print(x) # =&gt; 43def set_global_x(num): global x print(x) # =&gt; 5 x = num # global var x is now set to 6 print(x) # =&gt; 6set_x(43)set_global_x(6) åŒ¿åå‡½æ•°12(lambda x: x &gt; 2)(3) # =&gt; True(lambda x, y: x ** 2 + y ** 2)(2, 1) # =&gt; 5 python è¿˜æœ‰å¾ˆå¤šå†…ç½®çš„é«˜é˜¶å‡½æ•°12345list(map(max, [1, 2, 3], [4, 2, 1])) # =&gt; [4, 2, 3]list(filter(lambda x: x &gt; 5, [3, 4, 5, 6, 7])) # =&gt; [6, 7][x for x in [3, 4, 5, 6, 7] if x &gt; 5] # =&gt; [6, 7]&#123;x for x in 'abcddeef' if x not in 'abc'&#125; # =&gt; &#123;'d', 'e', 'f'&#125;&#123;x: x**2 for x in range(5)&#125; # =&gt; &#123;0: 0, 1: 1, 2: 4, 3: 9, 4: 16&#125; 5.æ¨¡å—Modules123456789import mathprint(math.sqrt(16)) # =&gt; 4.0from math import ceil, floorprint(ceil(3.7)) # =&gt; 4.0print(floor(3.7)) # =&gt; 3.0import math as mmath.sqrt(16) == m.sqrt(16) # =&gt; True æŸ¥çœ‹æ¨¡å—çš„åŠŸèƒ½å’Œå±æ€§12import mathdir(math) 6.ç±»Class12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182# åˆ›å»ºä¸€ä¸ªç±»class Human: # ä¸€ä¸ªç±»å±æ€§ã€‚ å®ƒç”±æ­¤ç±»çš„æ‰€æœ‰å®ä¾‹å…±äº« species = \"H. sapiens\" # åŸºæœ¬åˆå§‹å€¼è®¾å®šé¡¹ï¼Œåœ¨å®ä¾‹åŒ–æ­¤ç±»æ—¶è°ƒç”¨ã€‚è¯·æ³¨æ„ï¼ŒåŒå‰å¯¼å’Œå°¾éšä¸‹åˆ’çº¿è¡¨ç¤ºPythonä½¿ç”¨ä½†å­˜åœ¨äºç”¨æˆ·æ§åˆ¶çš„å‘½åç©ºé—´ä¸­çš„å¯¹è±¡æˆ–å±æ€§,æ–¹æ³•ï¼ˆæˆ–å¯¹è±¡æˆ–å±æ€§ï¼‰ï¼Œå¦‚ï¼š__ init__ï¼Œ__ ttr__ï¼Œ__repr__ etc.è¢«ç§°ä¸ºç‰¹æ®Šæ–¹æ³•ï¼ˆæˆ–æœ‰æ—¶ç§°ä¸ºdunderæ–¹æ³•ï¼‰ä¸åº”è¯¥è‡ªå·±åˆ›å»ºè¿™äº›åç§°ã€‚ def __init__(self, name): # å°†å‚æ•°åˆ†é…ç»™å®ä¾‹çš„nameå±æ€§ self.name = name # åˆå§‹åŒ–å±æ€§ self._age = 0 # å®ä¾‹æ–¹æ³•ã€‚ æ‰€æœ‰æ–¹æ³•éƒ½å°†â€œselfâ€ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•° def say(self, msg): print(\"&#123;name&#125;: &#123;message&#125;\".format(name=self.name, message=msg)) # å¦ä¸€ç§å®ä¾‹æ–¹æ³• def sing(self): return 'yo... yo... microphone check... one two... one two...' # æ‰€æœ‰å®ä¾‹å…±äº«ä¸€ä¸ªç±»æ–¹æ³•,å®ƒä»¬ä»¥è°ƒç”¨ç±»ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°è°ƒç”¨ @classmethod def get_species(cls): return cls.species # åœ¨æ²¡æœ‰ç±»æˆ–å®ä¾‹å¼•ç”¨çš„æƒ…å†µä¸‹è°ƒç”¨é™æ€æ–¹æ³• @staticmethod def grunt(): return \"*grunt*\" # ä¸€ä¸ªå±æ€§å°±åƒä¸€ä¸ªgetter.å®ƒå°†æ–¹æ³•ageï¼ˆï¼‰è½¬æ¢ä¸ºåŒåçš„åªè¯»å±æ€§ã€‚æ²¡æœ‰å¿…è¦åœ¨Pythonä¸­ç¼–å†™çç¢çš„getterå’Œsetterã€‚ @property def age(self): return self._age # å…è®¸è®¾ç½®å±æ€§ @age.setter def age(self, age): self._age = age # å…è®¸åˆ é™¤å±æ€§ @age.deleter def age(self): del self._age# å½“Pythonè§£é‡Šå™¨è¯»å–æºæ–‡ä»¶æ—¶ï¼Œå®ƒä¼šæ‰§è¡Œæ‰€æœ‰ä»£ç ã€‚__name__æ£€æŸ¥ç¡®ä¿ä»…åœ¨æ­¤æ¨¡å—æ˜¯ä¸»ç¨‹åºæ—¶æ‰æ‰§è¡Œæ­¤ä»£ç å—ã€‚if __name__ == '__main__': # å®ä¾‹åŒ–ä¸€ä¸ªç±» i = Human(name=\"Ian\") i.say(\"hi\") # \"Ian: hi\" j = Human(\"Joel\") j.say(\"hello\") # \"Joel: hello\" # iå’Œjæ˜¯Humanç±»å‹çš„å®ä¾‹ï¼Œæ¢å¥è¯è¯´ï¼šå®ƒä»¬æ˜¯Humanå¯¹è±¡ # è°ƒç”¨æˆ‘ä»¬çš„ç±»æ–¹æ³• i.say(i.get_species()) # \"Ian: H. sapiens\" # æ›´æ”¹å…±äº«å±æ€§ Human.species = \"H. neanderthalensis\" i.say(i.get_species()) # =&gt; \"Ian: H. neanderthalensis\" j.say(j.get_species()) # =&gt; \"Joel: H. neanderthalensis\" # è°ƒç”¨é™æ€æ–¹æ³• print(Human.grunt()) # =&gt; \"*grunt*\" # æ— æ³•ä½¿ç”¨å¯¹è±¡å®ä¾‹è°ƒç”¨é™æ€æ–¹æ³• # å› ä¸ºi.gruntï¼ˆï¼‰ä¼šè‡ªåŠ¨å°†â€œselfâ€ï¼ˆå¯¹è±¡iï¼‰ä½œä¸ºå‚æ•° print(i.grunt()) # =&gt; TypeError: grunt() takes 0 positional arguments but 1 was given # æ›´æ–°æ­¤å®ä¾‹çš„å±æ€§ i.age = 42 # è·å–å±æ€§ i.say(i.age) # =&gt; \"Ian: 42\" j.say(j.age) # =&gt; \"Joel: 0\" # åˆ é™¤è¯¥å±æ€§ del i.age # i.age # =&gt; this would raise an AttributeError inheritanceç±»çš„ç»§æ‰¿","tags":[]},{"title":"pythonå‚æ•°","date":"2017-11-25T05:11:12.000Z","path":"2017/11/25/pythonå‚æ•°/","text":"æ–‡ç« å‡ºè‡ª èœæ¯”ä¹‹è·¯ pythonå‚æ•°*ä¸**å¯å˜å‚æ•°åœ¨Pythonå‡½æ•°ä¸­ï¼Œè¿˜å¯ä»¥å®šä¹‰å¯å˜å‚æ•°ã€‚é¡¾åæ€ä¹‰ï¼Œå¯å˜å‚æ•°å°±æ˜¯ä¼ å…¥çš„å‚æ•°ä¸ªæ•°æ˜¯å¯å˜çš„ï¼Œå¯ä»¥æ˜¯1ä¸ªã€2ä¸ªåˆ°ä»»æ„ä¸ªï¼Œè¿˜å¯ä»¥æ˜¯0ä¸ªã€‚ æˆ‘ä»¬ä»¥æ•°å­¦é¢˜ä¸ºä¾‹å­ï¼Œç»™å®šä¸€ç»„æ•°å­—aï¼Œbï¼Œcâ€¦â€¦ï¼Œè¯·è®¡ç®—a2 + b2 + c2 + â€¦â€¦ã€‚ è¦å®šä¹‰å‡ºè¿™ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¿…é¡»ç¡®å®šè¾“å…¥çš„å‚æ•°ã€‚ç”±äºå‚æ•°ä¸ªæ•°ä¸ç¡®å®šï¼Œæˆ‘ä»¬é¦–å…ˆæƒ³åˆ°å¯ä»¥æŠŠaï¼Œbï¼Œcâ€¦â€¦ä½œä¸ºä¸€ä¸ªlistæˆ–tupleä¼ è¿›æ¥ï¼Œè¿™æ ·ï¼Œå‡½æ•°å¯ä»¥å®šä¹‰å¦‚ä¸‹ï¼š 12345def calc(numbers): sum = 0 for n in numbers: sum = sum + n * n return sum ä½†æ˜¯è°ƒç”¨çš„æ—¶å€™ï¼Œéœ€è¦å…ˆç»„è£…å‡ºä¸€ä¸ªlistæˆ–tupleï¼š 1234&gt;&gt;&gt; calc([1, 2, 3])14&gt;&gt;&gt; calc((1, 3, 5, 7))84 å¦‚æœåˆ©ç”¨å¯å˜å‚æ•°ï¼Œè°ƒç”¨å‡½æ•°çš„æ–¹å¼å¯ä»¥ç®€åŒ–æˆè¿™æ ·ï¼š 1234&gt;&gt;&gt; calc(1, 2, 3)14&gt;&gt;&gt; calc(1, 3, 5, 7)84 æ‰€ä»¥ï¼Œæˆ‘ä»¬æŠŠå‡½æ•°çš„å‚æ•°æ”¹ä¸ºå¯å˜å‚æ•°ï¼š 12345def calc(*numbers): sum = 0 for n in numbers: sum = sum + n * n return sum å®šä¹‰å¯å˜å‚æ•°å’Œå®šä¹‰listæˆ–tupleå‚æ•°ç›¸æ¯”ï¼Œä»…ä»…åœ¨å‚æ•°å‰é¢åŠ äº†ä¸€ä¸ª*å·ã€‚åœ¨å‡½æ•°å†…éƒ¨ï¼Œå‚æ•°numbersæ¥æ”¶åˆ°çš„æ˜¯ä¸€ä¸ªtupleï¼Œå› æ­¤ï¼Œå‡½æ•°ä»£ç å®Œå…¨ä¸å˜ã€‚ä½†æ˜¯ï¼Œè°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œå¯ä»¥ä¼ å…¥ä»»æ„ä¸ªå‚æ•°ï¼ŒåŒ…æ‹¬0ä¸ªå‚æ•°ï¼š 1234&gt;&gt;&gt; calc(1, 2)5&gt;&gt;&gt; calc()0 å¦‚æœå·²ç»æœ‰ä¸€ä¸ªlistæˆ–è€…tupleï¼Œè¦è°ƒç”¨ä¸€ä¸ªå¯å˜å‚æ•°æ€ä¹ˆåŠï¼Ÿå¯ä»¥è¿™æ ·åšï¼š 123&gt;&gt;&gt; nums = [1, 2, 3]&gt;&gt;&gt; calc(nums[0], nums[1], nums[2])14 è¿™ç§å†™æ³•å½“ç„¶æ˜¯å¯è¡Œçš„ï¼Œé—®é¢˜æ˜¯å¤ªç¹çï¼Œæ‰€ä»¥Pythonå…è®¸ä½ åœ¨listæˆ–tupleå‰é¢åŠ ä¸€ä¸ª*å·ï¼ŒæŠŠlistæˆ–tupleçš„å…ƒç´ å˜æˆå¯å˜å‚æ•°ä¼ è¿›å»ï¼š 123&gt;&gt;&gt; nums = [1, 2, 3]&gt;&gt;&gt; calc(*nums)14 è¿™ç§å†™æ³•ç›¸å½“æœ‰ç”¨ï¼Œè€Œä¸”å¾ˆå¸¸è§ã€‚ å…³é”®å­—å‚æ•°å¯å˜å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå‚æ•°ï¼Œè¿™äº›å¯å˜å‚æ•°åœ¨å‡½æ•°è°ƒç”¨æ—¶è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªtupleã€‚è€Œå…³é”®å­—å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå«å‚æ•°åçš„å‚æ•°ï¼Œè¿™äº›å…³é”®å­—å‚æ•°åœ¨å‡½æ•°å†…éƒ¨è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªdictã€‚è¯·çœ‹ç¤ºä¾‹ï¼š 12def person(name, age, **kw): print 'name:', name, 'age:', age, 'other:', kw å‡½æ•°personé™¤äº†å¿…é€‰å‚æ•°nameå’Œageå¤–ï¼Œè¿˜æ¥å—å…³é”®å­—å‚æ•°kwã€‚åœ¨è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œå¯ä»¥åªä¼ å…¥å¿…é€‰å‚æ•°ï¼š 12&gt;&gt;&gt; person('Michael', 30)name: Michael age: 30 other: &#123;&#125; ä¹Ÿå¯ä»¥ä¼ å…¥ä»»æ„ä¸ªæ•°çš„å…³é”®å­—å‚æ•°ï¼š 1234&gt;&gt;&gt; person('Bob', 35, city='Beijing')name: Bob age: 35 other: &#123;'city': 'Beijing'&#125;&gt;&gt;&gt; person('Adam', 45, gender='M', job='Engineer')name: Adam age: 45 other: &#123;'gender': 'M', 'job': 'Engineer'&#125; å…³é”®å­—å‚æ•°æœ‰ä»€ä¹ˆç”¨ï¼Ÿå®ƒå¯ä»¥æ‰©å±•å‡½æ•°çš„åŠŸèƒ½ã€‚æ¯”å¦‚ï¼Œåœ¨personå‡½æ•°é‡Œï¼Œæˆ‘ä»¬ä¿è¯èƒ½æ¥æ”¶åˆ°nameå’Œageè¿™ä¸¤ä¸ªå‚æ•°ï¼Œä½†æ˜¯ï¼Œå¦‚æœè°ƒç”¨è€…æ„¿æ„æä¾›æ›´å¤šçš„å‚æ•°ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½æ”¶åˆ°ã€‚è¯•æƒ³ä½ æ­£åœ¨åšä¸€ä¸ªç”¨æˆ·æ³¨å†Œçš„åŠŸèƒ½ï¼Œé™¤äº†ç”¨æˆ·åå’Œå¹´é¾„æ˜¯å¿…å¡«é¡¹å¤–ï¼Œå…¶ä»–éƒ½æ˜¯å¯é€‰é¡¹ï¼Œåˆ©ç”¨å…³é”®å­—å‚æ•°æ¥å®šä¹‰è¿™ä¸ªå‡½æ•°å°±èƒ½æ»¡è¶³æ³¨å†Œçš„éœ€æ±‚ã€‚ å’Œå¯å˜å‚æ•°ç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥å…ˆç»„è£…å‡ºä¸€ä¸ªdictï¼Œç„¶åï¼ŒæŠŠè¯¥dictè½¬æ¢ä¸ºå…³é”®å­—å‚æ•°ä¼ è¿›å»ï¼š 123&gt;&gt;&gt; kw = &#123;'city': 'Beijing', 'job': 'Engineer'&#125;&gt;&gt;&gt; person('Jack', 24, city=kw['city'], job=kw['job'])name: Jack age: 24 other: &#123;'city': 'Beijing', 'job': 'Engineer'&#125; å½“ç„¶ï¼Œä¸Šé¢å¤æ‚çš„è°ƒç”¨å¯ä»¥ç”¨ç®€åŒ–çš„å†™æ³•ï¼š 123&gt;&gt;&gt; kw = &#123;'city': 'Beijing', 'job': 'Engineer'&#125;&gt;&gt;&gt; person('Jack', 24, **kw)name: Jack age: 24 other: &#123;'city': 'Beijing', 'job': 'Engineer'&#125; å‚æ•°ç»„åˆåœ¨Pythonä¸­å®šä¹‰å‡½æ•°ï¼Œå¯ä»¥ç”¨å¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°ï¼Œè¿™4ç§å‚æ•°éƒ½å¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼Œæˆ–è€…åªç”¨å…¶ä¸­æŸäº›ï¼Œä½†æ˜¯è¯·æ³¨æ„ï¼Œå‚æ•°å®šä¹‰çš„é¡ºåºå¿…é¡»æ˜¯ï¼šå¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°ã€‚ æ¯”å¦‚å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼ŒåŒ…å«ä¸Šè¿°4ç§å‚æ•°ï¼š 12def func(a, b, c=0, *args, **kw): print 'a =', a, 'b =', b, 'c =', c, 'args =', args, 'kw =', kw åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼ŒPythonè§£é‡Šå™¨è‡ªåŠ¨æŒ‰ç…§å‚æ•°ä½ç½®å’Œå‚æ•°åæŠŠå¯¹åº”çš„å‚æ•°ä¼ è¿›å»ã€‚ 12345678&gt;&gt;&gt; func(1, 2)a = 1 b = 2 c = 0 args = () kw = &#123;&#125;&gt;&gt;&gt; func(1, 2, c=3)a = 1 b = 2 c = 3 args = () kw = &#123;&#125;&gt;&gt;&gt; func(1, 2, 3, 'a', 'b')a = 1 b = 2 c = 3 args = ('a', 'b') kw = &#123;&#125;&gt;&gt;&gt; func(1, 2, 3, 'a', 'b', x=99)a = 1 b = 2 c = 3 args = ('a', 'b') kw = &#123;'x': 99&#125; æœ€ç¥å¥‡çš„æ˜¯é€šè¿‡ä¸€ä¸ªtupleå’Œdictï¼Œä½ ä¹Ÿå¯ä»¥è°ƒç”¨è¯¥å‡½æ•°ï¼š 1234&gt;&gt;&gt; args = (1, 2, 3, 4)&gt;&gt;&gt; kw = &#123;'x': 99&#125;&gt;&gt;&gt; func(*args, **kw)a = 1 b = 2 c = 3 args = (4,) kw = &#123;'x': 99&#125; æ‰€ä»¥ï¼Œå¯¹äºä»»æ„å‡½æ•°ï¼Œéƒ½å¯ä»¥é€šè¿‡ç±»ä¼¼func(*args, **kw)çš„å½¢å¼è°ƒç”¨å®ƒï¼Œæ— è®ºå®ƒçš„å‚æ•°æ˜¯å¦‚ä½•å®šä¹‰çš„ã€‚ å°ç»“Pythonçš„å‡½æ•°å…·æœ‰éå¸¸çµæ´»çš„å‚æ•°å½¢æ€ï¼Œæ—¢å¯ä»¥å®ç°ç®€å•çš„è°ƒç”¨ï¼Œåˆå¯ä»¥ä¼ å…¥éå¸¸å¤æ‚çš„å‚æ•°ã€‚ é»˜è®¤å‚æ•°ä¸€å®šè¦ç”¨ä¸å¯å˜å¯¹è±¡ï¼Œå¦‚æœæ˜¯å¯å˜å¯¹è±¡ï¼Œè¿è¡Œä¼šæœ‰é€»è¾‘é”™è¯¯ï¼ è¦æ³¨æ„å®šä¹‰å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°çš„è¯­æ³•ï¼š *argsæ˜¯å¯å˜å‚æ•°ï¼Œargsæ¥æ”¶çš„æ˜¯ä¸€ä¸ªtupleï¼› **kwæ˜¯å…³é”®å­—å‚æ•°ï¼Œkwæ¥æ”¶çš„æ˜¯ä¸€ä¸ªdictã€‚ ä»¥åŠè°ƒç”¨å‡½æ•°æ—¶å¦‚ä½•ä¼ å…¥å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°çš„è¯­æ³•ï¼š å¯å˜å‚æ•°æ—¢å¯ä»¥ç›´æ¥ä¼ å…¥ï¼šfunc(1, 2, 3)ï¼Œåˆå¯ä»¥å…ˆç»„è£…listæˆ–tupleï¼Œå†é€šè¿‡*argsä¼ å…¥ï¼šfunc(*(1, 2, 3))ï¼› å…³é”®å­—å‚æ•°æ—¢å¯ä»¥ç›´æ¥ä¼ å…¥ï¼šfunc(a=1, b=2)ï¼Œåˆå¯ä»¥å…ˆç»„è£…dictï¼Œå†é€šè¿‡**kwä¼ å…¥ï¼šfunc(**{â€˜aâ€™: 1, â€˜bâ€™: 2})ã€‚ ä½¿ç”¨*argså’Œ**kwæ˜¯Pythonçš„ä¹ æƒ¯å†™æ³•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨å…¶ä»–å‚æ•°åï¼Œä½†æœ€å¥½ä½¿ç”¨ä¹ æƒ¯ç”¨æ³•ã€‚","tags":[]},{"title":"javascriptç»„ä»¶åŒ–","date":"2017-10-28T12:46:39.000Z","path":"2017/10/28/javascriptç»„ä»¶åŒ–/","text":"æ–‡ç« æ¥æºäºpurplebambooçš„åšå®¢ï¼šhttps://github.com/purplebamboo/blog/issues/16 ä½œä¸ºä¸€åå‰ç«¯å·¥ç¨‹å¸ˆï¼Œå†™ç»„ä»¶çš„èƒ½åŠ›è‡³å…³é‡è¦ã€‚è™½ç„¶javascriptç»å¸¸è¢«äººå˜²ç¬‘æ˜¯ä¸ªå°ç©å…·ï¼Œä½†æ˜¯åœ¨ä¸€ä»£ä»£å¤§ç‰›çš„å‰ä»†åç»§çš„åŠªåŠ›ä¸‹ï¼Œæ¸æ¸çš„ä¹Ÿæ‘¸ç´¢äº†ä¸€å¥—ç»„ä»¶çš„ç¼–å†™æ–¹å¼ã€‚ ä¸‹é¢æˆ‘ä»¬æ¥è°ˆè°ˆï¼Œåœ¨ç°æœ‰çš„çŸ¥è¯†ä½“ç³»ä¸‹ï¼Œå¦‚ä½•å¾ˆå¥½çš„å†™ç»„ä»¶ã€‚ æ¯”å¦‚æˆ‘ä»¬è¦å®ç°è¿™æ ·ä¸€ä¸ªç»„ä»¶ï¼Œå°±æ˜¯ä¸€ä¸ªè¾“å…¥æ¡†é‡Œé¢å­—æ•°çš„è®¡æ•°ã€‚è¿™ä¸ªåº”è¯¥æ˜¯ä¸ªå¾ˆç®€å•çš„éœ€æ±‚ã€‚ æˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œä¸‹é¢çš„å„ç§å†™æ³•ã€‚ ä¸ºäº†æ›´æ¸…æ¥šçš„æ¼”ç¤ºï¼Œä¸‹é¢å…¨éƒ¨ä½¿ç”¨jQueryä½œä¸ºåŸºç¡€è¯­è¨€åº“ã€‚ æœ€ç®€é™‹çš„å†™æ³• å—¯ æ‰€è°“çš„å…¥é—¨çº§å†™æ³•å‘¢ï¼Œå°±æ˜¯å®Œå®Œå…¨å…¨çš„å…¨å±€å‡½æ•°å…¨å±€å˜é‡çš„å†™æ³•ã€‚ï¼ˆå°±æˆ‘æ‰€çŸ¥ï¼Œç°åœ¨å¥½å¤šå¤–åŒ…è¿˜æ˜¯è¿™ç§å†™æ³•ï¼‰ ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=\"utf-8\"&gt; &lt;title&gt;test&lt;/title&gt; &lt;script src=\"http://code.jquery.com/jquery-1.9.1.min.js\"&gt;&lt;/script&gt; &lt;script&gt; $(function() &#123; var input = $('#J_input'); // ç”¨æ¥è·å–å­—æ•° function getNum()&#123; return input.val().length; &#125; // æ¸²æŸ“å…ƒç´  function render()&#123; var num = getNum(); // æ²¡æœ‰å­—æ•°çš„å®¹å™¨å°±æ–°å»ºä¸€ä¸ª if ($('#J_input_count').length == 0) &#123; input.after('&lt;span id=\"J_input_count\"&gt;&lt;/span&gt;'); &#125;; $('#J_input_count').html(num+'ä¸ªå­—'); &#125; // ç›‘å¬äº‹ä»¶ input.on('keyup',function()&#123; render(); &#125;); // åˆå§‹åŒ–ï¼Œç¬¬ä¸€æ¬¡æ¸²æŸ“ render(); &#125;) &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;input type=\"text\" id=\"J_input\"/&gt;&lt;/body&gt;&lt;/html&gt; è¿™æ®µä»£ç è·‘ä¹Ÿæ˜¯å¯ä»¥è·‘çš„ï¼Œä½†æ˜¯å‘¢ï¼Œå„ç§å˜é‡æ··ä¹±ï¼Œæ²¡æœ‰å¾ˆå¥½çš„éš”ç¦»ä½œç”¨åŸŸ,å½“é¡µé¢å˜çš„å¤æ‚çš„æ—¶å€™,ä¼šå¾ˆéš¾å»ç»´æŠ¤ã€‚ç›®å‰è¿™ç§ä»£ç åŸºæœ¬æ˜¯ç”¨ä¸äº†çš„ã€‚å½“ç„¶å°‘æ•°çš„æ´»åŠ¨é¡µé¢å¯ä»¥ç®€å•ç”¨ç”¨ã€‚ ä½œç”¨åŸŸéš”ç¦» è®©æˆ‘ä»¬å¯¹ä¸Šé¢çš„ä»£ç ä½œäº›æ”¹åŠ¨ï¼Œä½¿ç”¨å•ä¸ªå˜é‡æ¨¡æ‹Ÿå‘½åç©ºé—´ã€‚ 12345678910111213141516171819202122232425262728293031var textCount = &#123; input:null, init:function(config)&#123; this.input = $(config.id); this.bind(); // è¿™è¾¹èŒƒå›´å¯¹åº”çš„å¯¹è±¡ï¼Œå¯ä»¥å®ç°é“¾å¼è°ƒç”¨ return this; &#125;, bind:function()&#123; var self = this; this.input.on('keyup',function()&#123; self.render(); &#125;); &#125;, getNum:function()&#123; return this.input.val().length; &#125;, // æ¸²æŸ“å…ƒç´  render:function()&#123; var num = this.getNum(); if ($('#J_input_count').length == 0) &#123; this.input.after('&lt;span id=\"J_input_count\"&gt;&lt;/span&gt;'); &#125;; $('#J_input_count').html(num+'ä¸ªå­—'); &#125;&#125;$(function() &#123; // åœ¨domreadyåè°ƒç”¨ textCount.init(&#123;id:'#J_input'&#125;).render();&#125;) è¿™æ ·ä¸€æ”¹é€ ï¼Œç«‹é©¬å˜çš„æ¸…æ™°äº†å¾ˆå¤šï¼Œæ‰€æœ‰çš„åŠŸèƒ½éƒ½åœ¨ä¸€ä¸ªå˜é‡ä¸‹é¢ã€‚ä»£ç æ›´æ¸…æ™°ï¼Œå¹¶ä¸”æœ‰ç»Ÿä¸€çš„å…¥å£è°ƒç”¨æ–¹æ³•ã€‚ ä½†æ˜¯è¿˜æ˜¯æœ‰äº›ç‘•ç–µï¼Œè¿™ç§å†™æ³•æ²¡æœ‰ç§æœ‰çš„æ¦‚å¿µï¼Œæ¯”å¦‚ä¸Šé¢çš„getNum,bindåº”è¯¥éƒ½æ˜¯ç§æœ‰çš„æ–¹æ³•ã€‚ä½†æ˜¯å…¶ä»–ä»£ç å¯ä»¥å¾ˆéšæ„çš„æ”¹åŠ¨è¿™äº›ã€‚å½“ä»£ç é‡ç‰¹åˆ«ç‰¹åˆ«å¤šçš„æ—¶å€™ï¼Œå¾ˆå®¹æ˜“å‡ºç°å˜é‡é‡å¤ï¼Œæˆ–è¢«ä¿®æ”¹çš„é—®é¢˜ã€‚ äºæ˜¯åˆå‡ºç°äº†ä¸€ç§å‡½æ•°é—­åŒ…çš„å†™æ³•ï¼š 123456789101112131415161718192021222324252627282930var TextCount = (function()&#123; // ç§æœ‰æ–¹æ³•ï¼Œå¤–é¢å°†è®¿é—®ä¸åˆ° var _bind = function(that)&#123; that.input.on('keyup',function()&#123; that.render(); &#125;); &#125; var _getNum = function(that)&#123; return that.input.val().length; &#125; var TextCountFun = function(config)&#123;&#125; TextCountFun.prototype.init = function(config) &#123; this.input = $(config.id); _bind(this); return this; &#125;; TextCountFun.prototype.render = function() &#123; var num = _getNum(this); if ($('#J_input_count').length == 0) &#123; this.input.after('&lt;span id=\"J_input_count\"&gt;&lt;/span&gt;'); &#125;; $('#J_input_count').html(num+'ä¸ªå­—'); &#125;; // è¿”å›æ„é€ å‡½æ•° return TextCountFun;&#125;)();$(function() &#123; new TextCount().init(&#123;id:'#J_input'&#125;).render();&#125;) è¿™ç§å†™æ³•ï¼ŒæŠŠæ‰€æœ‰çš„ä¸œè¥¿éƒ½åŒ…åœ¨äº†ä¸€ä¸ªè‡ªåŠ¨æ‰§è¡Œçš„é—­åŒ…é‡Œé¢ï¼Œæ‰€ä»¥ä¸ä¼šå—åˆ°å¤–é¢çš„å½±å“ï¼Œå¹¶ä¸”åªå¯¹å¤–å…¬å¼€äº†TextCountFunæ„é€ å‡½æ•°ï¼Œç”Ÿæˆçš„å¯¹è±¡åªèƒ½è®¿é—®åˆ°init,renderæ–¹æ³•ã€‚è¿™ç§å†™æ³•å·²ç»æ»¡è¶³ç»å¤§å¤šæ•°çš„éœ€æ±‚äº†ã€‚äº‹å®ä¸Šå¤§éƒ¨åˆ†çš„jQueryæ’ä»¶éƒ½æ˜¯è¿™ç§å†™æ³•ã€‚ é¢å‘å¯¹è±¡ ä¸Šé¢çš„å†™æ³•å·²ç»å¯ä»¥æ»¡è¶³ç»å¤§å¤šæ•°éœ€æ±‚äº†ã€‚ ä½†æ˜¯å‘¢ï¼Œå½“ä¸€ä¸ªé¡µé¢ç‰¹åˆ«å¤æ‚ï¼Œå½“æˆ‘ä»¬éœ€è¦çš„ç»„ä»¶è¶Šæ¥è¶Šå¤šï¼Œå½“æˆ‘ä»¬éœ€è¦åšä¸€å¥—ç»„ä»¶ã€‚ä»…ä»…ç”¨è¿™ä¸ªå°±ä¸è¡Œäº†ã€‚é¦–å…ˆçš„é—®é¢˜å°±æ˜¯ï¼Œè¿™ç§å†™æ³•å¤ªçµæ´»äº†ï¼Œå†™å•ä¸ªç»„ä»¶è¿˜å¯ä»¥ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦åšä¸€å¥—é£æ ¼ç›¸è¿‘çš„ç»„ä»¶ï¼Œè€Œä¸”æ˜¯å¤šä¸ªäººåŒæ—¶åœ¨å†™ã€‚é‚£çœŸçš„æ˜¯å™©æ¢¦ã€‚ åœ¨ç¼–ç¨‹çš„åœˆå­é‡Œï¼Œé¢å‘å¯¹è±¡ä¸€ç›´æ˜¯è¢«è®¤ä¸ºæœ€ä½³çš„ç¼–å†™ä»£ç æ–¹å¼ã€‚æ¯”å¦‚javaï¼Œå°±æ˜¯å› ä¸ºæŠŠé¢å‘å¯¹è±¡å‘æŒ¥åˆ°äº†æè‡´ï¼Œæ‰€ä»¥å¤šä¸ªäººå†™å‡ºæ¥çš„ä»£ç éƒ½å¾ˆæ¥è¿‘ï¼Œç»´æŠ¤ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚ä½†æ˜¯å¾ˆä¸å¹¸çš„æ˜¯ï¼Œjavascriptä¸æ”¯æŒclassç±»çš„å®šä¹‰ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ¨¡æ‹Ÿã€‚ ä¸‹é¢æˆ‘ä»¬å…ˆå®ç°ä¸ªç®€å•çš„javascriptç±»ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209var Class = (function() &#123; var _mix = function(r, s) &#123; for (var p in s) &#123; if (s.hasOwnProperty(p)) &#123; r[p] = s[p] &#125; &#125; &#125; var _extend = function() &#123; // å¼€å…³ ç”¨æ¥ä½¿ç”ŸæˆåŸå‹æ—¶,ä¸è°ƒç”¨çœŸæ­£çš„æ„æˆæµç¨‹init this.initPrototype = true; var prototype = new this(); this.initPrototype = false; var items = Array.prototype.slice.call(arguments) || []; var item; // æ”¯æŒæ··å…¥å¤šä¸ªå±æ€§ï¼Œå¹¶ä¸”æ”¯æŒ&#123;&#125;ä¹Ÿæ”¯æŒ Function while (item = items.shift()) &#123; _mix(prototype, item.prototype || item); &#125; // è¿™è¾¹æ˜¯è¿”å›çš„ç±»ï¼Œå…¶å®å°±æ˜¯æˆ‘ä»¬è¿”å›çš„å­ç±» function SubClass() &#123; if (!SubClass.initPrototype &amp;&amp; this.init); this.init.apply(this, arguments); // è°ƒç”¨initçœŸæ­£çš„æ„é€ å‡½æ•° &#125; // èµ‹å€¼åŸå‹é“¾ï¼Œå®Œæˆç»§æ‰¿ SubClass.prototype = prototype // æ”¹å˜constructorå¼•ç”¨ SubClass.prototype.constructor = SubClass // ä¸ºå­ç±»ä¹Ÿæ·»åŠ extendæ–¹æ³• SubClass.extend = _extend return SubClass &#125; // è¶…çº§çˆ¶ç±» var Class = function() &#123;&#125; // ä¸ºè¶…çº§çˆ¶ç±»æ·»åŠ extendæ–¹æ³• Class.extend = _extend return Class&#125;)()``` è¿™æ˜¯æ‹¿John Resigçš„classç®€å•ä¿®æ”¹äº†ä¸‹ã€‚è¿™è¾¹åªæ˜¯å¾ˆç®€é™‹çš„å®ç°äº†ç±»çš„ç»§æ‰¿æœºåˆ¶ã€‚å¦‚æœå¯¹ç±»çš„å®ç°æœ‰å…´è¶£å¯ä»¥å‚è€ƒæˆ‘å¦ä¸€ç¯‡æ–‡ç« [javascript oo](http://purplebamboo.github.io/2014/07/13/javascript-oo-class/)å®ç°æˆ‘ä»¬çœ‹ä¸‹ä½¿ç”¨æ–¹æ³•ï¼š``` js// ç»§æ‰¿è¶…çº§çˆ¶ç±»ï¼Œç”Ÿæˆä¸ªå­ç±»Animalï¼Œå¹¶ä¸”æ··å…¥ä¸€äº›æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•ä¼šåˆ°Animalçš„åŸå‹ä¸Šã€‚// å¦å¤–è¿™è¾¹ä¸ä»…æ”¯æŒæ··å…¥&#123;&#125;ï¼Œè¿˜æ”¯æŒæ··å…¥Functionvar Animal = Class.extend(&#123; init:function(opts)&#123; this.msg = opts.msg this.type = \"animal\" &#125;, say:function()&#123; alert(this.msg+\":i am a \"+this.type) &#125;&#125;)// ç»§æ‰¿Animalï¼Œå¹¶ä¸”æ··å…¥ä¸€äº›æ–¹æ³•var Dog = Animal.extend(&#123; init:function(opts)&#123; //å¹¶æœªå®ç°superæ–¹æ³•ï¼Œç›´æ¥ç®€å•ä½¿ç”¨çˆ¶ç±»åŸå‹è°ƒç”¨å³å¯ Animal.prototype.init.call(this,opts) //ä¿®æ”¹äº†typeç±»å‹ this.type = \"dog\" &#125;&#125;)//new Animal(&#123;msg:'hello'&#125;).say()new Dog(&#123;msg:'hi'&#125;).say()``` ä½¿ç”¨å¾ˆç®€å•ï¼Œè¶…çº§çˆ¶ç±»å…·æœ‰extendæ–¹æ³•ï¼Œå¯ä»¥ç»§æ‰¿å‡ºä¸€ä¸ªå­ç±»ã€‚å­ç±»ä¹Ÿå…·æœ‰extendæ–¹æ³•ã€‚è¿™è¾¹è¦å¼ºè°ƒçš„æ˜¯ï¼Œç»§æ‰¿çš„çˆ¶ç±»éƒ½æ˜¯ä¸€ä¸ªä¹Ÿå°±æ˜¯å•ç»§æ‰¿ã€‚ä½†æ˜¯å¯ä»¥é€šè¿‡extendå®ç°å¤šé‡æ··å…¥ã€‚è¯¦è§ä¸‹é¢ç”¨æ³•ã€‚æœ‰äº†è¿™ä¸ªç±»çš„æ‰©å±•ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆç¼–å†™ä»£ç äº†ï¼š``` jsvar TextCount = Class.extend(&#123; init:function(config)&#123; this.input = $(config.id); this._bind(); this.render(); &#125;, render:function() &#123; var num = this._getNum(); if ($('#J_input_count').length == 0) &#123; this.input.after('&lt;span id=\"J_input_count\"&gt;&lt;/span&gt;'); &#125;; $('#J_input_count').html(num+'ä¸ªå­—'); &#125;, _getNum:function()&#123; return this.input.val().length; &#125;, _bind:function()&#123; var self = this; self.input.on('keyup',function()&#123; self.render(); &#125;); &#125;&#125;)$(function() &#123; new TextCount(&#123; id:\"#J_input\" &#125;);&#125;)``` è¿™è¾¹å¯èƒ½è¿˜æ²¡çœ‹è§classçš„çœŸæ­£å¥½å¤„ï¼Œä¸æ€¥æˆ‘ä»¬ç»§ç»­å¾€ä¸‹ã€‚æŠ½è±¡å‡ºbase------------å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çš„ç»„ä»¶æœ‰äº›æ–¹æ³•ï¼Œæ˜¯å¤§éƒ¨åˆ†ç»„ä»¶éƒ½ä¼šæœ‰çš„ã€‚æ¯”å¦‚initç”¨æ¥åˆå§‹åŒ–å±æ€§ã€‚æ¯”å¦‚renderç”¨æ¥å¤„ç†æ¸²æŸ“çš„é€»è¾‘ã€‚æ¯”å¦‚bindç”¨æ¥å¤„ç†äº‹ä»¶çš„ç»‘å®šã€‚å½“ç„¶è¿™ä¹Ÿæ˜¯ä¸€ç§çº¦å®šä¿—æˆçš„è§„èŒƒäº†ã€‚å¦‚æœå¤§å®¶å…¨éƒ¨æŒ‰ç…§è¿™ç§é£æ ¼æ¥å†™ä»£ç ï¼Œå¼€å‘å¤§è§„æ¨¡ç»„ä»¶åº“å°±å˜å¾—æ›´åŠ è§„èŒƒï¼Œç›¸äº’ä¹‹é—´é…åˆä¹Ÿæ›´å®¹æ˜“ã€‚è¿™ä¸ªæ—¶å€™é¢å‘å¯¹è±¡çš„å¥½å¤„å°±æ¥äº†ï¼Œæˆ‘ä»¬æŠ½è±¡å‡ºä¸€ä¸ªBaseç±»ã€‚å…¶ä»–ç»„ä»¶ç¼–å†™æ—¶éƒ½ç»§æ‰¿å®ƒã€‚``` jsvar Base = Class.extend(&#123; init:function(config)&#123; // è‡ªåŠ¨ä¿å­˜é…ç½®é¡¹ this.__config = config this.bind() this.render() &#125;, // å¯ä»¥ä½¿ç”¨getæ¥è·å–é…ç½®é¡¹ get:function(key)&#123; return this.__config[key] &#125;, // å¯ä»¥ä½¿ç”¨setæ¥è®¾ç½®é…ç½®é¡¹ set:function(key,value)&#123; this.__config[key] = value &#125;, bind:function()&#123; &#125;, render:function() &#123; &#125;, // å®šä¹‰é”€æ¯çš„æ–¹æ³•ï¼Œä¸€äº›æ”¶å°¾å·¥ä½œéƒ½åº”è¯¥åœ¨è¿™é‡Œ destroy:function()&#123; &#125;&#125;)``` baseç±»ä¸»è¦æŠŠç»„ä»¶çš„ä¸€èˆ¬æ€§å†…å®¹éƒ½æå–äº†å‡ºæ¥ï¼Œè¿™æ ·æˆ‘ä»¬ç¼–å†™ç»„ä»¶æ—¶å¯ä»¥ç›´æ¥ç»§æ‰¿baseç±»ï¼Œè¦†ç›–é‡Œé¢çš„bindå’Œrenderæ–¹æ³•ã€‚äºæ˜¯æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™ä»£ç ï¼š``` jsvar TextCount = Base.extend(&#123; _getNum:function()&#123; return this.get('input').val().length; &#125;, bind:function()&#123; var self = this; self.get('input').on('keyup',function()&#123; self.render(); &#125;); &#125;, render:function() &#123; var num = this._getNum(); if ($('#J_input_count').length == 0) &#123; this.get('input').after('&lt;span id=\"J_input_count\"&gt;&lt;/span&gt;'); &#125;; $('#J_input_count').html(num+'ä¸ªå­—'); &#125;&#125;)$(function() &#123; new TextCount(&#123; // è¿™è¾¹ç›´æ¥ä¼ inputçš„èŠ‚ç‚¹äº†ï¼Œå› ä¸ºå±æ€§çš„èµ‹å€¼éƒ½æ˜¯è‡ªåŠ¨çš„ã€‚ input:$(\"#J_input\") &#125;);&#125;)``` å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç›´æ¥å®ç°ä¸€äº›å›ºå®šçš„æ–¹æ³•ï¼Œbindï¼Œrenderå°±è¡Œäº†ã€‚å…¶ä»–çš„baseä¼šè‡ªåŠ¨å¤„ç†ï¼ˆè¿™é‡Œåªæ˜¯ç®€å•å¤„ç†äº†é…ç½®å±æ€§çš„èµ‹å€¼ï¼‰ã€‚äº‹å®ä¸Šï¼Œè¿™è¾¹çš„initï¼Œbindï¼Œrenderå°±å·²ç»æœ‰äº†ç‚¹ç”Ÿå‘½å‘¨æœŸçš„å½±å­ï¼Œä½†å‡¡æ˜¯ç»„ä»¶éƒ½ä¼šå…·æœ‰è¿™å‡ ä¸ªé˜¶æ®µï¼Œåˆå§‹åŒ–ï¼Œç»‘å®šäº‹ä»¶ï¼Œä»¥åŠæ¸²æŸ“ã€‚å½“ç„¶è¿™è¾¹è¿˜å¯ä»¥åŠ ä¸€ä¸ªdestroyé”€æ¯çš„æ–¹æ³•ï¼Œç”¨æ¥æ¸…ç†ç°åœºã€‚æ­¤å¤–ä¸ºäº†æ–¹ä¾¿ï¼Œè¿™è¾¹ç›´æ¥å˜æˆäº†ä¼ é€’inputçš„èŠ‚ç‚¹ã€‚å› ä¸ºå±æ€§èµ‹å€¼è‡ªåŠ¨åŒ–äº†ï¼Œä¸€èˆ¬æ¥è¯´è¿™ç§æƒ…å†µä¸‹éƒ½æ˜¯ä½¿ç”¨getterï¼Œsetteræ¥å¤„ç†ã€‚è¿™è¾¹å°±ä¸è¯¦ç»†å±•å¼€äº†ã€‚å¼•å…¥äº‹ä»¶æœºåˆ¶ï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ï¼‰----------------------æœ‰äº†baseåº”è¯¥è¯´æˆ‘ä»¬ç¼–å†™ç»„ä»¶æ›´åŠ çš„è§„èŒƒåŒ–ï¼Œä½“ç³»åŒ–äº†ã€‚ä¸‹é¢æˆ‘ä»¬ç»§ç»­æ·±æŒ–ã€‚è¿˜æ˜¯ä¸Šé¢çš„é‚£ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›è¾“å…¥å­—çš„æ—¶å€™è¶…è¿‡5ä¸ªå­—å°±å¼¹å‡ºè­¦å‘Šã€‚è¯¥æ€ä¹ˆåŠå‘¢ã€‚å°ç™½å¯èƒ½ä¼šè¯´ï¼Œé‚£ç®€å•å•Šç›´æ¥æ”¹ä¸‹bindæ–¹æ³•ï¼š``` js var TextCount = Base.extend(&#123; ... bind:function()&#123; var self = this; self.get('input').on('keyup',function()&#123; if(self._getNum() &gt; 5)&#123; alert('è¶…è¿‡äº†5ä¸ªå­—äº†ã€‚ã€‚ã€‚') &#125; self.render(); &#125;); &#125;, ...&#125;) çš„ç¡®ä¹Ÿæ˜¯ä¸€ç§æ–¹æ³•ï¼Œä½†æ˜¯å¤ªlowäº†ï¼Œä»£ç ä¸¥é‡è€¦åˆã€‚å½“è¿™ç§éœ€æ±‚ç‰¹åˆ«ç‰¹åˆ«å¤šï¼Œä»£ç ä¼šè¶Šæ¥è¶Šä¹±ã€‚ è¿™ä¸ªæ—¶å€™å°±è¦å¼•å…¥äº‹ä»¶æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯ç»å¸¸è¯´çš„è§‚å¯Ÿè€…æ¨¡å¼ã€‚ æ³¨æ„è¿™è¾¹çš„äº‹ä»¶æœºåˆ¶è·Ÿå¹³æ—¶çš„æµè§ˆå™¨é‚£äº›äº‹ä»¶ä¸æ˜¯ä¸€å›äº‹ï¼Œè¦åˆ†å¼€æ¥çœ‹ã€‚ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼å‘¢ï¼Œå®˜æ–¹çš„è§£é‡Šå°±ä¸è¯´äº†ï¼Œç›´æ¥æ‹¿è¿™ä¸ªä¾‹å­æ¥è¯´ã€‚ æƒ³è±¡ä¸€ä¸‹baseæ˜¯ä¸ªæœºå™¨äººä¼šè¯´è¯ï¼Œä»–ä¼šä¸€ç›´ç›‘å¬è¾“å…¥çš„å­—æ•°å¹¶ä¸”æ±‡æŠ¥å‡ºå»ï¼ˆé€šçŸ¥ï¼‰ã€‚è€Œä½ å¯ä»¥æŠŠè€³æœµå‡‘ä¸Šå»ï¼Œå¬ç€ä»–çš„æ±‡æŠ¥ï¼ˆç›‘å¬ï¼‰ã€‚å‘ç°å­—æ•°è¶…è¿‡5ä¸ªå­—äº†ï¼Œä½ å°±åšäº›æ“ä½œã€‚ æ‰€ä»¥è¿™åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯é€šçŸ¥ï¼Œä¸€ä¸ªæ˜¯ç›‘å¬ã€‚ å‡è®¾é€šçŸ¥æ˜¯ fireæ–¹æ³•ï¼Œç›‘å¬æ˜¯onã€‚äºæ˜¯æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™ä»£ç ï¼š 12345678910111213141516171819202122232425var TextCount = Base.extend(&#123; ... bind:function()&#123; var self = this; self.get('input').on('keyup',function()&#123; //é€šçŸ¥,æ¯å½“æœ‰è¾“å…¥çš„æ—¶å€™ï¼Œå°±æŠ¥å‘Šå‡ºå»ã€‚ self.fire('Text.input',self._getNum()) self.render(); &#125;); &#125;, ...&#125;)$(function() &#123; var t = new TextCount(&#123; input:$(\"#J_input\") &#125;); //ç›‘å¬è¿™ä¸ªè¾“å…¥äº‹ä»¶ t.on('Text.input',function(num)&#123; //å¯ä»¥è·å–åˆ°ä¼ é€’è¿‡æ¥çš„å€¼ if(num&gt;5)&#123; alert('è¶…è¿‡äº†5ä¸ªå­—äº†ã€‚ã€‚ã€‚') &#125; &#125;)&#125;) fireç”¨æ¥è§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œå¯ä»¥ä¼ é€’æ•°æ®ã€‚è€Œonç”¨æ¥æ·»åŠ ä¸€ä¸ªç›‘å¬ã€‚è¿™æ ·ç»„ä»¶é‡Œé¢åªè´Ÿè´£æŠŠä¸€äº›å…³é”®çš„äº‹ä»¶æŠ›å‡ºæ¥ï¼Œè‡³äºå…·ä½“çš„ä¸šåŠ¡é€»è¾‘éƒ½å¯ä»¥æ·»åŠ ç›‘å¬æ¥å®ç°ã€‚æ²¡æœ‰äº‹ä»¶çš„ç»„ä»¶æ˜¯ä¸å®Œæ•´çš„ã€‚ ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹æ€ä¹ˆå®ç°è¿™å¥—äº‹ä»¶æœºåˆ¶ã€‚ æˆ‘ä»¬é¦–å…ˆæŠ›å¼€baseï¼Œæƒ³æƒ³æ€ä¹ˆå®ç°ä¸€ä¸ªå…·æœ‰è¿™å¥—æœºåˆ¶çš„ç±»ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778//è¾…ç»„å‡½æ•°ï¼Œè·å–æ•°ç»„é‡ŒæŸä¸ªå…ƒç´ çš„ç´¢å¼• indexvar _indexOf = function(array,key)&#123; if (array === null) return -1 var i = 0, length = array.length for (; i &lt; length; i++) if (array[i] === item) return i return -1&#125;var Event = Class.extend(&#123; //æ·»åŠ ç›‘å¬ on:function(key,listener)&#123; //this.__eventså­˜å‚¨æ‰€æœ‰çš„å¤„ç†å‡½æ•° if (!this.__events) &#123; this.__events = &#123;&#125; &#125; if (!this.__events[key]) &#123; this.__events[key] = [] &#125; if (_indexOf(this.__events,listener) === -1 &amp;&amp; typeof listener === 'function') &#123; this.__events[key].push(listener) &#125; return this &#125;, //è§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œä¹Ÿå°±æ˜¯é€šçŸ¥ fire:function(key)&#123; if (!this.__events || !this.__events[key]) return var args = Array.prototype.slice.call(arguments, 1) || [] var listeners = this.__events[key] var i = 0 var l = listeners.length for (i; i &lt; l; i++) &#123; listeners[i].apply(this,args) &#125; return this &#125;, //å–æ¶ˆç›‘å¬ off:function(key,listener)&#123; if (!key &amp;&amp; !listener) &#123; this.__events = &#123;&#125; &#125; //ä¸ä¼ ç›‘å¬å‡½æ•°ï¼Œå°±å»æ‰å½“å‰keyä¸‹é¢çš„æ‰€æœ‰çš„ç›‘å¬å‡½æ•° if (key &amp;&amp; !listener) &#123; delete this.__events[key] &#125; if (key &amp;&amp; listener) &#123; var listeners = this.__events[key] var index = _indexOf(listeners, listener) (index &gt; -1) &amp;&amp; listeners.splice(index, 1) &#125; return this; &#125;&#125;)var a = new Event()//æ·»åŠ ç›‘å¬ testäº‹ä»¶a.on('test',function(msg)&#123; alert(msg)&#125;)//è§¦å‘ testäº‹ä»¶a.fire('test','æˆ‘æ˜¯ç¬¬ä¸€æ¬¡è§¦å‘')a.fire('test','æˆ‘åˆè§¦å‘äº†')a.off('test')a.fire('test','ä½ åº”è¯¥çœ‹ä¸åˆ°æˆ‘äº†') å®ç°èµ·æ¥å¹¶ä¸å¤æ‚ï¼Œåªè¦ä½¿ç”¨this.__eventså­˜ä¸‹æ‰€æœ‰çš„ç›‘å¬å‡½æ•°ã€‚åœ¨fireçš„æ—¶å€™å»æ‰¾åˆ°å¹¶ä¸”æ‰§è¡Œå°±è¡Œäº†ã€‚ è¿™ä¸ªæ—¶å€™é¢å‘å¯¹è±¡çš„å¥½å¤„å°±æ¥äº†ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›baseæ‹¥æœ‰äº‹ä»¶æœºåˆ¶ã€‚åªéœ€è¦è¿™ä¹ˆå†™: 123456789101112var Base = Class.extend(Event,&#123; ... destroy:function()&#123; //å»æ‰æ‰€æœ‰çš„äº‹ä»¶ç›‘å¬ this.off() &#125;&#125;)//äºæ˜¯å¯ä»¥//var a = new Base()// a.on(xxx,fn)//// a.fire() æ˜¯çš„åªè¦extendçš„æ—¶å€™å¤šæ··å…¥ä¸€ä¸ªEventï¼Œè¿™æ ·Baseæˆ–è€…å®ƒçš„å­ç±»ç”Ÿæˆçš„å¯¹è±¡éƒ½ä¼šè‡ªåŠ¨å…·æœ‰äº‹ä»¶æœºåˆ¶ã€‚ æœ‰äº†äº‹ä»¶æœºåˆ¶æˆ‘ä»¬å¯ä»¥æŠŠç»„ä»¶å†…éƒ¨å¾ˆå¤šçŠ¶æ€æš´éœ²å‡ºæ¥ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥åœ¨setæ–¹æ³•ä¸­æŠ›å‡ºä¸€ä¸ªäº‹ä»¶ï¼Œè¿™æ ·æ¯æ¬¡å±æ€§å˜æ›´çš„æ—¶å€™æˆ‘ä»¬éƒ½å¯ä»¥ç›‘å¬åˆ°ã€‚ åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„baseç±»å·²ç»åƒæ¨¡åƒæ ·äº†ï¼Œå…·æœ‰äº†initï¼Œbindï¼Œrenderï¼Œdestroyæ–¹æ³•æ¥è¡¨ç¤ºç»„ä»¶çš„å„ä¸ªå…³é”®è¿‡ç¨‹ï¼Œå¹¶ä¸”å…·æœ‰äº†äº‹ä»¶æœºåˆ¶ã€‚åŸºæœ¬ä¸Šå·²ç»å¯ä»¥å¾ˆå¥½çš„æ¥å¼€å‘ç»„ä»¶äº†ã€‚ æ›´è¿›ä¸€æ­¥ï¼Œrichbase æˆ‘ä»¬è¿˜å¯ä»¥ç»§ç»­æ·±æŒ–ã€‚çœ‹çœ‹æˆ‘ä»¬çš„baseï¼Œè¿˜å·®äº›ä»€ä¹ˆã€‚é¦–å…ˆæµè§ˆå™¨çš„äº‹ä»¶ç›‘å¬è¿˜å¾ˆè½åï¼Œéœ€è¦ç”¨æˆ·è‡ªå·±åœ¨bindé‡Œé¢ç»‘å®šï¼Œå†ç„¶åç°åœ¨çš„TextCounté‡Œé¢è¿˜å­˜åœ¨domæ“ä½œï¼Œä¹Ÿæ²¡æœ‰è‡ªå·±çš„æ¨¡æ¿æœºåˆ¶ã€‚è¿™éƒ½æ˜¯éœ€è¦æ‰©å±•çš„ï¼Œäºæ˜¯æˆ‘ä»¬åœ¨baseçš„åŸºç¡€ä¸Šå†ç»§æ‰¿å‡ºä¸€ä¸ªrichbaseç”¨æ¥å®ç°æ›´å®Œå¤‡çš„ç»„ä»¶åŸºç±»ã€‚ ä¸»è¦å®ç°è¿™äº›åŠŸèƒ½ï¼š äº‹ä»¶ä»£ç†ï¼šä¸éœ€è¦ç”¨æˆ·è‡ªå·±å»æ‰¾domå…ƒç´ ç»‘å®šç›‘å¬ï¼Œä¹Ÿä¸éœ€è¦ç”¨æˆ·å»å…³å¿ƒä»€ä¹ˆæ—¶å€™é”€æ¯ã€‚æ¨¡æ¿æ¸²æŸ“ï¼šç”¨æˆ·ä¸éœ€è¦è¦†ç›–renderæ–¹æ³•ï¼Œè€Œæ˜¯è¦†ç›–å®ç°setUpæ–¹æ³•ã€‚å¯ä»¥é€šè¿‡åœ¨setUpé‡Œé¢è°ƒç”¨renderæ¥è¾¾åˆ°æ¸²æŸ“å¯¹åº”htmlçš„ç›®çš„ã€‚å•å‘ç»‘å®šï¼šé€šè¿‡setChuckdataæ–¹æ³•ï¼Œæ›´æ–°æ•°æ®ï¼ŒåŒæ—¶ä¼šæ›´æ–°htmlå†…å®¹ï¼Œä¸å†éœ€è¦domæ“ä½œã€‚æˆ‘ä»¬çœ‹ä¸‹æˆ‘ä»¬å®ç°richbaseåæ€ä¹ˆå†™ç»„ä»¶ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180var TextCount = RichBase.extend(&#123; //äº‹ä»¶ç›´æ¥åœ¨è¿™é‡Œæ³¨å†Œï¼Œä¼šä»£ç†åˆ°parentNodeèŠ‚ç‚¹ï¼ŒparentNodeèŠ‚ç‚¹åœ¨ä¸‹é¢æŒ‡å®š EVENTS:&#123; //é€‰æ‹©å™¨å­—ç¬¦ä¸²ï¼Œæ”¯æŒæ‰€æœ‰jQueryé£æ ¼çš„é€‰æ‹©å™¨ 'input':&#123; //æ³¨å†Œkeyupäº‹ä»¶ keyup:function(self,e)&#123; //å•å‘ç»‘å®šï¼Œä¿®æ”¹æ•°æ®ç›´æ¥æ›´æ–°å¯¹åº”æ¨¡æ¿ self.setChuckdata('count',self._getNum()) &#125; &#125; &#125;, //æŒ‡å®šå½“å‰ç»„ä»¶çš„æ¨¡æ¿ template:'&lt;span id=\"J_input_count\"&gt;&lt;%= count %&gt;ä¸ªå­—&lt;/span&gt;', //ç§æœ‰æ–¹æ³• _getNum:function()&#123; return this.get('input').val().length || 0 &#125;, //è¦†ç›–å®ç°setUpæ–¹æ³•ï¼Œæ‰€æœ‰é€»è¾‘å†™åœ¨è¿™é‡Œã€‚æœ€åå¯ä»¥ä½¿ç”¨renderæ¥å†³å®šéœ€ä¸éœ€è¦æ¸²æŸ“æ¨¡æ¿ //æ¨¡æ¿æ¸²æŸ“åä¼šappendåˆ°parentNodeèŠ‚ç‚¹ä¸‹é¢ï¼Œå¦‚æœæœªæŒ‡å®šï¼Œä¼šappendåˆ°document.body setUp:function()&#123; var self = this; var input = this.get('parentNode').find('#J_input') self.set('input',input) var num = this._getNum() //èµ‹å€¼æ•°æ®ï¼Œæ¸²æŸ“æ¨¡æ¿ï¼Œé€‰ç”¨ã€‚æœ‰çš„ç»„ä»¶æ²¡æœ‰å¯¹åº”çš„æ¨¡æ¿å°±å¯ä»¥ä¸è°ƒç”¨è¿™æ­¥ã€‚ self.render(&#123; count:num &#125;) &#125;&#125;)$(function() &#123; //ä¼ å…¥parentNodeèŠ‚ç‚¹ï¼Œç»„ä»¶ä¼šæŒ‚è½½åˆ°è¿™ä¸ªèŠ‚ç‚¹ä¸Šã€‚æ‰€æœ‰äº‹ä»¶éƒ½ä¼šä»£ç†åˆ°è¿™ä¸ªä¸Šé¢ã€‚ new TextCount(&#123; parentNode:$(\"#J_test_container\") &#125;);&#125;)/**å¯¹åº”çš„html,åšäº†äº›ä¿®æ”¹ï¼Œä¸»è¦ä¸ºäº†åŠ ä¸ŠparentNodeï¼Œè¿™è¾¹å°±æ˜¯J_test_container&lt;div id=\"J_test_container\"&gt; &lt;input type=\"text\" id=\"J_input\"/&gt;&lt;/div&gt;*/``` çœ‹ä¸‹ä¸Šé¢çš„ç”¨æ³•ï¼Œå¯ä»¥çœ‹åˆ°å˜å¾—æ›´ç®€å•æ¸…æ™°äº†ï¼š 1.äº‹ä»¶ä¸éœ€è¦è‡ªå·±ç»‘å®šï¼Œç›´æ¥æ³¨å†Œåœ¨EVENTSå±æ€§ä¸Šã€‚ç¨‹åºä¼šè‡ªåŠ¨å°†äº‹ä»¶ä»£ç†åˆ°parentNodeä¸Šã€‚ 2.å¼•å…¥äº†æ¨¡æ¿æœºåˆ¶ï¼Œä½¿ç”¨templateè§„å®šç»„ä»¶çš„æ¨¡æ¿ï¼Œç„¶ååœ¨setUpé‡Œé¢ä½¿ç”¨render(data)çš„æ–¹å¼æ¸²æŸ“æ¨¡æ¿ï¼Œç¨‹åºä¼šè‡ªåŠ¨å¸®ä½ appendåˆ°parentNodeä¸‹é¢ã€‚ 3.å•å‘ç»‘å®šï¼Œæ— éœ€æ“ä½œdomï¼Œåé¢è¦æ”¹åŠ¨å†…å®¹ï¼Œä¸éœ€è¦æ“ä½œdomï¼Œåªéœ€è¦è°ƒç”¨setChuckdata(key,æ–°çš„å€¼)ï¼Œé€‰æ‹©æ€§çš„æ›´æ–°æŸä¸ªæ•°æ®ï¼Œç›¸åº”çš„htmlä¼šè‡ªåŠ¨é‡æ–°æ¸²æŸ“ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹ä¸‹richebaseçš„å®ç°ï¼š``` jsvar RichBase = Base.extend(&#123; EVENTS:&#123;&#125;, template:'', init:function(config)&#123; //å­˜å‚¨é…ç½®é¡¹ this.__config = config //è§£æä»£ç†äº‹ä»¶ this._delegateEvent() this.setUp() &#125;, //å¾ªç¯éå†EVENTSï¼Œä½¿ç”¨jQueryçš„delegateä»£ç†åˆ°parentNode _delegateEvent:function()&#123; var self = this var events = this.EVENTS || &#123;&#125; var eventObjs,fn,select,type var parentNode = this.get('parentNode') || $(document.body) for (select in events) &#123; eventObjs = events[select] for (type in eventObjs) &#123; fn = eventObjs[type] parentNode.delegate(select,type,function(e)&#123; fn.call(null,self,e) &#125;) &#125; &#125; &#125;, //æ”¯æŒunderscoreçš„æç®€æ¨¡æ¿è¯­æ³• //ç”¨æ¥æ¸²æŸ“æ¨¡æ¿ï¼Œè¿™è¾¹æ˜¯æŠ„çš„underscoreçš„ã€‚éå¸¸ç®€å•çš„æ¨¡æ¿å¼•æ“ï¼Œæ”¯æŒåŸç”Ÿçš„jsè¯­æ³• _parseTemplate:function(str,data)&#123; /** * http://ejohn.org/blog/javascript-micro-templating/ * https://github.com/jashkenas/underscore/blob/0.1.0/underscore.js#L399 */ var fn = new Function('obj', 'var p=[],print=function()&#123;p.push.apply(p,arguments);&#125;;' + 'with(obj)&#123;p.push(\\'' + str .replace(/[\\r\\t\\n]/g, \" \") .split(\"&lt;%\").join(\"\\t\") .replace(/((^|%&gt;)[^\\t]*)'/g, \"$1\\r\") .replace(/\\t=(.*?)%&gt;/g, \"',$1,'\") .split(\"\\t\").join(\"');\") .split(\"%&gt;\").join(\"p.push('\") .split(\"\\r\").join(\"\\\\'\") + \"');&#125;return p.join('');\") return data ? fn(data) : fn &#125;, //æä¾›ç»™å­ç±»è¦†ç›–å®ç° setUp:function()&#123; this.render() &#125;, //ç”¨æ¥å®ç°åˆ·æ–°ï¼Œåªéœ€è¦ä¼ å…¥ä¹‹å‰renderæ—¶çš„æ•°æ®é‡Œçš„keyè¿˜æœ‰æ›´æ–°å€¼ï¼Œå°±å¯ä»¥è‡ªåŠ¨åˆ·æ–°æ¨¡æ¿ setChuckdata:function(key,value)&#123; var self = this var data = self.get('__renderData') //æ›´æ–°å¯¹åº”çš„å€¼ data[key] = value if (!this.template) return; //é‡æ–°æ¸²æŸ“ var newHtmlNode = $(self._parseTemplate(this.template,data)) //æ‹¿åˆ°å­˜å‚¨çš„æ¸²æŸ“åçš„èŠ‚ç‚¹ var currentNode = self.get('__currentNode') if (!currentNode) return; //æ›¿æ¢å†…å®¹ currentNode.replaceWith(newHtmlNode) self.set('__currentNode',newHtmlNode) &#125;, //ä½¿ç”¨dataæ¥æ¸²æŸ“æ¨¡æ¿å¹¶ä¸”appendåˆ°parentNodeä¸‹é¢ render:function(data)&#123; var self = this //å…ˆå­˜å‚¨èµ·æ¥æ¸²æŸ“çš„data,æ–¹ä¾¿åé¢setChuckdataè·å–ä½¿ç”¨ self.set('__renderData',data) if (!this.template) return; //ä½¿ç”¨_parseTemplateè§£ææ¸²æŸ“æ¨¡æ¿ç”Ÿæˆhtml //å­ç±»å¯ä»¥è¦†ç›–è¿™ä¸ªæ–¹æ³•ä½¿ç”¨å…¶ä»–çš„æ¨¡æ¿å¼•æ“è§£æ var html = self._parseTemplate(this.template,data) var parentNode = this.get('parentNode') || $(document.body) var currentNode = $(html) //ä¿å­˜ä¸‹æ¥ç•™å¾…åé¢çš„åŒºåŸŸåˆ·æ–° //å­˜å‚¨èµ·æ¥ï¼Œæ–¹ä¾¿åé¢setChuckdataè·å–ä½¿ç”¨ self.set('__currentNode',currentNode) parentNode.append(currentNode) &#125;, destroy:function()&#123; var self = this //å»æ‰è‡ªèº«çš„äº‹ä»¶ç›‘å¬ self.off() //åˆ é™¤æ¸²æŸ“å¥½çš„domèŠ‚ç‚¹ self.get('__currentNode').remove() //å»æ‰ç»‘å®šçš„ä»£ç†äº‹ä»¶ var events = self.EVENTS || &#123;&#125; var eventObjs,fn,select,type var parentNode = self.get('parentNode') for (select in events) &#123; eventObjs = events[select] for (type in eventObjs) &#123; fn = eventObjs[type] parentNode.undelegate(select,type,fn) &#125; &#125; &#125;&#125;) ä¸»è¦åšäº†ä¸¤ä»¶äº‹ï¼Œä¸€ä¸ªå°±æ˜¯äº‹ä»¶çš„è§£æè·Ÿä»£ç†ï¼Œå…¨éƒ¨ä»£ç†åˆ°parentNodeä¸Šé¢ã€‚å¦å¤–å°±æ˜¯æŠŠrenderæŠ½å‡ºæ¥ï¼Œç”¨æˆ·åªéœ€è¦å®ç°setUpæ–¹æ³•ã€‚å¦‚æœéœ€è¦æ¨¡æ¿æ”¯æŒå°±åœ¨setUpé‡Œé¢è°ƒç”¨renderæ¥æ¸²æŸ“æ¨¡æ¿ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡setChuckdataæ¥åˆ·æ–°æ¨¡æ¿ï¼Œå®ç°å•å‘ç»‘å®šã€‚ ç»“è¯­ æœ‰äº†richbaseï¼ŒåŸºæœ¬ä¸Šç»„ä»¶å¼€å‘å°±æ²¡å•¥é—®é¢˜äº†ã€‚ä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯å¯ä»¥ç»§ç»­æ·±æŒ–ä¸‹å»ã€‚ æ¯”å¦‚ç»„ä»¶è‡ªåŠ¨åŒ–åŠ è½½æ¸²æŸ“ï¼Œå±€éƒ¨åˆ·æ–°ï¼Œæ¯”å¦‚çˆ¶å­ç»„ä»¶çš„åµŒå¥—ï¼Œå†æ¯”å¦‚åŒå‘ç»‘å®šï¼Œå†æ¯”å¦‚å®ç°ng-clickè¿™ç§é£æ ¼çš„äº‹ä»¶æœºåˆ¶ã€‚ å½“ç„¶è¿™äº›ä¸œè¥¿å·²ç»ä¸å±äºç»„ä»¶é‡Œé¢çš„å†…å®¹äº†ã€‚å†è¿›ä¸€æ­¥å…¶å®å·²ç»æ˜¯ä¸€ä¸ªæ¡†æ¶äº†ã€‚å®é™…ä¸Šæœ€è¿‘æ¯”è¾ƒæµè¡Œçš„reactï¼Œploymerè¿˜æœ‰æˆ‘ä»¬çš„brixç­‰ç­‰éƒ½æ˜¯å®ç°äº†è¿™å¥—ä¸œè¥¿ã€‚å—é™äºç¯‡å¹…ï¼Œè¿™ä¸ªä»¥åæœ‰ç©ºå†å†™ç¯‡æ–‡ç« è¯¦ç»†åˆ†æä¸‹ã€‚ é‰´äºæœ‰äººè·Ÿæˆ‘è¦å®Œæ•´ä»£ç ï¼Œå…¶å®ä¸Šé¢éƒ½åˆ—å‡ºæ¥äº†ã€‚å¥½å§ é‚£æˆ‘å°±å†æ•´ç†ä¸‹ï¼Œæ”¾åœ¨githubäº†åŒ…å«å…·ä½“çš„demoï¼Œè¯·ç‚¹è¿™é‡Œã€‚","tags":[]},{"title":"æˆ‘çš„FCCé¡¹ç›®","date":"2017-10-20T01:42:56.000Z","path":"2017/10/20/æˆ‘çš„FCCé¡¹ç›®/","text":"æˆ‘çš„codepenåœ°å€ï¼šhttps://codepen.io/Sherry728/","tags":[]},{"title":"ç§‘å­¦ä¸Šç½‘","date":"2017-10-19T06:52:17.000Z","path":"2017/10/19/ç§‘å­¦ä¸Šç½‘/","text":"ç§‘å­¦ä¸Šç½‘ï¼šç”¨ VPS æ­å»º shadowsocks æœåŠ¡å™¨ ç›®å‰ shadowsocks æœåŠ¡å·²ç»å—åˆ°äº†å½±å“ï¼Œä¸è¿‡éƒ¨ç½²åœ¨ 25 ç«¯å£ç›®å‰è¿˜å¯ç”¨ã€‚ ä»ç„¶å¯ä»¥é€šè¿‡ ubuntu çš„ apt-get è·å–åˆ° shadowsocks æœåŠ¡ç«¯ï¼Œwindowsã€Mac OS Xã€Android å®¢æˆ·ç«¯çš„ release ä¸‹è½½é“¾æ¥ä»ç„¶ä¿ç•™ã€‚å› æ­¤åœ¨å†™ä½œæœ¬æ–‡æ—¶ï¼Œshadowsocks è¿˜æ˜¯å¯ä»¥ä½¿ç”¨çš„ã€‚ shadowsocks ç®€ä»‹shadowsocks æ˜¯ä¸€æ¬¾è‡ªå®šä¹‰åè®®çš„ä»£ç†è½¯ä»¶ï¼Œç”±äºå…¶æµé‡ç‰¹å¾ä¸æ˜æ˜¾ï¼Œï¼ˆç›´åˆ°ä¸ä¹…å‰ï¼‰ä¸€ç›´å¯ä»¥ç¨³å®šæä¾›ä¸Šç½‘ä»£ç†ã€‚ shadowsocks å®¢æˆ·ç«¯ä¼šåœ¨æœ¬åœ°å¼€å¯ä¸€ä¸ª socks5 ä»£ç†ï¼Œé€šè¿‡æ­¤ä»£ç†çš„ç½‘ç»œè®¿é—®è¯·æ±‚ç”±å®¢æˆ·ç«¯å‘é€è‡³æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å‘å‡ºè¯·æ±‚ï¼Œæ”¶åˆ°å“åº”æ•°æ®åå†å‘å›å®¢æˆ·ç«¯ã€‚ å› æ­¤ä½¿ç”¨ shadowsocks éœ€è¦ä¸€å°å¢™å¤–çš„æœåŠ¡å™¨æ¥éƒ¨ç½² shadowsocks æœåŠ¡ç«¯ã€‚ è´­ä¹° VPS æœåŠ¡å™¨ä¸»æµçš„ VPSï¼ˆè™šæ‹Ÿä¸»æœºï¼‰æœåŠ¡å™¨æä¾›å•†æœ‰ä¸‰å®¶ï¼š linodedigital oceanbandwagonä¸‹é¢çš„æ¯”ä¸Šé¢çš„ä¾¿å®œã€‚å¦‚æœåªæ˜¯è‡ªç”¨ï¼Œbandwagon è¶³å¤Ÿã€‚ ä¸€èˆ¬ä½¿ç”¨ paypal ç»‘å®šä¸€ä¸ª visa æˆ– mastercard ä¿¡ç”¨å¡æ¥ä»˜æ¬¾ã€‚æ³¨æ„è¦ç”¨å›½é™… paypal å¸å·ï¼Œå›½å†…çš„æ˜¯ä¸èƒ½ç”¨å¤–å¸ä»˜æ¬¾çš„ã€‚ åœ¨ bandwagon è´­ä¹° VPS ä»¥åä¼šè·å¾—ä¸€ä¸ªä¸»æœºåœ°å€å’Œç”¨äº ssh ç™»å½•çš„ root å¯†ç ã€‚ è¿œç¨‹ç™»é™† VPSMac OS X æˆ– Linux ä¸‹ç›´æ¥åœ¨ç»ˆç«¯ä¸­ ssh root@your_vps_ip -p your_ssh_port å³å¯ã€‚ åœ¨ windows ç³»ç»Ÿä¸‹éœ€è¦ä¸“é—¨çš„å®¢æˆ·ç«¯æ¥ SSH ç™»å½• VPSã€‚åœ¨ xShell å®˜ç½‘ ä¸‹è½½ xShellã€‚ å®¶åº­å’Œå­¦æ ¡ç”¨æˆ·å¯ä»¥å…è´¹è¯•ç”¨ï¼Œä¸‹è½½æ—¶é€‰æ‹© home and school use å³å¯ã€‚éœ€è¦ç”¨é‚®ç®±æ³¨å†Œä¸€ä¸‹ï¼Œä¸‹è½½é“¾æ¥ä¼šå‘é€åˆ°é‚®ç®±ä¸­ã€‚ xShell ä¸­æ–°å»ºä¸€ä¸ªè¿æ¥ï¼Œä¼šè¦æ±‚è¾“å…¥ç›®æ ‡ IP åœ°å€å’Œç«¯å£ï¼Œä»¥åŠ root å¯†ç ï¼ŒæŒ‰æç¤ºæ“ä½œå³å¯ã€‚ å®‰è£… shadowsocksæ‰“å¼€ shellï¼Œä½¿ç”¨ VPS æœåŠ¡å•†æä¾›çš„ root ç”¨æˆ·å’Œå¯†ç  SSH ç™»å½• VPSã€‚ç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š Debian/Ubuntu: apt-get install python-pip pip install shadowsocks CentOS: yum install python-setuptools &amp;&amp; easy_install pip pip install shadowsocks shadowsocks å°±å®‰è£…å¥½äº†ã€‚ æœ‰æ—¶ Ubuntu ä¼šé‡åˆ°ç¬¬ä¸€ä¸ªå‘½ä»¤å®‰è£… python-pip æ—¶æ‰¾ä¸åˆ°åŒ…çš„æƒ…å†µã€‚pip å®˜æ–¹ç»™å‡ºäº†ä¸€ä¸ªå®‰è£…è„šæœ¬ï¼Œå¯ä»¥è‡ªåŠ¨å®‰è£… pipã€‚å…ˆä¸‹è½½è„šæœ¬ï¼Œç„¶åæ‰§è¡Œå³å¯ï¼š wget https://bootstrap.pypa.io/get-pip.py python get-pip.py ç¼–å†™é…ç½®æ–‡ä»¶shadowsocks å¯åŠ¨æ—¶çš„å‚æ•°ï¼Œå¦‚æœåŠ¡å™¨ç«¯å£ï¼Œä»£ç†ç«¯å£ï¼Œç™»å½•å¯†ç ç­‰ï¼Œå¯ä»¥é€šè¿‡å¯åŠ¨æ—¶çš„å‘½ä»¤è¡Œå‚æ•°æ¥è®¾å®šï¼Œä¹Ÿå¯ä»¥é€šè¿‡ json æ ¼å¼çš„é…ç½®æ–‡ä»¶è®¾å®šã€‚æ¨èä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œæ–¹ä¾¿æŸ¥çœ‹å’Œä¿®æ”¹ã€‚ ç”¨ vi æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼š vi /etc/shadowsocks.json ç„¶åè¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š { &quot;server&quot;:&quot;my_server_ip&quot;, &quot;server_port&quot;:25, &quot;local_address&quot;: &quot;127.0.0.1&quot;, &quot;local_port&quot;:1080, &quot;password&quot;:&quot;mypassword&quot;, &quot;timeout&quot;:300, &quot;method&quot;:&quot;aes-256-cfb&quot;, &quot;fast_open&quot;: false } ä¿å­˜é€€å‡ºã€‚ é…ç½®æ–‡ä»¶ä¸­ä¸ªå­—æ®µçš„å«ä¹‰ï¼š server: æœåŠ¡å™¨ipåœ°å€server_port: ç»‘å®šçš„ç«¯å£ï¼Œæ³¨æ„ä¸è¦è®¾ç½®å·²ç»ä½¿ç”¨äº†çš„ç«¯å£possword: å¯†ç timeout: è¶…æ—¶æ—¶é—´method: åŠ å¯†æ–¹æ³•fast_open: å¦‚æœä½ çš„æœåŠ¡å™¨ Linux å†…æ ¸åœ¨3.7+ï¼Œå¯ä»¥å¼€å¯ fast_open ä»¥é™ä½å»¶è¿Ÿworkers: é»˜è®¤ä¸º1 å¦‚æœéœ€è¦é…ç½®å¤šä¸ªSSè´¦å·ï¼Œå¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ¡ˆä¾‹è¿›è¡Œé…ç½®ï¼š { &quot;server&quot;:&quot;your_server_ip&quot;, &quot;port_password&quot;:{ &quot;8381&quot;:&quot;password1&quot;, &quot;8382&quot;:&quot;password2&quot;, &quot;8383&quot;:&quot;password3&quot;, &quot;8384&quot;:&quot;password4&quot; }, &quot;timeout&quot;:300, &quot;method&quot;:&quot;rc4-md5&quot;, &quot;fast_open&quot;:false, &quot;workers&quot;:1 } å¯åŠ¨ shadowsockså¦‚æœå·²ç»å†™å¥½äº†é…ç½®æ–‡ä»¶ï¼Œå¯åŠ¨ shadowsocks æœåŠ¡å™¨çš„å‘½ä»¤å¦‚ä¸‹ï¼š ssserver -c /etc/shadowsocks.json åå°å¯åŠ¨å’Œåœæ­¢ shadowsocks æœåŠ¡å™¨ï¼š ssserver -c /etc/shadowsocks.json -d start ssserver -c /etc/shadowsocks.json -d stop shadowsocks çš„æ—¥å¿—ä¿å­˜åœ¨ /var/log/shadowsocks.log å®‰è£…å¹¶å¯åŠ¨ shadowsocks å®¢æˆ·ç«¯ shadowsocks æ”¯æŒ windowsã€Mac OS Xã€Linuxã€Androidã€iOS ç­‰å¤šä¸ªå¹³å°ã€‚ä¸è¿‡ iOS ç”±äºç³»ç»Ÿå¯¹åº”ç”¨åå°è¿è¡Œçš„é™åˆ¶ï¼Œæ¨èä½¿ç”¨å®¢æˆ·ç«¯å†…åµŒçš„æµè§ˆå™¨ç§‘å­¦ä¸Šç½‘ï¼Œç»™å…¶ä»–åº”ç”¨ä»£ç†æ—¶éœ€è¦æ¯è¿‡å‡ åˆ†é’Ÿé‡æ–°å¯åŠ¨ä¸€ä¸‹ appã€‚ shadowsocks é¡¹ç›® Github ä¸»é¡µåœ¨è¿™é‡Œã€‚ é‡Œé¢å¯ä»¥æ‰¾åˆ°å®¢æˆ·ç«¯ä¸‹è½½åœ°å€ã€‚ ä¸‹è½½å®‰è£…å®¢æˆ·ç«¯ä»¥åï¼Œåªéœ€æŒ‰æœåŠ¡å™¨çš„é…ç½®å¡«å†™ IP åœ°å€ã€æœåŠ¡å™¨ç«¯å£ã€æœ¬åœ°ç«¯å£ï¼ˆå¦‚æœæ²¡æœ‰æœ¬åœ°ç«¯å£é€‰é¡¹ï¼Œå°±æ˜¯é»˜è®¤çš„ 1080ï¼‰ã€å¯†ç ã€åŠ å¯†æ–¹å¼ç­‰å‚æ•°ï¼Œå¯åŠ¨å°±å¯ä»¥äº†ã€‚ å®¢æˆ·ç«¯æ”¯æŒå…¨å±€ä»£ç†å’Œ PAC ä»£ç†ä¸¤ç§æ–¹å¼ï¼Œåè€…ä¼šä½¿ç”¨ä¸€ä¸ªè„šæœ¬æ¥è‡ªåŠ¨æ£€æŸ¥ä¸€ä¸ªç½‘ç«™æ˜¯å¦åœ¨éœ€è¦ä»£ç†çš„ç½‘ç«™åˆ—è¡¨ä¸­ï¼Œè‡ªåŠ¨é€‰æ‹©ç›´æ¥è¿æ¥æˆ–ä»£ç†è¿æ¥ã€‚ PAC åˆ—è¡¨å¯ä»¥åœ¨çº¿æ›´æ–°ï¼Œä½†æ˜¯éš¾å…æœ‰æ”¶å½•ä¸å…¨çš„æƒ…å†µã€‚è¿™æ—¶å¯ä»¥é€‰æ‹©å…³é—­ shadowsocks ä»£ç†ï¼ˆå®é™…ä¸Šæ˜¯å–æ¶ˆå¯¹ç³»ç»Ÿä»£ç†çš„é…ç½®ï¼Œshadowsocks å®¢æˆ·ç«¯ä»ç„¶ä¿æŒå·¥ä½œï¼‰ï¼Œç„¶åä½¿ç”¨æ”¯æŒè‡ªå®šä¹‰è§„åˆ™çš„ä»£ç†ç®¡ç†æ’ä»¶æ¥å®ç°è‡ªåŠ¨åˆ‡æ¢ä»£ç†ï¼Œæ¯”å¦‚ switchyOmegaã€‚ ä½¿ç”¨ switchyOmega å®ç°è‡ªåŠ¨åˆ‡æ¢ä»£ç†switchyOmega æ˜¯ chrome æµè§ˆå™¨ä¸Šä¸€ä¸ªå¾ˆå¥½ç”¨çš„ä»£ç†ç®¡ç†æ’ä»¶ã€‚å®ƒçš„å‰èº« switchySharp æ›´æœ‰åã€‚ chrome åº”ç”¨å•†åº—æœ¬èº«éœ€è¦ç¿»å¢™æ‰èƒ½è®¿é—®ï¼Œå› æ­¤éœ€è¦å…ˆåœ¨ shadowsocks å¯åŠ¨ä»£ç†æ¨¡å¼ä¸‹ä¸‹è½½å®‰è£…ï¼Œå†å…³é—­ shadowsocks ä»£ç†ã€‚ å®‰è£…å®Œæ¯•åï¼Œå³å‡» switchyOmega å›¾æ ‡ï¼Œé€‰æ‹©é€‰é¡¹ï¼Œè¿›å…¥ switchOmega é…ç½®ç•Œé¢ã€‚ åˆ›å»º shadowsocks æƒ…æ™¯æ¨¡å¼ æ–°å»ºä¸€ä¸ªæƒ…æ™¯æ¨¡å¼ï¼Œæ¯”å¦‚å« SSï¼Œä»£ç†åè®®é€‰æ‹© socks5ï¼Œä»£ç†åœ°å€ä¸º 127.0.0.1ï¼Œç«¯å£ 1080ã€‚ ç°åœ¨åˆ‡æ¢åˆ° SS æƒ…æ™¯æ¨¡å¼å°±å¯ä»¥é€šè¿‡ shadowsocks ç§‘å­¦ä¸Šç½‘äº†ã€‚åé¢è·å–è‡ªåŠ¨åˆ‡æ¢è§„åˆ™åˆ—è¡¨ è®¾ç½®è‡ªåŠ¨åˆ‡æ¢æ¨¡å¼ åœ¨è®¾ç½®ç•Œé¢é€‰æ‹©è‡ªåŠ¨åˆ‡æ¢æ¨¡å¼ï¼Œåœ¨ â€œåˆ‡æ¢è§„åˆ™â€ ä¸­å‹¾é€‰â€œè§„åˆ™åˆ—è¡¨è§„åˆ™â€ï¼Œå¯¹åº”çš„æƒ…æ™¯æ¨¡å¼é€‰æ‹©åˆšåˆšæ–°å»ºçš„ SSã€‚ ç„¶ååœ¨ä¸‹é¢çš„è§„åˆ™åˆ—è¡¨åœ°å€ä¸­å¡«å†™ https://autoproxy-gfwlist.googlecode.com/svn/trunk/gfwlist.txt è§„åˆ™åˆ—è¡¨æ ¼å¼é€‰æ‹© AutoProxyã€‚ ç„¶åç‚¹å‡»ç«‹å³æ›´æ–°æƒ…æ™¯æ¨¡å¼ï¼Œ æ›´æ–°å®Œæˆåä¼šæœ‰æç¤ºã€‚ ç‚¹å‡»å·¦ä¾§çš„ â€œåº”ç”¨é€‰é¡¹â€ã€‚ç„¶åå•å‡» switchyOmega å›¾æ ‡ï¼Œé€‰æ‹©è‡ªåŠ¨åˆ‡æ¢ï¼Œå°±å¯ä»¥åœ¨è®¿é—®â€œä¸å­˜åœ¨çš„ç½‘ç«™â€ æ—¶è‡ªåŠ¨åˆ‡æ¢åˆ° shadowsocks ä»£ç†äº†ã€‚ æ·»åŠ è‡ªå®šä¹‰è§„åˆ™ å¦‚æœé‡åˆ°æŸä¸ªå›½å¤–ç½‘ç«™æ— æ³•ç›´æ¥è¿æ¥æˆ–é€Ÿåº¦å¤ªæ…¢æ—¶ï¼Œå¯ä»¥å•å‡» switchyOmega å›¾æ ‡ï¼Œé€‰æ‹© â€œæ·»åŠ æ¡ä»¶â€ï¼Œæƒ…æ™¯æ¨¡å¼é€‰æ‹© SSï¼Œå°±å¯ä»¥äº†ã€‚ è¿™æ—¶æ‰“å¼€ switchyOmega é€‰é¡¹ï¼Œåœ¨è‡ªåŠ¨åˆ‡æ¢æ¨¡å¼çš„åˆ‡æ¢è§„åˆ™ä¸­å°±å¯ä»¥çœ‹åˆ°åˆšåˆšæ·»åŠ çš„è§„åˆ™ã€‚å¯ä»¥åœ¨è¿™é‡Œç®¡ç†è‡ªå®šä¹‰çš„è§„åˆ™ã€‚ å¯¼å…¥å’Œå¯¼å‡º switchyOmega è®¾ç½® å¦‚æœæ¢äº†ä¸€å°ç”µè„‘ï¼Œé‡æ–°è®¾ç½®ä¸€é switchyOmega å°±å¤ªéº»çƒ¦äº†ã€‚å¯ä»¥åœ¨è®¾ç½®å¥½çš„ switchyOmega ä¸­å¯¼å‡ºè®¾ç½®æ–‡ä»¶ï¼Œåœ¨å¦ä¸€ä¸ª chrome æµè§ˆå™¨ä¸­å¯¼å…¥ï¼Œå°±å¯ä»¥ç›´æ¥å¤åˆ¶åŸæ¥çš„è®¾ç½®äº†ã€‚ åœ¨ switchyOmega é€‰é¡¹çš„å·¦ä¾§ç‚¹å‡» â€œå¯¼å…¥ / å¯¼å‡ºâ€ï¼Œç‚¹å‡»â€œç”Ÿæˆå¤‡ä»½æ–‡ä»¶â€ å³å¯ç”Ÿæˆ switchyOmega è®¾ç½®å¤‡ä»½ã€‚ç‚¹å‡» â€œä»å¤‡ä»½æ–‡ä»¶æ¢å¤â€ å¯ä»¥å¯¼å…¥å¤‡ä»½æ–‡ä»¶ã€‚ (apt install shadowsocks-libev ) å‘ï¼š 1.è¿œç¨‹è¿æ¥ubuntuç³»ç»Ÿæ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @ WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED! @ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY! Someone could be eavesdropping on you right now (man-in-the-middle attack)! It is also possible that a host key has just been changed. The fingerprint for the ECDSA key sent by the remote host is SHA256:JHdZe0uj0FNj0PzyxFFNGZ5TU4M0aY/HsyTRON2CgQ4. Please contact your system administrator. Add correct host key in /Users/*****/.ssh/known_hosts to get rid of this message. Offending ECDSA key in /Users/*****/.ssh/known_hosts:6 ECDSA host key for 45.77.195.128 has changed and you have requested strict checking. è¿™ç§æƒ…å†µå¯èƒ½æ˜¯å› ä¸ºå·²ç»ç™»é™†è¿‡ï¼Œä½†æ˜¯ä½ ä¿®æ”¹è¿‡äº†ubuntuç³»ç»Ÿçš„ä¿¡æ¯ï¼Œå¯¼è‡´sshä¿¡æ¯ä¸ä¸€è‡´ï¼Œåªéœ€è¦æ‰¾åˆ°.sshæ–‡ä»¶ï¼ˆMacç³»ç»Ÿé‡Œé¢ä½¿ç”¨command+shift+.æ¥æ˜¾ç¤ºéšè—æ–‡ä»¶ï¼Œä¸€èˆ¬.sshæ–‡ä»¶å°±åœ¨ä¸ªäººæ–‡ä»¶å¤¹é‡Œé¢ï¼‰ï¼Œåˆ é™¤å¯¹åº”çš„ipä¿¡æ¯å°±å¥½ã€‚ 2.åœ¨pip install shadowsocksæ—¶ä¼šå‡ºç°errorï¼š ImportError: No module named setuptools è§£å†³åŠæ³•ï¼š wget http://pypi.python.org/packages/source/s/setuptools/setuptools-0.6c11.tar.gz tar zxvf setuptools-0.6c11.tar.gz cd setuptools-0.6c11 python setup.py build python setup.py install 3.error: invalid command â€˜bdist_wheelâ€™ è§£å†³åŠæ³•ï¼š pip install setuptools --upgrade","tags":[{"name":"ç§‘å­¦ä¸Šç½‘","slug":"ç§‘å­¦ä¸Šç½‘","permalink":"https://shleyz.github.io/tags/ç§‘å­¦ä¸Šç½‘/"}]},{"title":"Webpack","date":"2017-10-16T07:02:14.000Z","path":"2017/10/16/Webpack/","text":"webpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„æ¨¡å—æ‰“åŒ…å™¨(module bundler)ã€‚å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾(dependency graph)ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆå°‘é‡çš„ bundle - é€šå¸¸åªæœ‰ä¸€ä¸ªï¼Œç”±æµè§ˆå™¨åŠ è½½ã€‚ 1.å®‰è£…webpack æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹webpack npm init æ­¤æ—¶æœ€å¥½æŠŠpackage.jsonä¸­çš„nameæ”¹æ‰ï¼Œä¸èƒ½æ˜¯webpackï¼Œå¦åˆ™å±€éƒ¨å®‰è£…webpackæ—¶ä¼šæŠ¥é”™ã€‚æ”¹ä¸ºwebpack-testã€‚ npm install webpack --save-dev ç”¨ç¼–è¾‘å™¨æ‰“å¼€ npm install css-loader style-loader â€“save-dev 2.webpackä½¿ç”¨ å…¥å£:å‘Šè¯‰ webpack ä»å“ªé‡Œå¼€å§‹ï¼Œå¹¶æ ¹æ®ä¾èµ–å…³ç³»å›¾ç¡®å®šéœ€è¦æ‰“åŒ…çš„å†…å®¹ã€‚å¯ä»¥å°†åº”ç”¨ç¨‹åºçš„å…¥å£èµ·ç‚¹è®¤ä¸ºæ˜¯æ ¹ä¸Šä¸‹æ–‡(contextual root) æˆ– app ç¬¬ä¸€ä¸ªå¯åŠ¨æ–‡ä»¶ã€‚ å‡ºå£:å°†æ‰€æœ‰çš„èµ„æº(assets)å½’æ‹¢åœ¨ä¸€èµ·åï¼Œè¿˜éœ€è¦å‘Šè¯‰ webpack åœ¨å“ªé‡Œæ‰“åŒ…åº”ç”¨ç¨‹åºã€‚webpack çš„ output å±æ€§æè¿°äº†å¦‚ä½•å¤„ç†å½’æ‹¢åœ¨ä¸€èµ·çš„ä»£ç (bundled code)ã€‚ Loader:webpack æŠŠæ¯ä¸ªæ–‡ä»¶(.css, .html, .scss, .jpg, etc.) éƒ½ä½œä¸ºæ¨¡å—å¤„ç†ã€‚ç„¶è€Œ webpack è‡ªèº«åªç†è§£ JavaScriptã€‚webpack loader åœ¨æ–‡ä»¶è¢«æ·»åŠ åˆ°ä¾èµ–å›¾ä¸­æ—¶ï¼Œå…¶è½¬æ¢ä¸ºæ¨¡å—ã€‚(loaderçš„ä½œç”¨ï¼š1.è¯†åˆ«éœ€è¦è½¬æ¢çš„æ–‡ä»¶ï¼Œ2.è½¬æ¢è¿™äº›æ–‡ä»¶ï¼Œä»è€Œä½¿è¿™äº›æ–‡ä»¶æ·»åŠ åˆ°ä¾èµ–å›¾)ã€‚ æ’ä»¶:webpack çš„æ’ä»¶ç³»ç»Ÿæå…¶å¼ºå¤§å’Œå¯å®šåˆ¶åŒ–ã€‚è¦ä½¿ç”¨ä¸€ä¸ªæ’ä»¶ï¼Œéœ€è¦å…ˆrequireå®ƒï¼Œå†æŠŠå®ƒæ·»åŠ åˆ°pluginæ•°ç»„ä¸­ã€‚ ä¸‹é¢æ˜¯webpack.config.js: const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;); //installed via npm const webpack = require(&apos;webpack&apos;); //to access built-in plugins const path = require(&apos;path&apos;); const config = { entry: &apos;./path/to/my/entry/file.js&apos;, output: { path: path.resolve(__dirname, &apos;dist&apos;), filename: &apos;my-first-webpack.bundle.js&apos; }, module: { rules: [ { test: /\\.txt$/, use: &apos;raw-loader&apos; } ] }, plugins: [ new webpack.optimize.UglifyJsPlugin(), new HtmlWebpackPlugin({template: &apos;./src/index.html&apos;}) ] }; module.exports = config; å…¥å£å•ä¸ªå…¥å£ï¼š const config = { entry: { main: &apos;./path/to/my/entry/file.js&apos; } }; å¤šä¸ªå…¥å£ï¼ˆå¯¹è±¡å½¢å¼ï¼‰ï¼š const config = { entry: { app: &apos;./src/app.js&apos;, vendors: &apos;./src/vendors.js&apos; } }; åˆ†ç¦» åº”ç”¨ç¨‹åº(app) å’Œ ç¬¬ä¸‰æ–¹åº“(vendor) å…¥å£ã€‚ï¼ˆæˆ–è€…å¤šé¡µé¢åº”ç”¨ç¨‹åºï¼‰ è¾“å‡ºoutputå³ä½¿å¯ä»¥å­˜åœ¨å¤šä¸ªå…¥å£èµ·ç‚¹ï¼Œä½†åªæŒ‡å®šä¸€ä¸ªè¾“å‡ºé…ç½®ã€‚ åœ¨ webpack ä¸­é…ç½® output å±æ€§çš„æœ€ä½è¦æ±‚æ˜¯ï¼Œå°†å®ƒçš„å€¼è®¾ç½®ä¸ºä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…æ‹¬ä»¥ä¸‹ä¸¤ç‚¹ï¼š filename ç”¨äºè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶åã€‚ ç›®æ ‡è¾“å‡ºç›®å½• path çš„ç»å¯¹è·¯å¾„ã€‚ const config = { output: { path: &apos;/home/proj/public/assets&apos;, filename: &apos;bundle.js&apos; } } å¦‚æœæœ‰å¤šä¸ªå…¥å£ï¼Œåº”è¯¥ä½¿ç”¨å ä½ç¬¦(substitutions)æ¥ç¡®ä¿æ¯ä¸ªæ–‡ä»¶å…·æœ‰å”¯ä¸€çš„åç§°ï¼š { entry: { app: &apos;./src/app.js&apos;, vendors: &apos;./src/vendors.js&apos; } output: { filename: &apos;[name].js&apos;, path: __dirname + bundle.js } } // å†™å…¥åˆ°ç¡¬ç›˜ï¼š./dist/app.js, ./dist/search.js loaderå¯¹æ¨¡å—çš„æºä»£ç è¿›è¡Œè½¬æ¢ã€‚ loader å¯ä»¥å°†æ–‡ä»¶ä»ä¸åŒçš„è¯­è¨€ï¼ˆå¦‚ TypeScriptï¼‰è½¬æ¢ä¸º JavaScriptï¼Œæˆ–å°†å†…è”å›¾åƒè½¬æ¢ä¸º data URLã€‚loader ç”šè‡³å…è®¸ä½ ç›´æ¥åœ¨ JavaScript æ¨¡å—ä¸­ import CSSæ–‡ä»¶ï¼ module.exports = { entry: { â€¦ }, output: { â€¦ }, module: { rules:[ {test: /.css$/, use: â€˜css-loaderâ€™}, {test:/.ts$/, use: â€˜ts-loaderâ€™} ] } } loaderçš„ä½¿ç”¨æ–¹æ³•æœ‰ä¸‰ç§ï¼š 1.æ¨èé…ç½®webpack.config.js module: { rules: [ { test: /\\.css$/, use: [ { loader: &apos;style-loader&apos; }, { loader: &apos;css-loader&apos;, options: { modules: true } } ] } ] } 2.å†…è” import Styles from &apos;style-loader!css-loader?modules!./styles.css&apos;; 3.CLI(webpackå‘½ä»¤è¡Œå€Ÿå£) webpack --module-bind jade-loader --module-bind &apos;css=style-loader!css-loader&apos; æ’ä»¶æ’ä»¶æ˜¯webpackçš„æ”¯æŸ±åŠŸèƒ½ï¼Œç›®çš„æ˜¯è§£å†³loaderæ— æ³•å®ç°çš„äº‹æƒ…ã€‚ ç”¨æ³•ï¼š webpack é…ç½®ä¸­ï¼Œå‘ plugins å±æ€§ä¼ å…¥ new å®ä¾‹ã€‚ plugins: [ new webpack.optimize.UglifyJsPlugin(), new HtmlWebpackPlugin({template: &apos;./src/index.html&apos;}) ] é…ç½®1.é€šè¿‡require(â€¦)å¯¼å…¥å…¶ä»–æ–‡ä»¶2.é€šè¿‡require(â€¦)ä½¿ç”¨npmçš„å·¥å…·å‡½æ•°3.ä½¿ç”¨JSçš„æ§åˆ¶æµè¡¨è¾¾å¼4.å¯¹å¸¸ç”¨å€¼ä½¿ç”¨å¸¸é‡æˆ–è€…å˜é‡5.ç¼–å†™å¹¶æ‰§è¡Œå‡½æ•°æ¥ç”Ÿæˆéƒ¨åˆ†é…ç½® æ¨¡å—åœ¨æ¨¡å—åŒ–ç¼–ç¨‹ä¸­ï¼Œå¼€å‘è€…å°†ç¨‹åºåˆ†è§£æˆç¦»æ•£åŠŸèƒ½å—ï¼Œç§°ä¸ºæ¨¡å—ã€‚","tags":[]},{"title":"pythoné¢˜ç›®","date":"2017-10-14T05:27:40.000Z","path":"2017/10/14/pythoné¢˜ç›®/","text":"1.æ‰“å°å¤šè¡Œå­—ç¬¦ä¸²ï¼š 123456&gt;&gt;&gt; print('''line1... line2... line3''')line1line2line3 2.ç»ƒä¹ æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„ä½¿ç”¨ï¼š 12&gt;&gt;&gt; 'Hello, &#123;0&#125;, æˆç»©æå‡äº† &#123;1:.1f&#125;%'.format('å°æ˜', 17.125)'Hello, å°æ˜, æˆç»©æå‡äº† 17.1%' 3.å°æ˜èº«é«˜1.75ï¼Œä½“é‡80.5kgã€‚è¯·æ ¹æ®BMIå…¬å¼ï¼ˆä½“é‡é™¤ä»¥èº«é«˜çš„å¹³æ–¹ï¼‰å¸®å°æ˜è®¡ç®—ä»–çš„BMIæŒ‡æ•°ï¼Œå¹¶æ ¹æ®BMIæŒ‡æ•°ï¼š ä½äº18.5ï¼šè¿‡è½»18.5-25ï¼šæ­£å¸¸25-28ï¼šè¿‡é‡28-32ï¼šè‚¥èƒ–é«˜äº32ï¼šä¸¥é‡è‚¥èƒ–ç”¨if-elifåˆ¤æ–­å¹¶æ‰“å°ç»“æœï¼š 1234567891011121314151617# -*- coding: utf-8 -*-height = 1.75weight = 80.5bmi = weight/(height*height)if bmi&lt;18.5: print('è¿‡è½»')elif bmi&lt;25: print('æ­£å¸¸')elif bmi&lt;28: print('è¿‡é‡')elif bmi&lt;32: print('è‚¥èƒ–')else: print('ä¸¥é‡è‚¥èƒ–')&gt;&gt;&gt;è¿‡é‡ 4.è¯·åˆ©ç”¨å¾ªç¯ä¾æ¬¡å¯¹listä¸­çš„æ¯ä¸ªåå­—æ‰“å°å‡ºHello, xxx!ï¼š 123456789# -*- coding: utf-8 -*-L = ['Bart', 'Lisa', 'Adam']for i in L: print('hello,',i)&gt;&gt;&gt; hello, Bart&gt;&gt;&gt; hello, Lisa&gt;&gt;&gt; hello, Adam 5.è¯·åˆ©ç”¨Pythonå†…ç½®çš„hex()å‡½æ•°æŠŠä¸€ä¸ªæ•´æ•°è½¬æ¢æˆåå…­è¿›åˆ¶è¡¨ç¤ºçš„å­—ç¬¦ä¸²ï¼š 123456789# -*- coding: utf-8 -*-n1 = 255n2 = 1000print('n1è½¬æ¢æˆåå…­è¿›åˆ¶ï¼š%s'% (hex(n1)))print('n2è½¬æ¢æˆåå…­è¿›åˆ¶ï¼š%s'% (hex(n2)))&gt;&gt;&gt; n1è½¬æ¢æˆåå…­è¿›åˆ¶ï¼š0xff&gt;&gt;&gt; n2è½¬æ¢æˆåå…­è¿›åˆ¶ï¼š0x3e8 6.è¯·å®šä¹‰ä¸€ä¸ªå‡½æ•°quadratic(a, b, c)ï¼Œæ¥æ”¶3ä¸ªå‚æ•°ï¼Œè¿”å›ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹ï¼šax2 + bx + c = 0çš„ä¸¤ä¸ªè§£ã€‚ æç¤ºï¼šè®¡ç®—å¹³æ–¹æ ¹å¯ä»¥è°ƒç”¨math.sqrt()å‡½æ•°ï¼š 12345678910111213141516# -*- coding: utf-8 -*-import mathdef quadratic(a, b, c): deta = b*b - 4*a*c if deta == 0: return -b/(2*a) elif deta &lt; 0: print('æ— è§£') return else: x1 = (-b + math.sqrt(deta))/(2*a) x2 = (-b - math.sqrt(deta))/(2*a) return x1,x2 7.ä¸€ä¸ªå‡½æ•°ï¼šå¯æ¥æ”¶ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°å¹¶è®¡ç®—ä¹˜ç§¯ 123456789# -*- coding: utf-8 -*-def product(x,*y): result = x if len(y)==0: return result else: for i in y: result = result * i return result 8.æ±‰è¯ºå¡”çš„ç§»åŠ¨å¯ä»¥ç”¨é€’å½’å‡½æ•°éå¸¸ç®€å•åœ°å®ç°ã€‚ è¯·ç¼–å†™move(n, a, b, c)å‡½æ•°ï¼Œå®ƒæ¥æ”¶å‚æ•°nï¼Œè¡¨ç¤º3ä¸ªæŸ±å­Aã€Bã€Cä¸­ç¬¬1ä¸ªæŸ±å­Açš„ç›˜å­æ•°é‡ï¼Œç„¶åæ‰“å°å‡ºæŠŠæ‰€æœ‰ç›˜å­ä»Aå€ŸåŠ©Bç§»åŠ¨åˆ°Cçš„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š 123456789101112131415161718move(3, 'A', 'B', 'C')# æœŸå¾…è¾“å‡º:# A --&gt; C# A --&gt; B# C --&gt; B# A --&gt; C# B --&gt; A# B --&gt; C# A --&gt; C# -*- coding: utf-8 -*-def move(n, a, b, c): if n == 1: print(a, '--&gt;', c) else: move(n-1,a,c,b) move(1,a,b,c) move(n-1,b,a,c) 9.åˆ©ç”¨åˆ‡ç‰‡æ“ä½œï¼Œå®ç°ä¸€ä¸ªtrim()å‡½æ•°ï¼Œå»é™¤å­—ç¬¦ä¸²é¦–å°¾çš„ç©ºæ ¼ï¼Œæ³¨æ„ä¸è¦è°ƒç”¨strçš„strip()æ–¹æ³•ï¼š 1234567# -*- coding: utf-8 -*-def trim(s): while s[0:1] == ' ': s = s[1:] while s[-1:] == ' ': s = s[:-1] return s 10.è¯·ä½¿ç”¨è¿­ä»£æŸ¥æ‰¾ä¸€ä¸ªlistä¸­æœ€å°å’Œæœ€å¤§å€¼ï¼Œå¹¶è¿”å›ä¸€ä¸ªtupleï¼š 123456789101112# -*- coding: utf-8 -*-def findMinAndMax(L): if len(L) == 0: return None,None max_value = L[0] min_value = L[0] for i in L: if max_value &lt; i: max_value = i if min_value &gt; i: min_value = i return min_value,max_value 11.è¯·ä¿®æ”¹åˆ—è¡¨ç”Ÿæˆå¼ï¼Œé€šè¿‡æ·»åŠ ifè¯­å¥ä¿è¯åˆ—è¡¨ç”Ÿæˆå¼èƒ½æ­£ç¡®åœ°æ‰§è¡Œï¼š 12345678910# -*- coding: utf-8 -*-L1 = ['Hello', 'World', 18, 'Apple', None]L2 = [i.lower() for i in L1 if isinstance(i,str)]# æµ‹è¯•:print(L2)if L2 == ['hello', 'world', 'apple']: print('æµ‹è¯•é€šè¿‡!')else: print('æµ‹è¯•å¤±è´¥!') 12.æ¨è¾‰ä¸‰è§’å®šä¹‰å¦‚ä¸‹ï¼š 1 / \\ 1 1 / \\ / \\ 1 2 1 / \\ / \\ / \\ 1 3 3 1 / \\ / \\ / \\ / \\ 1 4 6 4 1 / \\ / \\ / \\ / \\ / \\1 5 10 10 5 1 æŠŠæ¯ä¸€è¡Œçœ‹åšä¸€ä¸ªlistï¼Œè¯•å†™ä¸€ä¸ªç”Ÿæˆå™¨generatorï¼Œä¸æ–­è¾“å‡ºä¸‹ä¸€è¡Œçš„listï¼š 12345678910111213141516171819202122232425# -*- coding: utf-8 -*-def triangles(): result = [1] while True: yield result result = [result[x] + result[x+1] for x in range(len(result)-1)] result.append(1) result.insert(0,1) if n&gt;10: break``` è¾“å‡º:``` python&gt;&gt;&gt; [1]&gt;&gt;&gt; [1, 1]&gt;&gt;&gt; [1, 2, 1]&gt;&gt;&gt; [1, 3, 3, 1]&gt;&gt;&gt; [1, 4, 6, 4, 1]&gt;&gt;&gt; [1, 5, 10, 10, 5, 1]&gt;&gt;&gt; [1, 6, 15, 20, 15, 6, 1]&gt;&gt;&gt; [1, 7, 21, 35, 35, 21, 7, 1]&gt;&gt;&gt; [1, 8, 28, 56, 70, 56, 28, 8, 1]&gt;&gt;&gt; [1, 9, 36, 84, 126, 126, 84, 36, 9, 1] 13.åˆ©ç”¨map()å‡½æ•°ï¼ŒæŠŠç”¨æˆ·è¾“å…¥çš„ä¸è§„èŒƒçš„è‹±æ–‡åå­—ï¼Œå˜ä¸ºé¦–å­—æ¯å¤§å†™ï¼Œå…¶ä»–å°å†™çš„è§„èŒƒåå­—ã€‚è¾“å…¥ï¼š[â€˜adamâ€™, â€˜LISAâ€™, â€˜barTâ€™]ï¼Œè¾“å‡ºï¼š[â€˜Adamâ€™, â€˜Lisaâ€™, â€˜Bartâ€™]ï¼š 12345678910# -*- coding: utf-8 -*-def normalize(name): return name[0].upper()+name[1:].lower()# æµ‹è¯•:L1 = ['adam', 'LISA', 'barT']L2 = list(map(normalize, L1))print(L2)&gt;&gt;&gt;['Adam', 'Lisa', 'Bart'] 14.ç¼–å†™ä¸€ä¸ªprod()å‡½æ•°ï¼Œå¯ä»¥æ¥å—ä¸€ä¸ªlistå¹¶åˆ©ç”¨reduce()æ±‚ç§¯ï¼š 1234# -*- coding: utf-8 -*-from functools import reducedef prod(L): return reduce(lambda x, y : x * y, L) 15.åˆ©ç”¨mapå’Œreduceç¼–å†™ä¸€ä¸ªstr2floatå‡½æ•°ï¼ŒæŠŠå­—ç¬¦ä¸²â€™123.456â€™è½¬æ¢æˆæµ®ç‚¹æ•°123.456ï¼š 12345678910# -*- coding: utf-8 -*-from functools import reducedef str2float(s): n = s.index('.') s1 = list(map(int, [x for x in s[:n]])) s2 = list(map(int,[x for x in s[n+1:]])) return reduce(lambda x, y : x * 10 + y, s1) + reduce(lambda x, y : x * 10 + y, s2)/10**len(s2)&gt;&gt;&gt; str2float('123.456') = 123.456 16.å›æ•°æ˜¯æŒ‡ä»å·¦å‘å³è¯»å’Œä»å³å‘å·¦è¯»éƒ½æ˜¯ä¸€æ ·çš„æ•°ï¼Œä¾‹å¦‚12321ï¼Œ909ã€‚è¯·åˆ©ç”¨filter()ç­›é€‰å‡ºå›æ•°ï¼š 1234567# -*- coding: utf-8 -*-def is_palindrome(n): n = str(n) return n == n[::-1]list(filter(is_palindrome, range(1, 200)))&gt;&gt;&gt;&gt;[1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 22, 33, 44, 55, 66, 77, 88, 99, 101, 111, 121, 131, 141, 151, 161, 171, 181, 191] 17.å‡è®¾æˆ‘ä»¬ç”¨ä¸€ç»„tupleè¡¨ç¤ºå­¦ç”Ÿåå­—å’Œæˆç»©ï¼š L = [(â€˜Bobâ€™, 75), (â€˜Adamâ€™, 92), (â€˜Bartâ€™, 66), (â€˜Lisaâ€™, 88)]è¯·ç”¨sorted()å¯¹ä¸Šè¿°åˆ—è¡¨åˆ†åˆ«æŒ‰åå­—æ’åºï¼š 123456789# -*- coding: utf-8 -*-L = [('Bob', 75), ('Adam', 92), ('Bart', 66), ('Lisa', 88)]def by_name(t): return t[0]L2 = sorted(L, key=by_name)print(L2)&gt;&gt;&gt; [('Adam', 92), ('Bart', 66), ('Bob', 75), ('Lisa', 88)] å†æŒ‰æˆç»©ä»é«˜åˆ°ä½æ’åºï¼š 1234def by_name(t): return -t[1]&gt;&gt;&gt; [('Adam', 92), ('Lisa', 88), ('Bob', 75), ('Bart', 66)] 18.åˆ©ç”¨é—­åŒ…è¿”å›ä¸€ä¸ªè®¡æ•°å™¨å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨å®ƒè¿”å›é€’å¢æ•´æ•°ï¼š 12345678# -*- coding: utf-8 -*-def createCounter(): n = 0 def counter(): nonlocal n n = n + 1 return n return counter å†…å±‚å‡½æ•°â€å¯ä»¥ä½¿ç”¨â€å¤–å±‚ä½œç”¨åŸŸä¸­çš„å˜é‡,å†…å±‚å‡½æ•°â€æ— æ³•ä¿®æ”¹â€å¤–å±‚å˜é‡,ä½¿ç”¨ nonlocal ä¿®æ”¹å¤–å±‚å˜é‡.é€šå¸¸æƒ…å†µä¸‹ä¸è¦åœ¨å†…éƒ¨å‡½æ•°ä¸­å¯¹å¤–éƒ¨ä½œç”¨åŸŸçš„å˜é‡é‡æ–°èµ‹å€¼ã€‚ 19.è¯·è®¾è®¡ä¸€ä¸ªdecoratorï¼Œå®ƒå¯ä½œç”¨äºä»»ä½•å‡½æ•°ä¸Šï¼Œå¹¶æ‰“å°è¯¥å‡½æ•°çš„æ‰§è¡Œæ—¶é—´ï¼š 12345678910# -*- coding: utf-8 -*-import time, functoolsdef metric(fn): def wrapper(*args,**wk): time_start = time.time() fn(*args,**wk) time_end = time.time() print('%s executed in %s ms' % (fn.__name__, time_end - time_start)) return fn(*args,**wk) return wrapper 20.å®‰è£…å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹æ¨¡å—Anaconda 21.è¯·æŠŠä¸‹é¢çš„Studentå¯¹è±¡çš„genderå­—æ®µå¯¹å¤–éšè—èµ·æ¥ï¼Œç”¨get_gender()å’Œset_gender()ä»£æ›¿ï¼Œå¹¶æ£€æŸ¥å‚æ•°æœ‰æ•ˆæ€§ï¼š 123456789101112# -*- coding: utf-8 -*-class Student(object): def __init__(self, name, gender): self.name = name self.__gender = gender def get_gender(self): return self.__gender def set_gender(self, gende): if not isinstance(gende, str): raise ValueError('Bad Value') else: self.__gender = gende 22.ä¸ºäº†ç»Ÿè®¡å­¦ç”Ÿäººæ•°ï¼Œå¯ä»¥ç»™Studentç±»å¢åŠ ä¸€ä¸ªç±»å±æ€§ï¼Œæ¯åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œè¯¥å±æ€§è‡ªåŠ¨å¢åŠ ï¼š 12345678# -*- coding: utf-8 -*-class Student(object): count = 0 def __init__(self, name): self.name = name Student.count = Student.count + 1 print(Student.count) æµ‹è¯•:123456789101112131415161718if Student.count != 0: print('æµ‹è¯•å¤±è´¥!')else: bart = Student('Bart') if Student.count != 1: print('æµ‹è¯•å¤±è´¥!') else: lisa = Student('Bart') if Student.count != 2: print('æµ‹è¯•å¤±è´¥!') else: print('Students:', Student.count) print('æµ‹è¯•é€šè¿‡!')&gt;&gt;&gt; 1&gt;&gt;&gt; 2&gt;&gt;&gt; Students: 2&gt;&gt;&gt; æµ‹è¯•é€šè¿‡! å®ä¾‹å±æ€§å±äºå„ä¸ªå®ä¾‹æ‰€æœ‰ï¼Œäº’ä¸å¹²æ‰°ï¼› ç±»å±æ€§å±äºç±»æ‰€æœ‰ï¼Œæ‰€æœ‰å®ä¾‹å…±äº«ä¸€ä¸ªå±æ€§ï¼› 23.è¯·åˆ©ç”¨è£…é¥°å™¨@propertyç»™ä¸€ä¸ªScreenå¯¹è±¡åŠ ä¸Šwidthå’Œheightå±æ€§ï¼Œä»¥åŠä¸€ä¸ªåªè¯»å±æ€§resolutionï¼š 123456789101112131415161718192021# -*- coding: utf-8 -*-class Screen(object): @property def width(self): return self._width @width.setter def width(self,value): self._width = value @property def height(self): return self._height @height.setter def height(self,value): self._height = value @property def resolution(self): self._resolution = 786432 return self._resolution æµ‹è¯•: 123456789101112s = Screen()s.width = 1024s.height = 768print('resolution =', s.resolution)if s.resolution == 786432: print('æµ‹è¯•é€šè¿‡!')else: print('æµ‹è¯•å¤±è´¥!') #ç»“æœï¼š&gt;&gt;&gt; resolution = 786432&gt;&gt;&gt; æµ‹è¯•é€šè¿‡! 24.åˆ©ç”¨osæ¨¡å—ç¼–å†™ä¸€ä¸ªèƒ½å®ç°dir -lè¾“å‡ºçš„ç¨‹åºã€‚(æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹) &gt;&gt;&gt; import os &gt;&gt;&gt; print([x for x in os.listdir('.')]) ['.deploy_git', '.DS_Store', '.gitignore', '_config.yml', 'db.json', 'debug.log', 'node_modules', 'package.json', 'public', 'scaffolds', 'source', 'themes']","tags":[]},{"title":"ES6çš„babelè½¬ç å™¨","date":"2017-10-14T01:43:06.000Z","path":"2017/10/14/ES6çš„babelè½¬ç å™¨/","text":"æˆ‘ä½¿ç”¨çš„æ˜¯Macç³»ç»Ÿï¼Œwebstormï¼Œåœ¨webstormä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ES6ï¼Œå®‰è£…babelã€‚ï¼ˆé¦–å…ˆè¦å®‰è£…nodeï¼‰1.åœ¨ES6é¡¹ç›®ä¸‹æ‰§è¡Œnpm init -y (æ ¹æ®æƒé™ä¸åŒï¼Œæœ‰çš„æ—¶å€™å‰é¢éœ€è¦åŠ sudoï¼šsudo npm init -yï¼Œç„¶åè¾“å…¥ç®¡ç†å‘˜å¯†ç ) è¿™æ ·æ˜¯ä¸ºäº†ç”Ÿæˆä¸€ä¸ªpackage.jsonçš„æ–‡ä»¶ 2.æœ¬åœ°å®‰è£…babelå‘½ä»¤è¡Œå·¥å…·ï¼Œè¿™æ ·å°±å¯ä»¥å‘½ä»¤è¡Œä½¿ç”¨babelã€‚babelå‘½ä»¤è¡Œå·¥å…·å¯ä»¥å…¨å±€å®‰è£…ä¹Ÿå¯æœ¬åœ°å®‰è£…ï¼Œä¸è¿‡å®˜æ–¹æ¨èæœ¬åœ°å®‰è£…ï¼ŒåŸå› æœ‰ä¸¤ç‚¹ï¼š æœ¬åœ°å®‰è£…ä¸åŒçš„é¡¹ç›®å¯ä»¥ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„babelï¼Œä½ ä¹Ÿå¯ä»¥å•ç‹¬å¯¹æŸä¸ªé¡¹ç›®çš„babelè¿›è¡Œå‡çº§ç­‰æ“ä½œ æ¯ä¸ªé¡¹ç›®å•ç‹¬å®‰è£…çš„æ„å‘³ç€å¯¹è®¡ç®—æœºç¯å¢ƒæ²¡æœ‰ä¾èµ–ï¼Œä¾¿äºç§»æ¤ å®‰è£…ï¼š npm install --save-dev babel-cli è¿™æ—¶é¡¹ç›®é‡Œé¢åˆäº†node_modulesæ–‡ä»¶å¤¹ å¦‚æœä½ å·²ç»å…¨å±€å®‰è£…äº†babel-cli,å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å¸è½½ï¼š npm uninstall --global babel-cli è¿™æ—¶çš„package.jsonæ–‡ä»¶å¦‚ä¸‹ï¼š 12345678910111213141516&#123; \"name\": \"ES6-babel\", \"version\": \"1.0.0\", \"description\": \"\", \"main\": \"index.js\", \"scripts\": &#123; \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\" &#125;, \"keywords\": [], \"author\": \"\", \"license\": \"ISC\", \"devDependencies\": &#123; \"babel-cli\": \"^6.26.0\" &#125;&#125; 3.åœ¨å‘½ä»¤è¡Œä¸­è°ƒç”¨babelæœ¬åœ°å®‰è£…çš„babelæ˜¯ä¸èƒ½å¤Ÿåœ¨ç›´æ¥å‘½ä»¤è¡Œä¸­è¿è¡Œçš„ï¼Œä¸ºäº†åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œbabelï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸è¿‡æ¨èç¬¬ä¸€ç§ï¼š æ–¹æ³•ä¸€ï¼šé…ç½®package.jsonæ–‡ä»¶çš„scriptsé¡¹ï¼ˆåœ¨scriptä¸­æ·»åŠ  â€œbuildâ€: â€œbabel src -d libâ€,â€babelâ€: â€œbabelâ€ï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990 &#123; \"name\": \"ES6-babel\", \"version\": \"1.0.0\", \"description\": \"\", \"main\": \"index.js\", \"scripts\": &#123; \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\", \"build\": \"babel src -d lib\", \"babel\": \"babel\" &#125;, \"keywords\": [], \"author\": \"\", \"license\": \"ISC\", \"devDependencies\": &#123; \"babel-cli\": \"^6.26.0\" &#125; &#125;``` æ–¹æ³•äºŒï¼šè¿›å…¥node_modulesæ–‡ä»¶å¤¹ï¼Œå†è¿›å…¥.binæ–‡ä»¶å¤¹ï¼Œç„¶åæ‰§è¡Œåœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œbabel src -d libã€‚#### 4.åˆ›å»º .babelrc é…ç½®æ–‡ä»¶ type nul&gt;.babelrcæˆ–è€…ï¼š mkfile -n 1m .babelrcéƒ½èƒ½åˆ›å»º.babelrcæ–‡ä»¶ #### 5.å®‰è£…babelè½¬è¯‘å™¨æŠŠES6ä»£ç è½¬æ¢ä¸ºES5çš„ä»£ç å¿…é¡»è¦ç”¨è½¬è¯‘å™¨ï¼Œè£…å¥½éœ€è¦çš„è½¬è¯‘å™¨è¿˜éœ€è¦åœ¨babelrcè¿›è¡Œé…ç½®è¿™äº›è½¬è¯‘å™¨(presets)é€‰é¡¹ã€‚ä¸‹é¢æ˜¯ä¸€äº›è½¬è¯‘å™¨ï¼Œå¯ä»¥é€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œæ ¹æ®è‡ªå·±éœ€è¦å®‰è£…ï¼š ##ES2015è½¬ç è§„åˆ™``` jsnpm install --save-dev babel-preset-es2015``` ##reactè½¬ç è§„åˆ™``` js npm install --save-dev babel-preset-react``` ##ES7ä¸åŒé˜¶æ®µè¯­æ³•ææ¡ˆçš„è½¬ç è§„åˆ™ï¼ˆå…±æœ‰4ä¸ªé˜¶æ®µï¼‰ï¼Œé€‰è£…ä¸€ä¸ª``` js npm install --save-dev babel-preset-stage-0 npm install --save-dev babel-preset-stage-1 npm install --save-dev babel-preset-stage-2 npm install --save-dev babel-preset-stage-3``` #### 6.é…ç½®.babelrcæ–‡ä»¶.babelrcç”¨äºé…ç½®é™¤å›è°ƒä»¥å¤–çš„æ‰€æœ‰babel api é€‰é¡¹ã€‚ä¾‹å¦‚pluginså’Œpresetsã€‚pluginsç”¨äºé…ç½®æˆ‘ä»¬è½¬è¯‘æ‰€éœ€è¦çš„æ’ä»¶ï¼Œpresetsç”¨äºé…ç½®æˆ‘ä»¬æ‰€éœ€è¦çš„è½¬è¯‘å™¨ã€‚æ·»åŠ ï¼š``` json &#123; \"presets\": [ \"es2015\" ], \"plugins\": [] &#125; ``` #### 7.è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ¥è½¬ç äº†ç”±äº\"build\": \"babel src -d lib\",æ‰€ä»¥æˆ‘ä»¬è¦åˆ›å»ºsrcæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ˜¯è¦è½¬ç çš„es6å†…å®¹ä¾‹å¦‚åœ¨ ES6/src/es6.jsé‡Œé¢æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š input.map(item =&gt; item + 1);æ‰§è¡Œå‘½ä»¤ï¼š npm run buildå°±ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªlibæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ˜¯å·²ç»è½¬ç å¥½çš„å†…å®¹ï¼š``` js \"use strict\"; input.map(function (item) &#123; return item + 1; &#125;);","tags":[]},{"title":"bind","date":"2017-10-11T08:33:37.000Z","path":"2017/10/11/bind/","text":"bind()æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°, å½“è¢«è°ƒç”¨æ—¶ï¼Œå°†å…¶thiså…³é”®å­—è®¾ç½®ä¸ºæä¾›çš„å€¼ï¼Œåœ¨è°ƒç”¨æ–°å‡½æ•°æ—¶ï¼Œåœ¨ä»»ä½•æä¾›ä¹‹å‰æä¾›ä¸€ä¸ªç»™å®šçš„å‚æ•°åºåˆ—ã€‚ è¯­æ³•ï¼š 1fun.bind(thisArg[, arg1[, arg2[, ...]]]) å½“ç»‘å®šå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¿™äº›å‚æ•°å°†ç½®äºå®å‚ä¹‹å‰ä¼ é€’ç»™è¢«ç»‘å®šçš„æ–¹æ³•ã€‚ è¿”å›ç”±æŒ‡å®šçš„thiså€¼å’Œåˆå§‹åŒ–å‚æ•°æ”¹é€ çš„åŸå‡½æ•°æ‹·è´ã€‚ bind() å‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ï¼ˆç§°ä¸ºç»‘å®šå‡½æ•°ï¼‰ï¼Œæ–°å‡½æ•°ä¸è¢«è°ƒå‡½æ•°ï¼ˆç»‘å®šå‡½æ•°çš„ç›®æ ‡å‡½æ•°ï¼‰å…·æœ‰ç›¸åŒçš„å‡½æ•°ä½“ï¼ˆåœ¨ ECMAScript 5 è§„èŒƒä¸­å†…ç½®çš„callå±æ€§ï¼‰ã€‚å½“æ–°å‡½æ•°è¢«è°ƒç”¨æ—¶ this å€¼ç»‘å®šåˆ° bind() çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°ä¸èƒ½è¢«é‡å†™ã€‚ç»‘å®šå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œbind() ä¹Ÿæ¥å—é¢„è®¾çš„å‚æ•°æä¾›ç»™åŸå‡½æ•°ã€‚ä¸€ä¸ªç»‘å®šå‡½æ•°ä¹Ÿèƒ½ä½¿ç”¨newæ“ä½œç¬¦åˆ›å»ºå¯¹è±¡ï¼šè¿™ç§è¡Œä¸ºå°±åƒæŠŠåŸå‡½æ•°å½“æˆæ„é€ å™¨ã€‚æä¾›çš„ this å€¼è¢«å¿½ç•¥ï¼ŒåŒæ—¶è°ƒç”¨æ—¶çš„å‚æ•°è¢«æä¾›ç»™æ¨¡æ‹Ÿå‡½æ•°ã€‚","tags":[]},{"title":"Array.prototype.slice.call(obj)","date":"2017-10-11T06:01:38.000Z","path":"2017/10/11/Array-prototype-slice-call-obj/","text":"Array.prototype.slice.call(obj)èƒ½å°†å…·æœ‰lengthå±æ€§çš„å¯¹è±¡objè½¬æ¢ä¸ºæ•°ç»„ã€‚ 1.é¦–å…ˆæˆ‘ä»¬çœ‹Array.prototype.slice() Array.prototype.slice()è¿”å›ä¸€ä¸ªä»å¼€å§‹åˆ°ç»“æŸï¼ˆä¸åŒ…æ‹¬ç»“æŸï¼‰é€‰æ‹©çš„æ•°ç»„çš„ä¸€éƒ¨åˆ†æµ…æ‹·è´åˆ°ä¸€ä¸ªæ–°æ•°ç»„å¯¹è±¡ã€‚å¦‚æœå¼€å§‹å’Œç»“æŸéƒ½çœç•¥ï¼Œé‚£å°±æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œæ˜¯åŸæ¥æ•°ç»„ï¼ˆä»å¤´åˆ°å°¾æµ…æ‹·è´åŸæ•°ç»„ï¼‰ 2.ç„¶åæˆ‘ä»¬çœ‹Function.prototype.call() call()æ–¹æ³•çš„è¯­æ³•æ˜¯ï¼š 12fun.call(thisArg, arg1, arg2, ...) applay()æ–¹æ³•çš„è¯­æ³•ï¼š 12fun.apply(thisArg, [argsArray]) ï¼ˆä¸¤è€…å·®ä¸å¤šï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯callæ¥å—çš„æ˜¯è‹¥å¹²ä¸ªå‚æ•°çš„åˆ—è¡¨ï¼Œè€Œapplyæ¥å—çš„æ˜¯ä¸€ä¸ªå‚æ•°æ•°ç»„,è¿™æ ·å®ç°äº†å¯¹è±¡çš„ç»§æ‰¿ï¼‰ thisArgæ˜¯åœ¨funå‡½æ•°è¿è¡Œæ—¶æŒ‡å®šçš„thiså€¼ï¼Œåé¢çš„arg1, arg2, â€¦æ˜¯æŒ‡å®šçš„å‚æ•°åˆ—è¡¨ã€‚ è¿™æ ·å¾ˆæ¸…æ¥šäº†ï¼ŒArray.prototype.slice.call(obj)å°±æ˜¯æŠŠobjè¿™ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„ï¼Œè®©å®ƒå¯ä»¥æœ‰æ•°ç»„çš„æ–¹æ³•æ¥è¿›è¡Œå…¶ä»–æ“ä½œã€‚ ä¹Ÿå°±ç›¸å½“äºï¼š 12obj.slice() çœ‹æ —å­ï¼š 12345678var a = &#123;length:4,0:'a',1:'b',2:'c',3:'d'&#125;Array.prototype.slice.call(a)//[\"a\", \"b\", \"c\", \"d\"]Array.prototype.slice.call(a,2) //[\"c\", \"d\"]Array.prototype.slice.call(a,2,3)//[\"c\"] ç”¨åœ¨å‡½æ•°å‚æ•°ä¸­ï¼š 1234567function comp(a,b,c,d) &#123; var newArr = Array.prototype.slice.call(arguments); console.log(arguments); console.log(newArr); &#125; comp('a','b','c','d','e'); è¿™æ ·ä»æ§åˆ¶å°çœ‹åˆ°ï¼šargumentsæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€ŒnewArråˆ™æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚","tags":[]},{"title":"å…³äºES6è¯­æ³•","date":"2017-09-28T02:39:20.000Z","path":"2017/09/28/å…³äºES6è¯­æ³•/","text":"1.letå’Œconstå‘½ä»¤let1.letç”¨æ³•ç±»ä¼¼varï¼Œä½†æ˜¯letå£°æ˜çš„å˜é‡åªåœ¨letä»£ç å—å†…æœ‰æ•ˆã€‚ç”¨letå¾ˆé€‚ç”¨äºforå¾ªç¯ã€‚ 2.forå¾ªç¯æœ‰ä¸€ä¸ªç‰¹åˆ«ä¹‹å¤„ï¼Œå°±æ˜¯è®¾ç½®å¾ªç¯å˜é‡çš„é‚£éƒ¨åˆ†æ˜¯ä¸€ä¸ªçˆ¶ä½œç”¨åŸŸï¼Œè€Œå¾ªç¯ä½“å†…éƒ¨æ˜¯ä¸€ä¸ªå•ç‹¬çš„å­ä½œç”¨åŸŸã€‚ 12345678for (let i = 0; i &lt; 3; i++) &#123; let i = 'abc'; console.log(i);&#125;// abc// abc// abc ä¸Šé¢ä»£ç æ­£ç¡®è¿è¡Œï¼Œè¾“å‡ºäº†3æ¬¡abcã€‚è¿™è¡¨æ˜å‡½æ•°å†…éƒ¨çš„å˜é‡iä¸å¾ªç¯å˜é‡iä¸åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸï¼Œæœ‰å„è‡ªå•ç‹¬çš„ä½œç”¨åŸŸã€‚ 3.letä¸å­˜åœ¨å˜é‡æå‡ï¼Œå³ä¸å¯ä»¥æ²¡æœ‰å£°æ˜å°±ä½¿ç”¨ã€‚å¦åˆ™ä¼šæŠ¥é”™ã€‚ 12345678// var çš„æƒ…å†µconsole.log(foo); // è¾“å‡ºundefinedvar foo = 2;// let çš„æƒ…å†µconsole.log(bar); // æŠ¥é”™ReferenceErrorlet bar = 2; è¿™è¡¨ç¤ºåœ¨letå£°æ˜barä¹‹å‰ï¼Œå˜é‡baræ˜¯ä¸å­˜åœ¨çš„ï¼Œè¿™æ—¶å¦‚æœç”¨åˆ°å®ƒï¼Œå°±ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚ 4.æš‚æ—¶æ€§æ­»åŒº ES6æ˜ç¡®è§„å®šï¼Œå¦‚æœåŒºå—ä¸­å­˜åœ¨letå’Œconstå‘½ä»¤ï¼Œè¿™ä¸ªåŒºå—å¯¹è¿™äº›å‘½ä»¤å£°æ˜çš„å˜é‡ï¼Œä»ä¸€å¼€å§‹å°±å½¢æˆäº†å°é—­ä½œç”¨åŸŸã€‚å‡¡æ˜¯åœ¨å£°æ˜ä¹‹å‰å°±ä½¿ç”¨è¿™äº›å˜é‡ï¼Œå°±ä¼šæŠ¥é”™ã€‚æ€»ä¹‹ï¼Œåœ¨ä»£ç å—å†…ï¼Œä½¿ç”¨letå‘½ä»¤å£°æ˜å˜é‡ä¹‹å‰ï¼Œè¯¥å˜é‡éƒ½æ˜¯ä¸å¯ç”¨çš„ã€‚è¿™åœ¨è¯­æ³•ä¸Šï¼Œç§°ä¸ºâ€œæš‚æ—¶æ€§æ­»åŒºâ€ï¼ˆtemporal dead zoneï¼Œç®€ç§° TDZï¼‰ã€‚ ES6 è§„å®šæš‚æ—¶æ€§æ­»åŒºå’Œletã€constè¯­å¥ä¸å‡ºç°å˜é‡æå‡ï¼Œä¸»è¦æ˜¯ä¸ºäº†å‡å°‘è¿è¡Œæ—¶é”™è¯¯ï¼Œé˜²æ­¢åœ¨å˜é‡å£°æ˜å‰å°±ä½¿ç”¨è¿™ä¸ªå˜é‡ï¼Œä»è€Œå¯¼è‡´æ„æ–™ä¹‹å¤–çš„è¡Œä¸ºã€‚è¿™æ ·çš„é”™è¯¯åœ¨ ES5 æ˜¯å¾ˆå¸¸è§çš„ï¼Œç°åœ¨æœ‰äº†è¿™ç§è§„å®šï¼Œé¿å…æ­¤ç±»é”™è¯¯å°±å¾ˆå®¹æ˜“äº†ã€‚ 5.ä¸å…è®¸é‡å¤å£°æ˜ letä¸å…è®¸åœ¨ç›¸åŒä½œç”¨åŸŸå†…ï¼Œé‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡ã€‚ 123456789101112// æŠ¥é”™function func() &#123; let a = 10; var a = 1;&#125;// æŠ¥é”™function func() &#123; let a = 10; let a = 1;&#125; å› æ­¤ï¼Œä¸èƒ½åœ¨å‡½æ•°å†…éƒ¨é‡æ–°å£°æ˜å‚æ•°ã€‚ 12345678910function func(arg) &#123; let arg; // æŠ¥é”™&#125;function func(arg) &#123; &#123; let arg; // ä¸æŠ¥é”™ &#125;&#125; å—çº§ä½œç”¨åŸŸES5çš„ä½œç”¨åŸŸåªæœ‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸES6ä¸­çš„letç›¸å½“äºå¢åŠ äº†å—çº§ä½œç”¨åŸŸ 1.å—çº§ä½œç”¨åŸŸçš„å‡ºç°ï¼Œå®é™…ä¸Šä½¿å¾—è·å¾—å¹¿æ³›åº”ç”¨çš„ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼ˆIIFEï¼‰ä¸å†å¿…è¦äº†ã€‚ 123456789101112// IIFE å†™æ³•(function () &#123; var tmp = ...; ...&#125;());// å—çº§ä½œç”¨åŸŸå†™æ³•&#123; let tmp = ...; ...&#125; 2.å—çº§ä½œç”¨åŸŸä¸å‡½æ•°å£°æ˜ ES5 è§„å®šï¼Œå‡½æ•°åªèƒ½åœ¨é¡¶å±‚ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸä¹‹ä¸­å£°æ˜ï¼Œä¸èƒ½åœ¨å—çº§ä½œç”¨åŸŸå£°æ˜ã€‚ 123456789101112// æƒ…å†µä¸€ï¼ˆåœ¨ES5è§„å®šä¸­æ˜¯éæ³•çš„ï¼Œä½†æ˜¯å®é™…å¯ä»¥è¿è¡Œä¸ä¼šæŠ¥é”™ï¼‰if (true) &#123; function f() &#123;&#125;&#125;// æƒ…å†µäºŒï¼ˆåœ¨ES5è§„å®šä¸­æ˜¯éæ³•çš„ï¼Œä½†æ˜¯å®é™…å¯ä»¥è¿è¡Œä¸ä¼šæŠ¥é”™ï¼‰try &#123; function f() &#123;&#125;&#125; catch(e) &#123; // ...&#125; ES6 è§„å®šï¼Œå—çº§ä½œç”¨åŸŸä¹‹ä¸­ï¼Œå‡½æ•°å£°æ˜è¯­å¥çš„è¡Œä¸ºç±»ä¼¼äºletï¼Œåœ¨å—çº§ä½œç”¨åŸŸä¹‹å¤–ä¸å¯å¼•ç”¨ã€‚ ES6åœ¨é™„å½•Bé‡Œé¢è§„å®šï¼Œæµè§ˆå™¨çš„å®ç°å¯ä»¥ä¸éµå®ˆä¸Šé¢çš„è§„å®šï¼Œæœ‰è‡ªå·±çš„è¡Œä¸ºæ–¹å¼ã€‚ å…è®¸åœ¨å—çº§ä½œç”¨åŸŸå†…å£°æ˜å‡½æ•°ã€‚ å‡½æ•°å£°æ˜ç±»ä¼¼äºvarï¼Œå³ä¼šæå‡åˆ°å…¨å±€ä½œç”¨åŸŸæˆ–å‡½æ•°ä½œç”¨åŸŸçš„å¤´éƒ¨ã€‚ åŒæ—¶ï¼Œå‡½æ•°å£°æ˜è¿˜ä¼šæå‡åˆ°æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸçš„å¤´éƒ¨ã€‚ æ³¨æ„ï¼Œä¸Šé¢ä¸‰æ¡è§„åˆ™åªå¯¹ ES6 çš„æµè§ˆå™¨å®ç°æœ‰æ•ˆï¼Œå…¶ä»–ç¯å¢ƒçš„å®ç°ä¸ç”¨éµå®ˆï¼Œè¿˜æ˜¯å°†å—çº§ä½œç”¨åŸŸçš„å‡½æ•°å£°æ˜å½“ä½œletå¤„ç†ã€‚ è€ƒè™‘åˆ°ç¯å¢ƒå¯¼è‡´çš„è¡Œä¸ºå·®å¼‚å¤ªå¤§ï¼Œåº”è¯¥é¿å…åœ¨å—çº§ä½œç”¨åŸŸå†…å£°æ˜å‡½æ•°ã€‚å¦‚æœç¡®å®éœ€è¦ï¼Œä¹Ÿåº”è¯¥å†™æˆå‡½æ•°è¡¨è¾¾å¼ï¼Œè€Œä¸æ˜¯å‡½æ•°å£°æ˜è¯­å¥ã€‚ 12345678910111213141516// å‡½æ•°å£°æ˜è¯­å¥&#123; let a = 'secret'; function f() &#123; return a; &#125;&#125;// å‡½æ•°è¡¨è¾¾å¼&#123; let a = 'secret'; let f = function () &#123; return a; &#125;;&#125; const å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡1.ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼ä¸èƒ½æ”¹å˜ã€‚å¹¶ä¸”å£°æ˜çš„æ—¶å€™å¿…é¡»èµ‹å€¼ï¼Œä¸èƒ½å…ˆå£°æ˜åèµ‹å€¼ã€‚ 123456const PI = 3.1415;PI // 3.1415PI = 3;// TypeError: Assignment to constant variable. 2.constä¸letçš„ä½œç”¨åŸŸä¸€æ ·ï¼Œåªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆã€‚ 12345if (true) &#123; const MAX = 5;&#125;MAX // Uncaught ReferenceError: MAX is not defined 3.conståŒæ ·å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªèƒ½åœ¨å£°æ˜çš„ä½ç½®åé¢ä½¿ç”¨ã€‚ 4.constå£°æ˜çš„å¸¸é‡ï¼Œä¹Ÿä¸letä¸€æ ·ä¸å¯é‡å¤å£°æ˜ã€‚ 5.constå®é™…ä¸Šä¿è¯çš„ï¼Œå¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ä¸å¾—æ”¹åŠ¨ã€‚å¯¹äºç®€å•ç±»å‹çš„æ•°æ®ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œå€¼å°±ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ç­‰åŒäºå¸¸é‡ã€‚ä½†å¯¹äºå¤åˆç±»å‹çš„æ•°æ®ï¼ˆä¸»è¦æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼‰ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œconståªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„ï¼Œè‡³äºå®ƒæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯ä¸æ˜¯å¯å˜çš„ï¼Œå°±å®Œå…¨ä¸èƒ½æ§åˆ¶äº†ã€‚ ES6å£°æ˜å¯¹è±¡çš„å…­ç§æ–¹æ³•ES5æœ‰:var,functionä¸¤ç§æ–¹æ³• ES6æœ‰:var,function,let,const,import,classå…­ç§æ–¹æ³• é¡¶å±‚å¯¹è±¡çš„å±æ€§ES5ä¹‹ä¸­ï¼Œé¡¶å±‚å¯¹è±¡çš„å±æ€§ä¸å…¨å±€å˜é‡æ˜¯ç­‰ä»·çš„ã€‚ 123456window.a = 1;a // 1a = 2;window.a // 2 é¡¶å±‚å¯¹è±¡çš„å±æ€§ä¸å…¨å±€å˜é‡æŒ‚é’©ï¼Œè¢«è®¤ä¸ºæ˜¯JavaScriptè¯­è¨€æœ€å¤§çš„è®¾è®¡è´¥ç¬”ä¹‹ä¸€ã€‚è¿™æ ·çš„è®¾è®¡å¸¦æ¥äº†å‡ ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œé¦–å…ˆæ˜¯æ²¡æ³•åœ¨ç¼–è¯‘æ—¶å°±æŠ¥å‡ºå˜é‡æœªå£°æ˜çš„é”™è¯¯ï¼Œåªæœ‰è¿è¡Œæ—¶æ‰èƒ½çŸ¥é“ï¼ˆå› ä¸ºå…¨å±€å˜é‡å¯èƒ½æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§åˆ›é€ çš„ï¼Œè€Œå±æ€§çš„åˆ›é€ æ˜¯åŠ¨æ€çš„ï¼‰ï¼›å…¶æ¬¡ï¼Œç¨‹åºå‘˜å¾ˆå®¹æ˜“ä¸çŸ¥ä¸è§‰åœ°å°±åˆ›å»ºäº†å…¨å±€å˜é‡ï¼ˆæ¯”å¦‚æ‰“å­—å‡ºé”™ï¼‰ï¼›æœ€åï¼Œé¡¶å±‚å¯¹è±¡çš„å±æ€§æ˜¯åˆ°å¤„å¯ä»¥è¯»å†™çš„ï¼Œè¿™éå¸¸ä¸åˆ©äºæ¨¡å—åŒ–ç¼–ç¨‹ã€‚å¦ä¸€æ–¹é¢ï¼Œwindowå¯¹è±¡æœ‰å®ä½“å«ä¹‰ï¼ŒæŒ‡çš„æ˜¯æµè§ˆå™¨çš„çª—å£å¯¹è±¡ï¼Œé¡¶å±‚å¯¹è±¡æ˜¯ä¸€ä¸ªæœ‰å®ä½“å«ä¹‰çš„å¯¹è±¡ï¼Œä¹Ÿæ˜¯ä¸åˆé€‚çš„ã€‚ ES6ä¸ºäº†æ”¹å˜è¿™ä¸€ç‚¹ï¼Œä¸€æ–¹é¢è§„å®šï¼Œä¸ºäº†ä¿æŒå…¼å®¹æ€§ï¼Œvarå‘½ä»¤å’Œfunctionå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¾æ—§æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§ï¼›å¦ä¸€æ–¹é¢è§„å®šï¼Œletå‘½ä»¤ã€constå‘½ä»¤ã€classå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¸å±äºé¡¶å±‚å¯¹è±¡çš„å±æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»ES6å¼€å§‹ï¼Œå…¨å±€å˜é‡å°†é€æ­¥ä¸é¡¶å±‚å¯¹è±¡çš„å±æ€§è„±é’©ã€‚ 12345678var a = 1;// å¦‚æœåœ¨Nodeçš„REPLç¯å¢ƒï¼Œå¯ä»¥å†™æˆglobal.a// æˆ–è€…é‡‡ç”¨é€šç”¨æ–¹æ³•ï¼Œå†™æˆthis.awindow.a // 1let b = 1;window.b // undefined å…¨å±€å˜é‡aç”±varå‘½ä»¤å£°æ˜ï¼Œæ‰€ä»¥å®ƒæ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§ï¼›å…¨å±€å˜é‡bç”±letå‘½ä»¤å£°æ˜ï¼Œæ‰€ä»¥å®ƒä¸æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§ï¼Œè¿”å›undefinedã€‚ 2.å˜é‡çš„ç»“æ„èµ‹å€¼æ•°ç»„çš„è§£æ„èµ‹å€¼ES6 å…è®¸æŒ‰ç…§ä¸€å®šæ¨¡å¼ï¼Œä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼ï¼Œå¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œè¿™è¢«ç§°ä¸ºè§£æ„ï¼ˆDestructuringï¼‰ã€‚ let [a, b, c] = [1, 2, 3]; ä»æ•°ç»„ä¸­æå–å€¼ï¼ŒæŒ‰ç…§å¯¹åº”ä½ç½®ï¼Œå¯¹å˜é‡èµ‹å€¼ã€‚å¦‚æœè§£æ„ä¸æˆåŠŸï¼Œå˜é‡çš„å€¼å°±ç­‰äºundefinedã€‚å¦‚æœç­‰å·çš„å³è¾¹ä¸æ˜¯æ•°ç»„ï¼ˆæˆ–è€…ä¸¥æ ¼åœ°è¯´ï¼Œä¸æ˜¯å¯éå†çš„ç»“æ„ï¼‰ï¼Œé‚£ä¹ˆå°†ä¼šæŠ¥é”™ã€‚ è§£æ„èµ‹å€¼å…è®¸æŒ‡å®šé»˜è®¤å€¼ã€‚ï¼ˆå¦‚æœä¸€ä¸ªæ•°ç»„æˆå‘˜ä¸ä¸¥æ ¼ç­‰äºundefinedï¼Œé»˜è®¤å€¼æ˜¯ä¸ä¼šç”Ÿæ•ˆçš„ã€‚ï¼‰ 12345let [foo = true] = [];foo // truelet [x, y = 'b'] = ['a']; // x='a', y='b'let [x, y = 'b'] = ['a', undefined]; // x='a', y='b' å¦‚æœé»˜è®¤å€¼æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œé‚£ä¹ˆè¿™ä¸ªè¡¨è¾¾å¼æ˜¯æƒ°æ€§æ±‚å€¼çš„ï¼Œå³åªæœ‰åœ¨ç”¨åˆ°çš„æ—¶å€™ï¼Œæ‰ä¼šæ±‚å€¼ã€‚ å¯¹è±¡çš„è§£æ„èµ‹å€¼å¯¹è±¡çš„è§£æ„ä¸æ•°ç»„æœ‰ä¸€ä¸ªé‡è¦çš„ä¸åŒã€‚æ•°ç»„çš„å…ƒç´ æ˜¯æŒ‰æ¬¡åºæ’åˆ—çš„ï¼Œå˜é‡çš„å–å€¼ç”±å®ƒçš„ä½ç½®å†³å®šï¼›è€Œå¯¹è±¡çš„å±æ€§æ²¡æœ‰æ¬¡åºï¼Œå˜é‡å¿…é¡»ä¸å±æ€§åŒåï¼Œæ‰èƒ½å–åˆ°æ­£ç¡®çš„å€¼ã€‚ 1234567let &#123; bar, foo &#125; = &#123; foo: \"aaa\", bar: \"bbb\" &#125;;foo // \"aaa\"bar // \"bbb\"let &#123; baz &#125; = &#123; foo: \"aaa\", bar: \"bbb\" &#125;;baz // undefined å¯¹è±¡çš„è§£æ„èµ‹å€¼çš„å†…éƒ¨æœºåˆ¶ï¼Œæ˜¯å…ˆæ‰¾åˆ°åŒåå±æ€§ï¼Œç„¶åå†èµ‹ç»™å¯¹åº”çš„å˜é‡ã€‚çœŸæ­£è¢«èµ‹å€¼çš„æ˜¯åè€…ï¼Œè€Œä¸æ˜¯å‰è€…ã€‚ å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼å­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚ let {length : len} = &apos;hello&apos;; len // 5 è§£æ„èµ‹å€¼çš„è§„åˆ™æ˜¯ï¼Œåªè¦ç­‰å·å³è¾¹çš„å€¼ä¸æ˜¯å¯¹è±¡æˆ–æ•°ç»„ï¼Œå°±å…ˆå°†å…¶è½¬ä¸ºå¯¹è±¡ã€‚ç”±äºundefinedå’Œnullæ— æ³•è½¬ä¸ºå¯¹è±¡ï¼Œæ‰€ä»¥å¯¹å®ƒä»¬è¿›è¡Œè§£æ„èµ‹å€¼ï¼Œéƒ½ä¼šæŠ¥é”™ã€‚ åœ†æ‹¬å·çš„é—®é¢˜ES6 çš„è§„åˆ™æ˜¯ï¼Œåªè¦æœ‰å¯èƒ½å¯¼è‡´è§£æ„çš„æ­§ä¹‰ï¼Œå°±ä¸å¾—ä½¿ç”¨åœ†æ‹¬å·ã€‚å› æ­¤ï¼Œå»ºè®®åªè¦æœ‰å¯èƒ½ï¼Œå°±ä¸è¦åœ¨æ¨¡å¼ä¸­æ”¾ç½®åœ†æ‹¬å·ã€‚ ä¸å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·çš„æƒ…å†µï¼š 1.å˜é‡å£°æ˜è¯­å¥2.å‡½æ•°å‚æ•°3.èµ‹å€¼è¯­å¥çš„æ¨¡å¼ å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·çš„æƒ…å†µï¼š åªæœ‰ä¸€ç§ï¼šèµ‹å€¼è¯­å¥çš„éæ¨¡å¼éƒ¨åˆ†ï¼Œå¯ä»¥ä½¿ç”¨åœ†æ‹¬å·ã€‚ 1234[(b)] = [3]; // æ­£ç¡®(&#123; p: (d) &#125; = &#123;&#125;); // æ­£ç¡®[(parseInt.prop)] = [3]; // æ­£ç¡® å˜é‡è§£æ„èµ‹å€¼çš„ç”¨é€”1.äº¤æ¢å˜é‡çš„å€¼ 1234let x = 1;let y = 2;[x, y] = [y, x]; 2.ä»å‡½æ•°è¿”å›å¤šä¸ªå€¼ 123456789101112131415// è¿”å›ä¸€ä¸ªæ•°ç»„function example() &#123; return [1, 2, 3];&#125;let [a, b, c] = example();// è¿”å›ä¸€ä¸ªå¯¹è±¡function example() &#123; return &#123; foo: 1, bar: 2 &#125;;&#125;let &#123; foo, bar &#125; = example(); 3.å‡½æ•°å‚æ•°çš„å®šä¹‰ 12345678// å‚æ•°æ˜¯ä¸€ç»„æœ‰æ¬¡åºçš„å€¼function f([x, y, z]) &#123; ... &#125;f([1, 2, 3]);// å‚æ•°æ˜¯ä¸€ç»„æ— æ¬¡åºçš„å€¼function f(&#123;x, y, z&#125;) &#123; ... &#125;f(&#123;z: 3, y: 2, x: 1&#125;); 4.æå–JSONæ•°æ® 1234567891011let jsonData = &#123; id: 42, status: \"OK\", data: [867, 5309]&#125;;let &#123; id, status, data: number &#125; = jsonData;console.log(id, status, number);// 42, \"OK\", [867, 5309] 5.å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ 123456789101112jQuery.ajax = function (url, &#123; async = true, beforeSend = function () &#123;&#125;, cache = true, complete = function () &#123;&#125;, crossDomain = false, global = true, // ... more config&#125;) &#123; // ... do stuff&#125;; 6.éå†Mapç»“æ„ 1234567891011// ä»»ä½•éƒ¨ç½²äº†Iteratoræ¥å£çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥ç”¨for...ofå¾ªç¯éå†ã€‚const map = new Map();map.set('first', 'hello');map.set('second', 'world');for (let [key, value] of map) &#123; console.log(key + \" is \" + value);&#125;// first is hello// second is world 7.è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³• const { SourceMapConsumer, SourceNode } = require(&quot;source-map&quot;); 3.å­—ç¬¦ä¸²çš„æ‰©å±•codePointAt() â€”è¿”å›ä¸€ä¸ªå­—ç¬¦çš„ç ç‚¹ã€‚String.fromCodePoint() â€”ä»ç ç‚¹è¿”å›å¯¹åº”å­—ç¬¦ã€‚å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£ â€”å­—ç¬¦ä¸²å¯ä»¥è¢«forâ€¦ofå¾ªç¯éå†ã€‚normalize() â€”å°†å­—ç¬¦çš„ä¸åŒè¡¨ç¤ºæ–¹æ³•ç»Ÿä¸€ä¸ºåŒæ ·çš„å½¢å¼ï¼Œè¿™ç§°ä¸º Unicode æ­£è§„åŒ–ã€‚includes(), startsWith(), endsWith()repeat(n) â€”è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå°†åŸå­—ç¬¦ä¸²é‡å¤næ¬¡ã€‚padStart()ï¼ŒpadEnd() â€”å¤´éƒ¨è¡¥å…¨ï¼Œå°¾éƒ¨è¡¥å…¨æ¨¡æ¿å­—ç¬¦ä¸² â€”ä½¿ç”¨In JavaScript &#39;\\n&#39; is a line-feed.æ¨¡æ¿å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ï¼Œéœ€è¦å°†å˜é‡åå†™åœ¨${}ä¹‹ä¸­ã€‚ä½¿ç”¨&lt;%â€¦%&gt;æ”¾ç½®JavaScriptä»£ç ï¼Œä½¿ç”¨&lt;%= â€¦ %&gt;è¾“å‡ºJavaScriptè¡¨è¾¾å¼ã€‚æ ‡ç­¾æ¨¡æ¿String.raw() â€”æ¨¡æ¿å­—ç¬¦ä¸²çš„å¤„ç†å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–œæ éƒ½è¢«è½¬ä¹‰ï¼ˆå³æ–œæ å‰é¢å†åŠ ä¸€ä¸ªæ–œæ ï¼‰çš„å­—ç¬¦ä¸² 4.æ­£åˆ™çš„æ‰©å±•1.RegExpæ„é€ å‡½æ•°åœ¨ES5ä¸­RegExpæ„é€ å‡½æ•°çš„å‚æ•°æœ‰ä¸¤ç§è¡¨ç°å½¢å¼ï¼š var regex = new RegExp(&apos;xyz&apos;, &apos;i&apos;); var regex = new RegExp(/xyz/i); åœ¨ç¬¬äºŒç§å‚æ•°ä¸ºæ­£åˆ™è¡¨è¾¾å¼æ—¶ï¼Œä¸å…è®¸æœ‰ç¬¬äºŒä¸ªå‚æ•°ã€‚ ä½†æ˜¯åœ¨ES6ä¸­ï¼Œå¦‚æœRegExpæ„é€ å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ­£åˆ™å¯¹è±¡ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šä¿®é¥°ç¬¦ã€‚å¹¶ä¸”ä¼šå¿½ç•¥ç¬¬ä¸€ä¸ªå‚æ•°æ­£åˆ™é‡Œé¢çš„ä¿®é¥°ç¬¦ï¼Œåªä½¿ç”¨æ–°çš„ä¿®é¥°ç¬¦ã€‚ new RegExp(/abc/ig, &apos;i&apos;).flags // &quot;i&quot; 2.å­—ç¬¦ä¸²çš„æ­£åˆ™æ–¹æ³•match()replace()search()split() 3.uä¿®é¥°ç¬¦ES6 å¯¹æ­£åˆ™è¡¨è¾¾å¼æ·»åŠ äº†uä¿®é¥°ç¬¦ï¼Œå«ä¹‰ä¸ºâ€œUnicodeæ¨¡å¼â€ï¼Œç”¨æ¥æ­£ç¡®å¤„ç†å¤§äº\\uFFFFçš„ Unicode å­—ç¬¦ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¼šæ­£ç¡®å¤„ç†å››ä¸ªå­—èŠ‚çš„ UTF-16 ç¼–ç ã€‚ 1.ç‚¹ï¼ˆ.ï¼‰å­—ç¬¦åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œå«ä¹‰æ˜¯é™¤äº†æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å•ä¸ªå­—ç¬¦ã€‚å¯¹äºç ç‚¹å¤§äº0xFFFFçš„ Unicode å­—ç¬¦ï¼Œç‚¹å­—ç¬¦ä¸èƒ½è¯†åˆ«ï¼Œå¿…é¡»åŠ ä¸Šuä¿®é¥°ç¬¦ã€‚ var s = &apos;ğ ®·&apos;; /^.$/.test(s) // false /^.$/u.test(s) // true 2.Unicode å­—ç¬¦è¡¨ç¤ºæ³•ï¼šES6 æ–°å¢äº†ä½¿ç”¨å¤§æ‹¬å·è¡¨ç¤º Unicode å­—ç¬¦ï¼Œè¿™ç§è¡¨ç¤ºæ³•åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å¿…é¡»åŠ ä¸Šuä¿®é¥°ç¬¦ï¼Œæ‰èƒ½è¯†åˆ«å½“ä¸­çš„å¤§æ‹¬å·ï¼Œå¦åˆ™ä¼šè¢«è§£è¯»ä¸ºé‡è¯ã€‚ /\\u{61}/.test(&apos;a&apos;) // false /\\u{61}/u.test(&apos;a&apos;) // true /\\u{20BB7}/u.test(&apos;ğ ®·&apos;) // true 3.é‡è¯:ä½¿ç”¨uä¿®é¥°ç¬¦åï¼Œæ‰€æœ‰é‡è¯éƒ½ä¼šæ­£ç¡®è¯†åˆ«ç ç‚¹å¤§äº0xFFFFçš„ Unicode å­—ç¬¦ã€‚ /a{2}/.test(&apos;aa&apos;) // true /a{2}/u.test(&apos;aa&apos;) // true /ğ ®·{2}/.test(&apos;ğ ®·ğ ®·&apos;) // false /ğ ®·{2}/u.test(&apos;ğ ®·ğ ®·&apos;) // true 4.é¢„å®šä¹‰æ¨¡å¼ /^\\S$/.test(&apos;ğ ®·&apos;) // false /^\\S$/u.test(&apos;ğ ®·&apos;) // true ä¸Šé¢ä»£ç çš„\\Sæ˜¯é¢„å®šä¹‰æ¨¡å¼ï¼ŒåŒ¹é…æ‰€æœ‰ä¸æ˜¯ç©ºæ ¼çš„å­—ç¬¦ã€‚åªæœ‰åŠ äº†uä¿®é¥°ç¬¦ï¼Œå®ƒæ‰èƒ½æ­£ç¡®åŒ¹é…ç ç‚¹å¤§äº0xFFFFçš„ Unicode å­—ç¬¦ã€‚ 5.i ä¿®é¥°ç¬¦:æœ‰äº› Unicode å­—ç¬¦çš„ç¼–ç ä¸åŒï¼Œä½†æ˜¯å­—å‹å¾ˆç›¸è¿‘ï¼Œæ¯”å¦‚ï¼Œ\\u004Bä¸\\u212Aéƒ½æ˜¯å¤§å†™çš„Kã€‚ /[a-z]/i.test(&apos;\\u212A&apos;) // false /[a-z]/iu.test(&apos;\\u212A&apos;) // true ä¸Šé¢ä»£ç ä¸­ï¼Œä¸åŠ uä¿®é¥°ç¬¦ï¼Œå°±æ— æ³•è¯†åˆ«éè§„èŒƒçš„Kå­—ç¬¦ã€‚ yä¿®é¥°ç¬¦â€”â€œç²˜è¿â€ï¼ˆstickyï¼‰ä¿®é¥°ç¬¦yä¿®é¥°ç¬¦çš„ä½œç”¨ä¸gä¿®é¥°ç¬¦ç±»ä¼¼ï¼Œä¹Ÿæ˜¯å…¨å±€åŒ¹é…ï¼Œåä¸€æ¬¡åŒ¹é…éƒ½ä»ä¸Šä¸€æ¬¡åŒ¹é…æˆåŠŸçš„ä¸‹ä¸€ä¸ªä½ç½®å¼€å§‹ã€‚ä¸åŒä¹‹å¤„åœ¨äºï¼Œgä¿®é¥°ç¬¦åªè¦å‰©ä½™ä½ç½®ä¸­å­˜åœ¨åŒ¹é…å°±å¯ï¼Œè€Œyä¿®é¥°ç¬¦ç¡®ä¿åŒ¹é…å¿…é¡»ä»å‰©ä½™çš„ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹ï¼Œè¿™ä¹Ÿå°±æ˜¯â€œç²˜è¿â€çš„æ¶µä¹‰ã€‚ yä¿®é¥°ç¬¦çš„è®¾è®¡æœ¬æ„ï¼Œå°±æ˜¯è®©å¤´éƒ¨åŒ¹é…çš„æ ‡å¿—^åœ¨å…¨å±€åŒ¹é…ä¸­éƒ½æœ‰æ•ˆã€‚ å•å•ä¸€ä¸ªyä¿®é¥°ç¬¦å¯¹matchæ–¹æ³•ï¼Œåªèƒ½è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…ï¼Œå¿…é¡»ä¸gä¿®é¥°ç¬¦è”ç”¨ï¼Œæ‰èƒ½è¿”å›æ‰€æœ‰åŒ¹é…ã€‚ &apos;a1a2a3&apos;.match(/a\\d/y) // [&quot;a1&quot;] &apos;a1a2a3&apos;.match(/a\\d/gy) // [&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;] 5.æ•°å€¼çš„æ‰©å±•1.äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶è¡¨ç¤ºæ³•ï¼šES6 æä¾›äº†äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶æ•°å€¼çš„æ–°çš„å†™æ³•ï¼Œåˆ†åˆ«ç”¨å‰ç¼€0bï¼ˆæˆ–0Bï¼‰å’Œ0oï¼ˆæˆ–0Oï¼‰è¡¨ç¤ºã€‚ å¦‚æœè¦å°†0bå’Œ0oå‰ç¼€çš„å­—ç¬¦ä¸²æ•°å€¼è½¬ä¸ºåè¿›åˆ¶ï¼Œè¦ä½¿ç”¨Numberæ–¹æ³•ã€‚ Number(&apos;0b111&apos;) // 7 Number(&apos;0o10&apos;) // 8 2.Number.isFinite(), Number.isNaN()3.Number.parseInt(), Number.parseFloat()// ES5çš„å†™æ³• parseInt(&apos;12.34&apos;) // 12 parseFloat(&apos;123.45#&apos;) // 123.45 // ES6çš„å†™æ³• Number.parseInt(&apos;12.34&apos;) // 12 Number.parseFloat(&apos;123.45#&apos;) // 123.45 4.Number.isInteger()åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºæ•´æ•°5.Number.EPSILONES6åœ¨Numberå¯¹è±¡ä¸Šé¢ï¼Œæ–°å¢ä¸€ä¸ªæå°çš„å¸¸é‡Number.EPSILONã€‚ Number.EPSILON // 2.220446049250313e-16 Number.EPSILON.toFixed(20) // &apos;0.00000000000000022204&apos; Number.EPSILONçš„å®è´¨æ˜¯ä¸€ä¸ªå¯ä»¥æ¥å—çš„è¯¯å·®èŒƒå›´ã€‚ function withinErrorMargin (left, right) { return Math.abs(left - right) &lt; Number.EPSILON; } withinErrorMargin(0.1 + 0.2, 0.3) // true withinErrorMargin(0.2 + 0.2, 0.3) // false ä¸Šé¢çš„ä»£ç ä¸ºæµ®ç‚¹æ•°è¿ç®—ï¼Œéƒ¨ç½²äº†ä¸€ä¸ªè¯¯å·®æ£€æŸ¥å‡½æ•°ã€‚ 6.Mathå¯¹è±¡çš„æ‰©å±•Math.trunc()å»é™¤ä¸€ä¸ªæ•°çš„å°æ•°éƒ¨åˆ†ï¼Œè¿”å›æ•´æ•°éƒ¨åˆ†Math.sign()åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯æ­£æ•°(è¿”å›+1)ã€è´Ÿæ•°(è¿”å›-1)ã€è¿˜æ˜¯0(è¿”å›0)ï¼Œéæ•°å€¼è½¬æ¢ä¸ºæ•°å€¼ï¼Œæ— æ³•è½¬æ¢ä¸ºæ•°å€¼è¿”å›NaNã€‚Math.cbrt()è®¡ç®—ä¸€ä¸ªæ•°çš„ç«‹æ–¹æ ¹Math.clz32()è¿”å›ä¸€ä¸ªæ•°çš„32ä½æ— ç¬¦å·æ•´æ•°å½¢å¼æœ‰å¤šå°‘ä¸ªå‰å¯¼0,å¦‚æœæ˜¯å°æ•°çš„è¯ï¼Œåˆ™åªè€ƒè™‘æ•´æ•°éƒ¨åˆ†ã€‚Math.imul()è¿”å›ä¸¤ä¸ªæ•°ä»¥32ä½å¸¦ç¬¦å·æ•´æ•°å½¢å¼ç›¸ä¹˜çš„ç»“æœï¼Œè¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ª32ä½çš„å¸¦ç¬¦å·æ•´æ•°ã€‚Math.fround()è¿”å›ä¸€ä¸ªæ•°çš„å•ç²¾åº¦æµ®ç‚¹æ•°å½¢å¼ã€‚Math.hyot()è¿”å›æ‰€æœ‰å‚æ•°çš„å¹³æ–¹ä¹‹å’Œçš„å¹³æ–¹æ ¹ã€‚å¦‚æœå‚æ•°ä¸æ˜¯æ•°å€¼ï¼ŒMath.hypotæ–¹æ³•ä¼šå°†å…¶è½¬ä¸ºæ•°å€¼ã€‚åªè¦æœ‰ä¸€ä¸ªå‚æ•°æ— æ³•è½¬ä¸ºæ•°å€¼ï¼Œå°±ä¼šè¿”å›NaNã€‚ å¯¹æ•°æ–¹æ³•ï¼šMath.expm1()è¿”å›ex - 1ï¼Œå³Math.exp(x) - 1ï¼ˆeçš„xæ¬¡æ–¹å‡1ï¼‰.Math.log1p()è¿”å›1 + xçš„è‡ªç„¶å¯¹æ•°ï¼Œå³Math.log(1 + x)ã€‚å¦‚æœxå°äº-1ï¼Œè¿”å›NaNã€‚Math.log10()è¿”å›ä»¥10ä¸ºåº•çš„xçš„å¯¹æ•°ã€‚å¦‚æœxå°äº0ï¼Œåˆ™è¿”å›NaNã€‚Math.log2()è¿”å›ä»¥2ä¸ºåº•çš„xçš„å¯¹æ•°ã€‚å¦‚æœxå°äº0ï¼Œåˆ™è¿”å›NaNã€‚ åŒæ›²å‡½æ•°æ–¹æ³•ï¼šMath.sinh(x)è¿”å›xçš„åŒæ›²æ­£å¼¦Math.cosh(x)è¿”å›xçš„åŒæ›²ä½™å¼¦Math.tanh(x)è¿”å›xçš„åŒæ›²æ­£åˆ‡Math.asinh(x)è¿”å›xçš„ååŒæ›²æ­£å¼¦Math.acosh(x)è¿”å›xçš„ååŒæ›²ä½™å¼¦Math.atanh(x)è¿”å›xçš„ååŒæ›²æ­£åˆ‡ 7.Math.signbit()åˆ¤æ–­å€¼æ˜¯å¦æ˜¯è´Ÿå€¼ï¼ˆåŒ…æ‹¬-0ï¼Œåˆ¤æ–­ç¬¦å·ä½ï¼‰å¦‚æœå‚æ•°æ˜¯NaNï¼Œè¿”å›falseå¦‚æœå‚æ•°æ˜¯-0ï¼Œè¿”å›trueå¦‚æœå‚æ•°æ˜¯è´Ÿå€¼ï¼Œè¿”å›trueå…¶ä»–æƒ…å†µè¿”å›false 8.æŒ‡æ•°è¿ç®—ç¬¦**ES6æ–°å¢çš„æŒ‡æ•°è¿ç®—ç¬¦ï¼š a ** b //açš„bæ¬¡å¹‚ æ³¨ï¼šåœ¨V8å¼•æ“ä¸­ï¼ŒæŒ‡æ•°è¿ç®—ç¬¦ä¸Math.powçš„å®ç°ä¸ç›¸åŒï¼Œå¯¹äºç‰¹åˆ«å¤§çš„è¿ç®—ç»“æœï¼Œä¸¤è€…ä¼šæœ‰ç»†å¾®çš„å·®å¼‚ã€‚ Math.pow(99,99) //3.697296376497263e+197 99 ** 99 //3.697296376497268e+197 9.integeræ•°æ®ç±»å‹JavaScript æ‰€æœ‰æ•°å­—éƒ½ä¿å­˜æˆ64ä½æµ®ç‚¹æ•°ï¼Œè¿™å†³å®šäº†æ•´æ•°çš„ç²¾ç¡®ç¨‹åº¦åªèƒ½åˆ°53ä¸ªäºŒè¿›åˆ¶ä½ã€‚å¤§äºè¿™ä¸ªèŒƒå›´çš„æ•´æ•°ï¼ŒJavaScript æ˜¯æ— æ³•ç²¾ç¡®è¡¨ç¤ºçš„ï¼Œè¿™ä½¿å¾— JavaScript ä¸é€‚åˆè¿›è¡Œç§‘å­¦å’Œé‡‘èæ–¹é¢çš„ç²¾ç¡®è®¡ç®—ã€‚ ä¸ºäº†ä¸ Number ç±»å‹åŒºåˆ«ï¼ŒInteger ç±»å‹çš„æ•°æ®å¿…é¡»ä½¿ç”¨åç¼€nè¡¨ç¤ºã€‚ 6.å‡½æ•°çš„æ‰©å±•1.å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼åœ¨ES6ä»¥å‰æ˜¯ä¸èƒ½ç»™å‚æ•°æŒ‡å®šé»˜è®¤å€¼çš„ï¼Œä½†åœ¨ES6å¯ä»¥ï¼Œå³ç›´æ¥å†™ç€å‚æ•°å®šä¹‰çš„åé¢ã€‚å‚æ•°å˜é‡æ˜¯é»˜è®¤å£°æ˜çš„ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨letæˆ–constå†æ¬¡å£°æ˜ã€‚å‚æ•°ä¸èƒ½æœ‰åŒåå‚æ•°å‡ºç° function(x,y = &apos;world&apos;){ console.log(x,y); } ä¼˜ç‚¹ï¼š1.å¯ä»¥æ˜æ˜¾å¾—çŸ¥é‚£äº›å‚æ•°æ˜¯å¯ä»¥çœç•¥çš„2.åˆ©äºä»£ç çš„ä¼˜åŒ–ï¼Œå³ä½¿æœªæ¥çš„ç‰ˆæœ¬åœ¨å¯¹å¤–æ¥å£ä¸­ï¼Œå½»åº•æ‹¿æ‰è¿™ä¸ªå‚æ•°ï¼Œä¹Ÿä¸ä¼šå¯¼è‡´ä»¥å‰çš„ä»£ç æ— æ³•è¿è¡Œã€‚ 2.å‡½æ•°çš„lengthå±æ€§arguments.lengthæ˜¯å‡½æ•°å®é™…æ¥æ”¶åˆ°çš„å‚æ•°ä¸ªæ•°Function.length æ˜¯å‡½æ•°å½¢å‚çš„ä¸ªæ•°ï¼Œå³æœŸæœ›å¾—åˆ°çš„å‚æ•°çš„ä¸ªæ•° å½“å‡½æ•°åˆ¶å®šäº†é»˜è®¤å€¼ï¼Œå‡½æ•°çš„lengthå±æ€§å°†å¤±çœŸï¼Œå³ä¸åŒ…å«é»˜è®¤å€¼çš„å‚æ•°ï¼ˆä¹Ÿä¸åŒ…å«è®¾ç½®é»˜è®¤å€¼å‚æ•°ä¹‹åçš„å‚æ•°ï¼‰ 1234(function (a) &#123;&#125;).length // 1(function (a = 5) &#123;&#125;).length // 0(function (a, b, c = 5) &#123;&#125;).length // 2 å¦‚æœè®¾ç½®äº†é»˜è®¤å€¼çš„å‚æ•°ä¸æ˜¯å°¾å‚æ•°ï¼Œé‚£ä¹ˆlengthå±æ€§ä¹Ÿä¸å†è®¡å…¥åé¢çš„å‚æ•°äº†ã€‚ 123(function (a = 0, b, c) &#123;&#125;).length // 0(function (a, b = 1, c) &#123;&#125;).length // 1 3.restå‚æ•°ç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼ˆvaluesæ˜¯ä¸€ä¸ªæ•°ç»„ï¼‰ å½¢å¼ä¸º ...å˜é‡å function add(...values){} æ —å­ï¼š 1234567891011function add(...values) &#123; let sum = 0; for(var val of values)&#123; sum += val; &#125; return sum; &#125; add(1,2,3,4,5); //15 æ³¨æ„ï¼Œrest å‚æ•°ä¹‹åä¸èƒ½å†æœ‰å…¶ä»–å‚æ•°ï¼ˆå³åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ å‡½æ•°çš„lengthå±æ€§ï¼Œä¸åŒ…æ‹¬ rest å‚æ•°ã€‚ 1234(function(a) &#123;&#125;).length // 1(function(...a) &#123;&#125;).length // 0(function(a, ...b) &#123;&#125;).length // 1 å‡½æ•°çš„argumentså¯¹è±¡ä¸æ˜¯æ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚æ‰€ä»¥ä¸ºäº†ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ï¼Œå¿…é¡»ä½¿ç”¨Array.prototype.slice.callå…ˆå°†å…¶è½¬ä¸ºæ•°ç»„ã€‚rest å‚æ•°å°±ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œæ•°ç»„ç‰¹æœ‰çš„æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨ã€‚ 123456789function push(array, ...items) &#123; items.forEach(function(item) &#123; array.push(item); console.log(item); &#125;);&#125;var a = [];push(a, 1, 2, 3) 4.ä¸¥æ ¼æ¨¡å¼ä» ES5 å¼€å§‹ï¼Œå‡½æ•°å†…éƒ¨å¯ä»¥è®¾å®šä¸ºä¸¥æ ¼æ¨¡å¼ã€‚ ES2016 åšäº†ä¸€ç‚¹ä¿®æ”¹ï¼Œè§„å®šåªè¦å‡½æ•°å‚æ•°ä½¿ç”¨äº†é»˜è®¤å€¼ã€è§£æ„èµ‹å€¼ã€æˆ–è€…æ‰©å±•è¿ç®—ç¬¦ï¼Œé‚£ä¹ˆå‡½æ•°å†…éƒ¨å°±ä¸èƒ½æ˜¾å¼è®¾å®šä¸ºä¸¥æ ¼æ¨¡å¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ ä¸¤ç§æ–¹æ³•å¯ä»¥è§„é¿è¿™ç§æƒ…å†µï¼š 1.è®¾å®šå…¨å±€æ€§çš„ä¸¥æ ¼æ¨¡å¼ï¼Œè¿™æ˜¯åˆæ³•çš„ã€‚ 123456'use strict';function doSomething(a, b = a) &#123; // code&#125; 2.æŠŠå‡½æ•°åŒ…åœ¨ä¸€ä¸ªæ— å‚æ•°çš„ç«‹å³æ‰§è¡Œå‡½æ•°é‡Œé¢ã€‚ 1234567const doSomething = (function () &#123; 'use strict'; return function(value = 42) &#123; return value; &#125;;&#125;()); 5.nameå±æ€§è¿”å›å‡½æ•°çš„å‡½æ•°å function foo() {} foo.name // &quot;foo&quot; åŒ¿åå‡½æ•°åœ¨ES5å’ŒES6ä¸­è¿”å›ç»“æœä¸ä¸€æ ·ï¼ŒES5è¿”å›ç©ºï¼ŒES6è¿”å›å‡½æ•°å 123456var f = function () &#123;&#125;;// ES5f.name // \"\"// ES6f.name // \"f\" æ„é€ å‡½æ•°çš„nameè¿”å›å€¼ä¸ºï¼šanonymous (new Function).name // &quot;anonymous&quot; bindè¿”å›çš„å‡½æ•°ï¼Œnameå±æ€§å€¼ä¼šåŠ ä¸Šboundå‰ç¼€ã€‚ 12345function foo() &#123;&#125;;foo.bind(&#123;&#125;).name // \"bound foo\"(function()&#123;&#125;).bind(&#123;&#125;).name // \"bound \" 6.ç®­å¤´å‡½æ•°ES6å…è®¸ä½¿ç”¨â€œç®­å¤´â€ï¼ˆ=&gt;ï¼‰å®šä¹‰å‡½æ•°ã€‚ var sum = (num1, num2) =&gt; { return num1 + num2; } (num1, num2)æ˜¯å‚æ•°éƒ¨åˆ†ï¼Œ { return num1 + num2; }æ˜¯å‡½æ•°ä½“ å¦‚æœç®­å¤´å‡½æ•°ä¸éœ€è¦å‚æ•°æˆ–éœ€è¦å¤šä¸ªå‚æ•°ï¼Œå°±ä½¿ç”¨ä¸€ä¸ªåœ†æ‹¬å·ä»£è¡¨å‚æ•°éƒ¨åˆ†ã€‚ 1234var f = () =&gt; 5;// ç­‰åŒäºvar f = function () &#123; return 5 &#125;; ç”±äºå¤§æ‹¬å·è¢«è§£é‡Šä¸ºä»£ç å—ï¼Œæ‰€ä»¥å¦‚æœç®­å¤´å‡½æ•°ç›´æ¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¿…é¡»åœ¨å¯¹è±¡å¤–é¢åŠ ä¸Šæ‹¬å·ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ 123456// æŠ¥é”™let getTempItem = id =&gt; &#123; id: id, name: \"Temp\" &#125;;// ä¸æŠ¥é”™let getTempItem = id =&gt; (&#123; id: id, name: \"Temp\" &#125;); ç®­å¤´å‡½æ•°çš„ä¸€ä¸ªç”¨å¤„æ˜¯ç®€åŒ–å›è°ƒå‡½æ•°ã€‚ 12345678// æ­£å¸¸å‡½æ•°å†™æ³•[1,2,3].map(function (x) &#123; return x * x;&#125;);// ç®­å¤´å‡½æ•°å†™æ³•[1,2,3].map(x =&gt; x * x); rest å‚æ•°ä¸ç®­å¤´å‡½æ•°ç»“åˆçš„ä¾‹å­ï¼š 12345678910const numbers = (...nums) =&gt; nums;numbers(1, 2, 3, 4, 5)// [1,2,3,4,5]const headAndTail = (head, ...tail) =&gt; [head, tail];headAndTail(1, 2, 3, 4, 5)// [1,[2,3,4,5]] ç®­å¤´å‡½æ•°çš„æ³¨æ„ç‚¹ï¼ˆç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼‰ï¼š 1.å‡½æ•°ä½“å†…çš„thiså¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚2.ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚3.ä¸å¯ä»¥ä½¿ç”¨argumentså¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨ rest å‚æ•°ä»£æ›¿ã€‚4.ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°ã€‚ 7.ç»‘å®šthiså‡½æ•°ç»‘å®šè¿ç®—ç¬¦::ï¼Œè¿ç®—ç¬¦å·¦è¾¹æ˜¯å¯¹è±¡ï¼Œå³è¾¹æ˜¯å‡½æ•°ï¼Œå°†å¯¹è±¡ç»‘å®šåˆ°å‡½æ•°çš„thiså¯¹è±¡ä¸Šã€‚ 12345678910111213foo::bar;// ç­‰åŒäºbar.bind(foo);foo::bar(...arguments);// ç­‰åŒäºbar.apply(foo, arguments);const hasOwnProperty = Object.prototype.hasOwnProperty;function hasOwn(obj, key) &#123; return obj::hasOwnProperty(key);&#125; å¦‚æœåŒå†’å·å·¦è¾¹ä¸ºç©ºï¼Œå³è¾¹æ˜¯ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œåˆ™ç­‰äºå°†è¯¥æ–¹æ³•ç»‘å®šåœ¨è¯¥å¯¹è±¡ä¸Šé¢ã€‚ 12345678var method = obj::obj.foo;// ç­‰åŒäºvar method = ::obj.foo;let log = ::console.log;// ç­‰åŒäºvar log = console.log.bind(console); ç”±äºåŒå†’å·è¿ç®—ç¬¦è¿”å›çš„è¿˜æ˜¯åŸå¯¹è±¡ï¼Œå› æ­¤å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ã€‚ 123456789101112131415// ä¾‹ä¸€import &#123; map, takeWhile, forEach &#125; from \"iterlib\";getPlayers()::map(x =&gt; x.character())::takeWhile(x =&gt; x.strength &gt; 100)::forEach(x =&gt; console.log(x));// ä¾‹äºŒlet &#123; find, html &#125; = jake;document.querySelectorAll(\"div.myClass\")::find(\"p\")::html(\"hahaha\"); 8.å°¾è°ƒç”¨ä¼˜åŒ–å°¾è°ƒç”¨å°±æ˜¯å‡½æ•°çš„æœ€åä¸€æ­¥æ˜¯è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ã€‚ â€œå°¾è°ƒç”¨ä¼˜åŒ–â€ï¼ˆTail call optimizationï¼‰ï¼Œå³åªä¿ç•™å†…å±‚å‡½æ•°çš„è°ƒç”¨å¸§ã€‚å¦‚æœæ‰€æœ‰å‡½æ•°éƒ½æ˜¯å°¾è°ƒç”¨ï¼Œé‚£ä¹ˆå®Œå…¨å¯ä»¥åšåˆ°æ¯æ¬¡æ‰§è¡Œæ—¶ï¼Œè°ƒç”¨å¸§åªæœ‰ä¸€é¡¹ï¼Œè¿™å°†å¤§å¤§èŠ‚çœå†…å­˜ã€‚è¿™å°±æ˜¯â€œå°¾è°ƒç”¨ä¼˜åŒ–â€çš„æ„ä¹‰ã€‚ æ³¨æ„ï¼Œåªæœ‰ä¸å†ç”¨åˆ°å¤–å±‚å‡½æ•°çš„å†…éƒ¨å˜é‡ï¼Œå†…å±‚å‡½æ•°çš„è°ƒç”¨å¸§æ‰ä¼šå–ä»£å¤–å±‚å‡½æ•°çš„è°ƒç”¨å¸§ï¼Œå¦åˆ™å°±æ— æ³•è¿›è¡Œâ€œå°¾è°ƒç”¨ä¼˜åŒ–â€ã€‚ 12345678910111213141516function f() &#123; let m = 1; let n = 2; return g(m + n);&#125;f();// ç­‰åŒäºfunction f() &#123; return g(3);&#125;f();// ç­‰åŒäºg(3); å°¾é€’å½’ï¼šå°¾è°ƒç”¨è‡ªèº«çš„æƒ…å†µ é€’å½’éå¸¸è€—è´¹å†…å­˜ï¼Œå› ä¸ºéœ€è¦åŒæ—¶ä¿å­˜æˆåƒä¸Šç™¾ä¸ªè°ƒç”¨å¸§ï¼Œå¾ˆå®¹æ˜“å‘ç”Ÿâ€œæ ˆæº¢å‡ºâ€é”™è¯¯ï¼ˆstack overflowï¼‰ã€‚ä½†å¯¹äºå°¾é€’å½’æ¥è¯´ï¼Œç”±äºåªå­˜åœ¨ä¸€ä¸ªè°ƒç”¨å¸§ï¼Œæ‰€ä»¥æ°¸è¿œä¸ä¼šå‘ç”Ÿâ€œæ ˆæº¢å‡ºâ€é”™è¯¯ã€‚ 1234567function factorial(n) &#123; if (n === 1) return 1; return n * factorial(n - 1);&#125;factorial(5) // 120 ä¸Šé¢ä»£ç æ˜¯ä¸€ä¸ªé˜¶ä¹˜å‡½æ•°ï¼Œè®¡ç®—nçš„é˜¶ä¹˜ï¼Œæœ€å¤šéœ€è¦ä¿å­˜nä¸ªè°ƒç”¨è®°å½•ï¼Œå¤æ‚åº¦ O(n) ã€‚ 1234567function factorial(n, total) &#123; if (n === 1) return total; return factorial(n - 1, n * total);&#125;factorial(5, 1) // 120 å¦‚æœæ”¹å†™æˆå°¾é€’å½’ï¼Œåªä¿ç•™ä¸€ä¸ªè°ƒç”¨è®°å½•ï¼Œå¤æ‚åº¦ O(1) ã€‚ éå°¾é€’å½’çš„ Fibonacci æ•°åˆ—å®ç°å¦‚ä¸‹ã€‚ 12345678910function Fibonacci (n) &#123; if ( n &lt;= 1 ) &#123;return 1&#125;; return Fibonacci(n - 1) + Fibonacci(n - 2);&#125;Fibonacci(10) // 89Fibonacci(100) // å †æ ˆæº¢å‡ºFibonacci(500) // å †æ ˆæº¢å‡º å°¾é€’å½’ä¼˜åŒ–è¿‡çš„ Fibonacci æ•°åˆ—å®ç°å¦‚ä¸‹ã€‚ 12345678910function Fibonacci2 (n , ac1 = 1 , ac2 = 1) &#123; if( n &lt;= 1 ) &#123;return ac2&#125;; return Fibonacci2 (n - 1, ac2, ac1 + ac2);&#125;Fibonacci2(100) // 573147844013817200000Fibonacci2(1000) // 7.0330367711422765e+208Fibonacci2(10000) // Infinity ES6 çš„å°¾è°ƒç”¨ä¼˜åŒ–åªåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å¼€å¯ï¼Œæ­£å¸¸æ¨¡å¼æ˜¯æ— æ•ˆçš„ã€‚ 7.æ•°ç»„çš„æ‰©å±•1.æ‰©å±•è¿ç®—ç¬¦spreadï¼ˆâ€¦ï¼‰å®ƒå¥½æ¯” rest å‚æ•°çš„é€†è¿ç®—ï¼Œå°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ã€‚ä¸»è¦ç”¨äºå‡½æ•°çš„è°ƒç”¨ 1234567891011function push(array, ...items) &#123; array.push(...items);&#125;function add(x, y) &#123; return x + y;&#125;const numbers = [4, 38];add(...numbers) // 42 æ‰©å±•è¿ç®—ç¬¦ä¸æ­£å¸¸çš„å‡½æ•°å‚æ•°å¯ä»¥ç»“åˆä½¿ç”¨ï¼Œéå¸¸çµæ´»ã€‚ 1234function f(v, w, x, y, z) &#123; &#125;const args = [0, 1];f(-1, ...args, 2, ...[3]); æ‰©å±•è¿ç®—ç¬¦å¯ä»¥æ›¿æ¢applyæ–¹æ³•ï¼ˆæŠŠæ•°ç»„è½¬æ¢ä¸ºå‡½æ•°çš„å‚æ•°ï¼‰ï¼š 123456789// ES5 çš„å†™æ³•Math.max.apply(null, [14, 3, 77])// ES6 çš„å†™æ³•Math.max(...[14, 3, 77])// ç­‰åŒäºMath.max(14, 3, 77); ä¸Šé¢ä»£ç ä¸­ï¼Œç”±äº JavaScript ä¸æä¾›æ±‚æ•°ç»„æœ€å¤§å…ƒç´ çš„å‡½æ•°ï¼Œæ‰€ä»¥åªèƒ½å¥—ç”¨Math.maxå‡½æ•°ï¼Œå°†æ•°ç»„è½¬ä¸ºä¸€ä¸ªå‚æ•°åºåˆ—ï¼Œç„¶åæ±‚æœ€å¤§å€¼ã€‚æœ‰äº†æ‰©å±•è¿ç®—ç¬¦ä»¥åï¼Œå°±å¯ä»¥ç›´æ¥ç”¨Math.maxäº†ã€‚ æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨ï¼š 1.å¤åˆ¶æ•°ç»„ å¯¹äºES5ï¼Œä¸€ç»´æ•°ç»„å¯ä»¥ç”¨sliceæˆ–è€…concatå®ç°æ·±æ‹·è´ã€‚ 123456const a1 = [1, 2];const a2 = a1.concat();a2[0] = 2;a1 // [1, 2] ç”¨æ‰©å±•è¿ç®—ç¬¦â€¦å®ç°ï¼š const a1 = [1,2,3]; const a2 = [...a1]; 2.åˆå¹¶æ•°ç»„ 12345// ES5[1, 2].concat(more)// ES6[1, 2, ...more] 3.ä¸è§£æ„èµ‹å€¼ç»“åˆ 4.å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°ç»„ [...&apos;hello&apos;] // [ &quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot; ] 5.å®ç°äº† Iterator æ¥å£çš„å¯¹è±¡ ä»»ä½• Iterator æ¥å£çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥ç”¨æ‰©å±•è¿ç®—ç¬¦è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚ let nodeList = document.querySelectorAll(&apos;div&apos;); let array = [...nodeList]; 2.Array.fromå°†ç±»æ•°ç»„å¯¹è±¡å’Œå¯éå†çš„å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„ 123456Array.from('hello')// ['h', 'e', 'l', 'l', 'o']let namesSet = new Set(['a', 'b'])Array.from(namesSet) // ['a', 'b'] å¯¹äºè¿˜æ²¡æœ‰éƒ¨ç½²è¯¥æ–¹æ³•çš„æµè§ˆå™¨ï¼Œå¯ä»¥ç”¨Array.prototype.sliceæ–¹æ³•æ›¿ä»£ã€‚ Array.fromçš„ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šäº†ç¬¬äºŒä¸ªå‚æ•°è¿è¡Œçš„æ¬¡æ•°ã€‚è¿™ç§ç‰¹æ€§å¯ä»¥è®©è¯¥æ–¹æ³•çš„ç”¨æ³•å˜å¾—éå¸¸çµæ´»ã€‚ Array.from({ length: 2 }, () =&gt; &apos;jack&apos;) // [&apos;jack&apos;, &apos;jack&apos;] 3.Array.ofå°†ä¸€ç»„å€¼ï¼Œè½¬æ¢ä¸ºæ•°ç»„ã€‚ 1234Array.of(3, 11, 8) // [3,11,8]Array.of(3) // [3]Array.of(3).length // 1 4.æ•°ç»„å®ä¾‹çš„copyWithin()æ•°ç»„å®ä¾‹çš„copyWithinæ–¹æ³•ï¼Œåœ¨å½“å‰æ•°ç»„å†…éƒ¨ï¼Œå°†æŒ‡å®šä½ç½®çš„æˆå‘˜å¤åˆ¶åˆ°å…¶ä»–ä½ç½®ï¼ˆä¼šè¦†ç›–åŸæœ‰æˆå‘˜ï¼‰ï¼Œç„¶åè¿”å›å½“å‰æ•°ç»„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¼šä¿®æ”¹å½“å‰æ•°ç»„ã€‚ [1, 2, 3, 4, 5].copyWithin(0, 3) // [4, 5, 3, 4, 5] è¯­æ³•ï¼š Array.prototype.copyWithin(target, start = 0, end = this.length) å®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ã€‚ targetï¼ˆå¿…éœ€ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹æ›¿æ¢æ•°æ®ã€‚startï¼ˆå¯é€‰ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹è¯»å–æ•°æ®ï¼Œé»˜è®¤ä¸º0ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚endï¼ˆå¯é€‰ï¼‰ï¼šåˆ°è¯¥ä½ç½®å‰åœæ­¢è¯»å–æ•°æ®ï¼Œé»˜è®¤ç­‰äºæ•°ç»„é•¿åº¦ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚ 5.æ•°ç»„å®ä¾‹çš„find()å’ŒfindIndex()æ•°ç»„å®ä¾‹çš„findæ–¹æ³•ï¼Œç”¨äºæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜ã€‚å®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ‰€æœ‰æ•°ç»„æˆå‘˜ä¾æ¬¡æ‰§è¡Œè¯¥å›è°ƒå‡½æ•°ï¼Œç›´åˆ°æ‰¾å‡ºç¬¬ä¸€ä¸ªè¿”å›å€¼ä¸ºtrueçš„æˆå‘˜ï¼Œç„¶åè¿”å›è¯¥æˆå‘˜ã€‚å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æˆå‘˜ï¼Œåˆ™è¿”å›undefinedã€‚ æ•°ç»„å®ä¾‹çš„findIndexæ–¹æ³•çš„ç”¨æ³•ä¸findæ–¹æ³•éå¸¸ç±»ä¼¼ï¼Œè¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜çš„ä½ç½®ï¼Œå¦‚æœæ‰€æœ‰æˆå‘˜éƒ½ä¸ç¬¦åˆæ¡ä»¶ï¼Œåˆ™è¿”å›-1ã€‚ [1, 4, -5, 10].find((n) =&gt; n &lt; 0) // -5 [1, 5, 10, 15].findIndex(function(value, index, arr) { return value &gt; 9; }) // 2 è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥å‘ç°NaNï¼Œå¼¥è¡¥äº†æ•°ç»„çš„IndexOfæ–¹æ³•çš„ä¸è¶³ã€‚ [NaN].indexOf(NaN) // -1 [NaN].findIndex(y =&gt; Object.is(NaN, y)) // 0 6.æ•°ç»„å®ä¾‹çš„fill()fillæ–¹æ³•ä½¿ç”¨ç»™å®šå€¼ï¼Œå¡«å……ä¸€ä¸ªæ•°ç»„ã€‚ fillæ–¹æ³•è¿˜å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œç”¨äºæŒ‡å®šå¡«å……çš„èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚ [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;].fill(7, 1, 2) // [&apos;a&apos;, 7, &apos;c&apos;] 7.æ•°ç»„å®ä¾‹çš„ entries(),keys(),values()ES6 æä¾›ä¸‰ä¸ªæ–°çš„æ–¹æ³•â€”â€”entries()ï¼Œkeys()å’Œvalues()â€”â€”ç”¨äºéå†æ•°ç»„ã€‚å®ƒä»¬éƒ½è¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œå¯ä»¥ç”¨forâ€¦ofå¾ªç¯è¿›è¡Œéå†ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯keys()æ˜¯å¯¹é”®åçš„éå†ã€values()æ˜¯å¯¹é”®å€¼çš„éå†ï¼Œentries()æ˜¯å¯¹é”®å€¼å¯¹çš„éå†ã€‚ 123456789101112131415161718for (let index of ['a', 'b'].keys()) &#123; console.log(index);&#125;// 0// 1for (let elem of ['a', 'b'].values()) &#123; console.log(elem);&#125;// 'a'// 'b'for (let [index, elem] of ['a', 'b'].entries()) &#123; console.log(index, elem);&#125;// 0 \"a\"// 1 \"b\" 8.æ•°ç»„å®ä¾‹çš„ includes()Array.prototype.includesæ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ç»™å®šçš„å€¼ï¼Œä¸å­—ç¬¦ä¸²çš„includesæ–¹æ³•ç±»ä¼¼ã€‚ES2016 å¼•å…¥äº†è¯¥æ–¹æ³•ã€‚ [1, 2, 3].includes(2) // true [1, 2, 3].includes(4) // false [1, 2, NaN].includes(NaN) // true 9.æ•°ç»„çš„ç©ºä½æ•°ç»„çš„ç©ºä½æŒ‡ï¼Œæ•°ç»„çš„æŸä¸€ä¸ªä½ç½®æ²¡æœ‰ä»»ä½•å€¼ã€‚æ¯”å¦‚ï¼ŒArrayæ„é€ å‡½æ•°è¿”å›çš„æ•°ç»„éƒ½æ˜¯ç©ºä½ã€‚ Array(3) // [, , ,] ç”±äºç©ºä½çš„å¤„ç†è§„åˆ™éå¸¸ä¸ç»Ÿä¸€ï¼Œæ‰€ä»¥å»ºè®®é¿å…å‡ºç°ç©ºä½ã€‚ 8.å¯¹è±¡çš„æ‰©å±•1.å±æ€§çš„ç®€æ´è¡¨ç¤ºæ³•ES6 å…è®¸åœ¨å¯¹è±¡ä¹‹ä¸­ï¼Œç›´æ¥å†™å˜é‡ã€‚è¿™æ—¶ï¼Œå±æ€§åä¸ºå˜é‡å, å±æ€§å€¼ä¸ºå˜é‡çš„å€¼ã€‚ 123456789101112function f(x, y) &#123; return &#123;x, y&#125;;&#125;// ç­‰åŒäºfunction f(x, y) &#123; return &#123;x: x, y: y&#125;;&#125;f(1, 2) // Object &#123;x: 1, y: 2&#125; æ–¹æ³•çš„ç®€å†™ï¼š 1234567891011121314let birth = '2000/01/01';const Person = &#123; name: 'å¼ ä¸‰', //ç­‰åŒäºbirth: birth birth, // ç­‰åŒäºhello: function ()... hello() &#123; console.log('æˆ‘çš„åå­—æ˜¯', this.name); &#125;&#125;; 2.å±æ€§åè¡¨è¾¾å¼ES6å…è®¸ç”¨è¡¨è¾¾å¼å®šä¹‰å¯¹è±¡çš„å±æ€§åã€‚ 123456let propKey = 'foo';let obj = &#123; [propKey]: true, ['a' + 'bc']: 123&#125;; S6å…è®¸ç”¨è¡¨è¾¾å¼å®šä¹‰å¯¹è±¡çš„æ–¹æ³•åï¼š 12345678let obj = &#123; ['h' + 'ello']() &#123; return 'hi'; &#125;&#125;;obj.hello() // hi æ³¨æ„ï¼Œå±æ€§åè¡¨è¾¾å¼å¦‚æœæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šè‡ªåŠ¨å°†å¯¹è±¡è½¬ä¸ºå­—ç¬¦ä¸²[object Object]ï¼Œè¿™ä¸€ç‚¹è¦ç‰¹åˆ«å°å¿ƒã€‚ 12345678910const keyA = &#123;a: 1&#125;;const keyB = &#123;b: 2&#125;;const myObject = &#123; [keyA]: 'valueA', [keyB]: 'valueB'&#125;;myObject // Object &#123;[object Object]: \"valueB\"&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œ[keyA]å’Œ[keyB]å¾—åˆ°çš„éƒ½æ˜¯[object Object]ï¼Œæ‰€ä»¥[keyB]ä¼šæŠŠ[keyA]è¦†ç›–æ‰ï¼Œè€ŒmyObjectæœ€ååªæœ‰ä¸€ä¸ª[object Object]å±æ€§ã€‚ 3.æ–¹æ³•çš„nameå±æ€§å‡½æ•°çš„nameå±æ€§ï¼Œè¿”å›å‡½æ•°åã€‚å¯¹è±¡æ–¹æ³•ä¹Ÿæ˜¯å‡½æ•°ï¼Œå› æ­¤ä¹Ÿæœ‰nameå±æ€§ã€‚ 12345678const person = &#123; sayName() &#123; console.log('hello!'); &#125;,&#125;;person.sayName.name // \"sayName\" å¦‚æœå¯¹è±¡çš„æ–¹æ³•ä½¿ç”¨äº†å–å€¼å‡½æ•°ï¼ˆgetterï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆsetterï¼‰ï¼Œåˆ™nameå±æ€§ä¸æ˜¯åœ¨è¯¥æ–¹æ³•ä¸Šé¢ï¼Œè€Œæ˜¯è¯¥æ–¹æ³•çš„å±æ€§çš„æè¿°å¯¹è±¡çš„getå’Œsetå±æ€§ä¸Šé¢ï¼Œè¿”å›å€¼æ˜¯æ–¹æ³•åå‰åŠ ä¸Šgetå’Œsetã€‚ æœ‰ä¸¤ç§ç‰¹æ®Šæƒ…å†µï¼šbindæ–¹æ³•åˆ›é€ çš„å‡½æ•°ï¼Œnameå±æ€§è¿”å›boundåŠ ä¸ŠåŸå‡½æ•°çš„åå­—ï¼›Functionæ„é€ å‡½æ•°åˆ›é€ çš„å‡½æ•°ï¼Œnameå±æ€§è¿”å›anonymousã€‚ 1234567(new Function()).name // \"anonymous\"var doSomething = function() &#123; // ...&#125;;doSomething.bind().name // \"bound doSomething\" 4.Object.is()æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ä¸¥æ ¼ç›¸ç­‰å®ƒç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ä¸¥æ ¼ç›¸ç­‰ï¼Œä¸ä¸¥æ ¼æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆ===ï¼‰çš„è¡Œä¸ºåŸºæœ¬ä¸€è‡´ã€‚ å®ƒä»¬çš„ä¸åŒæ˜¯(+0ä¸-0ï¼ŒNaNä¸NaN)ï¼š 123456+0 === -0 //trueNaN === NaN //falseObject.is(+0,-0) //falseObject.is(NaN,NaN) //true 5.Object.assign()ç”¨äºå¯¹è±¡çš„åˆå¹¶12345678const target = &#123; a: 1 &#125;;const source1 = &#123; b: 2 &#125;;const source2 = &#123; c: 3 &#125;;Object.assign(target, source1, source2);target // &#123;a:1, b:2, c:3&#125; æ³¨æ„ï¼Œå¦‚æœç›®æ ‡å¯¹è±¡ä¸æºå¯¹è±¡æœ‰åŒåå±æ€§ï¼Œæˆ–å¤šä¸ªæºå¯¹è±¡æœ‰åŒåå±æ€§ï¼Œåˆ™åé¢çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„å±æ€§ã€‚ å¦‚æœè¯¥å‚æ•°ä¸æ˜¯å¯¹è±¡ï¼Œåˆ™ä¼šå…ˆè½¬æˆå¯¹è±¡ï¼Œç„¶åè¿”å›ã€‚ ç”±äºundefinedå’Œnullæ— æ³•è½¬æˆå¯¹è±¡ï¼Œæ‰€ä»¥å¦‚æœå®ƒä»¬ä½œä¸ºå‚æ•°ï¼Œå°±ä¼šæŠ¥é”™ã€‚ Object.assignæ‹·è´çš„å±æ€§æ˜¯æœ‰é™åˆ¶çš„ï¼Œåªæ‹·è´æºå¯¹è±¡çš„è‡ªèº«å±æ€§ï¼ˆä¸æ‹·è´ç»§æ‰¿å±æ€§ï¼‰ï¼Œä¹Ÿä¸æ‹·è´ä¸å¯æšä¸¾çš„å±æ€§ï¼ˆenumerable: falseï¼‰ã€‚ ç”¨é€”ï¼š 1.ä¸ºå¯¹è±¡æ·»åŠ å±æ€§æˆ–æ–¹æ³•2.å…‹éš†å¯¹è±¡ï¼ˆæµ…æ‹·è´ï¼‰3.åˆå¹¶å¤šä¸ªå¯¹è±¡ const merge =(...sources) =&gt; Object.assign({}, ...sources); 4.ä¸ºå±æ€§æŒ‡å®šé»˜è®¤å€¼ 6.å±æ€§çš„å¯æšä¸¾æ€§å’Œéå†Object.getOwnPropertyDescriptoræ–¹æ³•å¯ä»¥è·å–è¯¥å±æ€§çš„æè¿°å¯¹è±¡ã€‚ 1234567let obj = &#123; foo: 123 &#125;;Object.getOwnPropertyDescriptor(obj, 'foo')//configurable:true//enumerable:true//value:123//writable:true å…¶ä¸­çš„enumerableæšä¸¾å±æ€§ï¼Œå¦‚æœä¸ºfalseï¼Œé‚£ä¹ˆforâ€¦in,Object.keys(),JSON.stringfy(),Object.assign()è¿™äº›æ“ä½œéƒ½ä¼šå¿½ç•¥è¯¥å±æ€§ã€‚ï¼ˆforâ€¦inä¼šéå†ç»§æ‰¿çš„å±æ€§ï¼Œè€ŒObject.keys()åˆ™ä¸ä¼šï¼Œå› æ­¤å½“æˆ‘ä»¬åªå…³å¿ƒå¯¹è±¡è‡ªèº«çš„å±æ€§æ—¶ï¼Œæœ€å¥½ä¸è¦ç”¨forâ€¦in,è€Œé€‰ç”¨Object.keys()ï¼‰. 7.Object.getOwnPropertyDescriptors()è¿”å›æŸä¸ªå¯¹è±¡å±æ€§çš„æè¿°å¯¹è±¡ï¼ˆdescriptorï¼‰,å³è¿”å›æŸä¸ªå¯¹è±¡çš„è‡ªèº«å±æ€§ï¼Œè€Œä¸åŒ…å«ç»§æ‰¿å±æ€§ 8.proto å±æ€§ï¼ŒObject.setPrototypeOf()ï¼ŒObject.getPrototypeOf()1.proto å±æ€§ç”¨æ¥è¯»å–å’Œè®¾ç½®å½“å‰å¯¹è±¡çš„prototypeå±æ€§ã€‚ ä¸€ä¸ªå±æ€§çš„proto å€¼è¡¨ç¤ºè¿™ä¸ªå¯¹è±¡çš„åŸå‹ã€‚ES6ä¸å»ºè®®ç”¨è¿™ä¸ªæ–¹æ³•ã€‚ 2.Object.setPrototypeOf() è®¾ç½®å¯¹è±¡çš„prototypeï¼ŒES6å»ºè®®ç”¨Object.setPropertyOf().è¿”å›å¯¹è±¡æœ¬èº«ã€‚ 1234567891011let proto = &#123;&#125;;let obj = &#123; x: 10 &#125;;Object.setPrototypeOf(obj, proto);proto.y = 20;proto.z = 40;obj.x // 10obj.y // 20obj.z // 40 3.Object.getPrototypeOf() ç”¨äºè¯»å–ä¸€ä¸ªå¯¹è±¡çš„åŸå‹ 9.superå…³é”®å­—superå…³é”®å­—æŒ‡å‘å½“å‰å¯¹è±¡çš„åŸå‹å¯¹è±¡ã€‚åªèƒ½ç”¨åœ¨å¯¹è±¡çš„æ–¹æ³•é‡Œé¢ï¼Œç”¨åœ¨å…¶ä»–åœ°æ–¹ä¼šæŠ¥é”™ã€‚ 10.Object.keys(),Object.values(),Object.entries()Object.keys() éå†å¯¹è±¡çš„æ‰€æœ‰ï¼ˆenumerableä¸ºtrueï¼Œä¸æ˜¯ç»§æ‰¿çš„ï¼‰é”®åObject.values() éå†å¯¹è±¡çš„æ‰€æœ‰ï¼ˆenumerableä¸ºtrueï¼Œä¸æ˜¯ç»§æ‰¿çš„ï¼‰é”®å€¼Object.entries() éå†å¯¹è±¡çš„æ‰€æœ‰ï¼ˆenumerableä¸ºtrueï¼Œä¸æ˜¯ç»§æ‰¿çš„ï¼‰é”®å€¼å¯¹ 10.symbolES6 å¼•å…¥äº†ä¸€ç§æ–°çš„åŸå§‹æ•°æ®ç±»å‹Symbolï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ã€‚å®ƒæ˜¯ JavaScript è¯­è¨€çš„ç¬¬ä¸ƒç§æ•°æ®ç±»å‹ï¼Œå‰å…­ç§æ˜¯ï¼šundefinedã€nullã€å¸ƒå°”å€¼ï¼ˆBooleanï¼‰ã€å­—ç¬¦ä¸²ï¼ˆStringï¼‰ã€æ•°å€¼ï¼ˆNumberï¼‰ã€å¯¹è±¡ï¼ˆObjectï¼‰ã€‚ å‡¡æ˜¯å±æ€§åå±äº Symbol ç±»å‹ï¼Œå°±éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå¯ä»¥ä¿è¯ä¸ä¼šä¸å…¶ä»–å±æ€§åäº§ç”Ÿå†²çªã€‚ let s = Symbol(); typeof s // &quot;symbol&quot; Symbolå‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºå¯¹ Symbol å®ä¾‹çš„æè¿°ï¼Œä¸»è¦æ˜¯ä¸ºäº†åœ¨æ§åˆ¶å°æ˜¾ç¤ºï¼Œæˆ–è€…è½¬ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œæ¯”è¾ƒå®¹æ˜“åŒºåˆ†ã€‚ Symbolå€¼ä¸èƒ½ä¸å…¶ä»–ç±»å‹çš„å€¼è¿›è¡Œè¿ç®—ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ ç”±äºæ¯ä¸€ä¸ª Symbol å€¼éƒ½æ˜¯ä¸ç›¸ç­‰çš„ï¼Œè¿™æ„å‘³ç€ Symbol å€¼å¯ä»¥ä½œä¸ºæ ‡è¯†ç¬¦ï¼Œç”¨äºå¯¹è±¡çš„å±æ€§åï¼Œå°±èƒ½ä¿è¯ä¸ä¼šå‡ºç°åŒåçš„å±æ€§ã€‚è¿™å¯¹äºä¸€ä¸ªå¯¹è±¡ç”±å¤šä¸ªæ¨¡å—æ„æˆçš„æƒ…å†µéå¸¸æœ‰ç”¨ï¼Œèƒ½é˜²æ­¢æŸä¸€ä¸ªé”®è¢«ä¸å°å¿ƒæ”¹å†™æˆ–è¦†ç›–ã€‚ æ³¨æ„ï¼ŒSymbol å€¼ä½œä¸ºå¯¹è±¡å±æ€§åæ—¶ï¼Œä¸èƒ½ç”¨ç‚¹è¿ç®—ç¬¦ã€‚åœ¨å¯¹è±¡çš„å†…éƒ¨ï¼Œä½¿ç”¨ Symbol å€¼å®šä¹‰å±æ€§æ—¶ï¼ŒSymbol å€¼å¿…é¡»æ”¾åœ¨æ–¹æ‹¬å·ä¹‹ä¸­ã€‚Symbol å€¼ä½œä¸ºå±æ€§åæ—¶ï¼Œè¯¥å±æ€§è¿˜æ˜¯å…¬å¼€å±æ€§ï¼Œä¸æ˜¯ç§æœ‰å±æ€§ã€‚ 11.Setå’ŒMapæ•°æ®ç»“æ„1.SetES6æä¾›æ–°çš„æ•°æ®ç»“æ„SETã€‚å®ƒç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯å…¶å†…éƒ¨æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤å€¼(åˆ¤æ–­çš„æ–¹æ³•ç±»ä¼¼äºå…¨ç­‰åˆ¤æ–­)ã€‚ 1234567const s = new Set();[2,3,5,4,5,2,2].forEach(x =&gt; s.add(x));for(let i of s)&#123; console.log(i);&#125; è¿”å›ç»“æœæ˜¯ï¼š2 3 5 4ã€‚ç»“æœè¡¨æ˜ Set ç»“æ„ä¸ä¼šæ·»åŠ é‡å¤çš„å€¼ã€‚ Setå‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°æ¥åˆå§‹åŒ–ï¼š 12345678const set = new Set([1, 2, 3, 4, 4]);[...set]// [1, 2, 3, 4]const items = new Set([1, 2, 3, 4, 5, 5, 5, 5]);items.size // 5 items.length //undefined åˆ©ç”¨Setçš„æˆå‘˜å”¯ä¸€æ€§ï¼Œå¯ä»¥ç”¨æ¥æ•°ç»„å»é‡ï¼š 12345let myArray = [1,2,3,4,3,2,4,1];let arr = [...new Set(myArray)];console.log(arr);//[1, 2, 3, 4] 2.Setå®ä¾‹çš„å±æ€§å’Œæ–¹æ³•æ“ä½œæ–¹æ³•ï¼š 1.add(value) æ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å›Setç»“æ„æœ¬èº«2.delete(value) åˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›å¸ƒå°”å€¼ï¼Œæ˜¯å¦åˆ é™¤æˆåŠŸ3.has(value) åˆ¤æ–­æŸä¸ªå€¼æ˜¯ä¸æ˜¯Setæˆå‘˜ï¼Œè¿”å›å¸ƒå°”å€¼4.clear() æ¸…ç©ºSetæˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ 123456789101112s.add(1).add(2).add(2);// æ³¨æ„2è¢«åŠ å…¥äº†ä¸¤æ¬¡s.size // 2s.has(1) // trues.has(2) // trues.has(3) // falses.delete(2);s.has(2) // false Array.fromæ–¹æ³•å¯ä»¥å°† Set ç»“æ„è½¬ä¸ºæ•°ç»„ã€‚ const items = new Set([1, 2, 3, 4, 5]); const array = Array.from(items); è¿™æ ·æ•°ç»„å»é‡å°±å¯ä»¥è¿™æ ·æ¥å†™ï¼š Array.from(new Set(array)) éå†Setï¼š 1.keys() è¿”å›é”®å2.values() è¿”å›é”®å€¼3.entries() è¿”å›é”®å€¼å¯¹4.foreach() ä½¿ç”¨å›è°ƒå‡½æ•°éå† 3.WeakSetä¸Setå·®ä¸å¤šï¼Œéƒ½æ˜¯ä¸é‡å¤å€¼çš„é›†åˆï¼Œä½†æ˜¯WeakSetçš„å€¼å¿…é¡»æ˜¯å¯¹è±¡ï¼Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹çš„å€¼ã€‚ è¯­æ³•ï¼š const ws = new WeakSet() ä½œä¸ºæ„é€ å‡½æ•°ï¼ŒWeakSet å¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„æˆ–ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚è¿™ä¸ªç±»æ•°ç»„å¯¹è±¡çš„æˆå‘˜å¿…é¡»æ˜¯å¯¹è±¡ã€‚å¦åˆ™ä¼šæŠ¥é”™ 1234567const a = [[1, 2], [3, 4]];const ws = new WeakSet(a);// WeakSet &#123;[1, 2], [3, 4]&#125;const b = [3, 4];const ws = new WeakSet(b);// Uncaught TypeError: Invalid value used in weak set(â€¦) WeakSetçš„æ–¹æ³•ï¼š 1.WeakSet.prototype.add(value)2.WeakSet.prototype.delete(value)3.WeakSet.prototype.has(value) ä»–æ²¡æœ‰sizeå±æ€§,ä¸èƒ½éå†å®ƒçš„æˆå‘˜ 4.MapObject ç»“æ„æä¾›äº†â€œå­—ç¬¦ä¸²â€”å€¼â€çš„å¯¹åº”ï¼ŒMapç»“æ„æä¾›äº†â€œå€¼â€”å€¼â€çš„å¯¹åº”ã€‚å³å¯¹è±¡çš„å±æ€§åï¼ˆé”®ï¼‰ä¸åªæ˜¯å­—ç¬¦ä¸²å½¢å¼äº†ï¼Œè¿˜å¯ä»¥æ˜¯å„ç§ç±»å‹çš„å€¼æˆ–å¯¹è±¡ã€‚ 12345678910const m = new Map();const o = &#123;p: 'Hello World'&#125;;m.set(o, 'content')m.get(o) // \"content\"m.has(o) // truem.delete(o) // truem.has(o) // false ä½œä¸ºæ„é€ å‡½æ•°ï¼ŒMap ä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ã€‚è¯¥æ•°ç»„çš„æˆå‘˜æ˜¯ä¸€ä¸ªä¸ªè¡¨ç¤ºé”®å€¼å¯¹çš„æ•°ç»„ã€‚ 1234567891011const map = new Map([ ['name', 'å¼ ä¸‰'], ['title', 'Author']]);map.size // 2map.has('name') // truemap.get('name') // \"å¼ ä¸‰\"map.has('title') // truemap.get('title') // \"Author\" 5.WeakMapWeakMapç»“æ„ä¸Mapç»“æ„ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ç”¨äºç”Ÿæˆé”®å€¼å¯¹çš„é›†åˆã€‚ é¦–å…ˆï¼ŒWeakMapåªæ¥å—å¯¹è±¡ä½œä¸ºé”®åï¼ˆnullé™¤å¤–ï¼‰ï¼Œä¸æ¥å—å…¶ä»–ç±»å‹çš„å€¼ä½œä¸ºé”®åã€‚ å…¶æ¬¡ï¼ŒWeakMapçš„é”®åæ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œä¸è®¡å…¥åƒåœ¾å›æ”¶æœºåˆ¶ã€‚ åŸºæœ¬ä¸Šï¼Œå¦‚æœä½ è¦å¾€å¯¹è±¡ä¸Šæ·»åŠ æ•°æ®ï¼Œåˆä¸æƒ³å¹²æ‰°åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ WeakMapã€‚ ä¸€ä¸ªå…¸å‹åº”ç”¨åœºæ™¯æ˜¯ï¼Œåœ¨ç½‘é¡µçš„ DOM å…ƒç´ ä¸Šæ·»åŠ æ•°æ®ï¼Œå°±å¯ä»¥ä½¿ç”¨WeakMapç»“æ„ã€‚å½“è¯¥ DOM å…ƒç´ è¢«æ¸…é™¤ï¼Œå…¶æ‰€å¯¹åº”çš„WeakMapè®°å½•å°±ä¼šè‡ªåŠ¨è¢«ç§»é™¤ã€‚ 1234567const wm = new WeakMap();const element = document.getElementById('example');wm.set(element, 'some information');wm.get(element) // \"some information\" æ€»ä¹‹ï¼ŒWeakMapçš„ä¸“ç”¨åœºåˆå°±æ˜¯ï¼Œå®ƒçš„é”®æ‰€å¯¹åº”çš„å¯¹è±¡ï¼Œå¯èƒ½ä¼šåœ¨å°†æ¥æ¶ˆå¤±ã€‚WeakMapç»“æ„æœ‰åŠ©äºé˜²æ­¢å†…å­˜æ³„æ¼ã€‚ æ³¨æ„ï¼ŒWeakMap å¼±å¼•ç”¨çš„åªæ˜¯é”®åï¼Œè€Œä¸æ˜¯é”®å€¼ã€‚é”®å€¼ä¾ç„¶æ˜¯æ­£å¸¸å¼•ç”¨ã€‚ 123456789const wm = new WeakMap();let key = &#123;&#125;;let obj = &#123;foo: 1&#125;;wm.set(key, obj);obj = null;wm.get(key)// Object &#123;foo: 1&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œé”®å€¼objæ˜¯æ­£å¸¸å¼•ç”¨ã€‚æ‰€ä»¥ï¼Œå³ä½¿åœ¨ WeakMap å¤–éƒ¨æ¶ˆé™¤äº†objçš„å¼•ç”¨ï¼ŒWeakMap å†…éƒ¨çš„å¼•ç”¨ä¾ç„¶å­˜åœ¨ã€‚ WeakMapè§„å®šä¸èƒ½å–åˆ°é”®å,æ— æ³•æ¸…ç©º.å³ä¸æ”¯æŒclearæ–¹æ³•ã€‚å› æ­¤ï¼ŒWeakMapåªæœ‰å››ä¸ªæ–¹æ³•å¯ç”¨ï¼šget()ã€set()ã€has()ã€delete()ã€‚ 1234567const wm = new WeakMap();// sizeã€forEachã€clear æ–¹æ³•éƒ½ä¸å­˜åœ¨wm.size // undefinedwm.forEach // undefinedwm.clear // undefined 12.ProxyProxy ç”¨äºä¿®æ”¹æŸäº›æ“ä½œçš„é»˜è®¤è¡Œä¸ºï¼Œç­‰åŒäºåœ¨è¯­è¨€å±‚é¢åšå‡ºä¿®æ”¹ï¼Œæ‰€ä»¥å±äºä¸€ç§â€œå…ƒç¼–ç¨‹â€ï¼ˆmeta programmingï¼‰ï¼Œå³å¯¹ç¼–ç¨‹è¯­è¨€è¿›è¡Œç¼–ç¨‹ã€‚ 13.ReflectReflectå¯¹è±¡ä¸Proxyå¯¹è±¡ä¸€æ ·ï¼Œä¹Ÿæ˜¯ ES6 ä¸ºäº†æ“ä½œå¯¹è±¡è€Œæä¾›çš„æ–° APIã€‚Reflectå¯¹è±¡çš„è®¾è®¡ç›®çš„æœ‰è¿™æ ·å‡ ä¸ªã€‚ ï¼ˆ1ï¼‰ å°†Objectå¯¹è±¡çš„ä¸€äº›æ˜æ˜¾å±äºè¯­è¨€å†…éƒ¨çš„æ–¹æ³•ï¼ˆæ¯”å¦‚Object.definePropertyï¼‰ï¼Œæ”¾åˆ°Reflectå¯¹è±¡ä¸Šã€‚ç°é˜¶æ®µï¼ŒæŸäº›æ–¹æ³•åŒæ—¶åœ¨Objectå’ŒReflectå¯¹è±¡ä¸Šéƒ¨ç½²ï¼Œæœªæ¥çš„æ–°æ–¹æ³•å°†åªéƒ¨ç½²åœ¨Reflectå¯¹è±¡ä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»Reflectå¯¹è±¡ä¸Šå¯ä»¥æ‹¿åˆ°è¯­è¨€å†…éƒ¨çš„æ–¹æ³•ã€‚ ï¼ˆ2ï¼‰ ä¿®æ”¹æŸäº›Objectæ–¹æ³•çš„è¿”å›ç»“æœï¼Œè®©å…¶å˜å¾—æ›´åˆç†ã€‚æ¯”å¦‚ï¼ŒObject.defineProperty(obj, name, desc)åœ¨æ— æ³•å®šä¹‰å±æ€§æ—¶ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œè€ŒReflect.defineProperty(obj, name, desc)åˆ™ä¼šè¿”å›falseã€‚ ï¼ˆ3ï¼‰ è®©Objectæ“ä½œéƒ½å˜æˆå‡½æ•°è¡Œä¸ºã€‚æŸäº›Objectæ“ä½œæ˜¯å‘½ä»¤å¼ï¼Œæ¯”å¦‚name in objå’Œdelete obj[name]ï¼Œè€ŒReflect.has(obj, name)å’ŒReflect.deleteProperty(obj, name)è®©å®ƒä»¬å˜æˆäº†å‡½æ•°è¡Œä¸ºã€‚ ï¼ˆ4ï¼‰Reflectå¯¹è±¡çš„æ–¹æ³•ä¸Proxyå¯¹è±¡çš„æ–¹æ³•ä¸€ä¸€å¯¹åº”ï¼Œåªè¦æ˜¯Proxyå¯¹è±¡çš„æ–¹æ³•ï¼Œå°±èƒ½åœ¨Reflectå¯¹è±¡ä¸Šæ‰¾åˆ°å¯¹åº”çš„æ–¹æ³•ã€‚è¿™å°±è®©Proxyå¯¹è±¡å¯ä»¥æ–¹ä¾¿åœ°è°ƒç”¨å¯¹åº”çš„Reflectæ–¹æ³•ï¼Œå®Œæˆé»˜è®¤è¡Œä¸ºï¼Œä½œä¸ºä¿®æ”¹è¡Œä¸ºçš„åŸºç¡€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ç®¡Proxyæ€ä¹ˆä¿®æ”¹é»˜è®¤è¡Œä¸ºï¼Œä½ æ€»å¯ä»¥åœ¨Reflectä¸Šè·å–é»˜è®¤è¡Œä¸ºã€‚ 14.Promiseå¯¹è±¡ä¸€ç§å¼‚æ­¥è§£å†³æ–¹æ¡ˆã€‚ä»Promiseå¯¹è±¡ï¼Œå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„ä¿¡æ¯ã€‚ ç®€å•æ¥è¯´Promiseæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€ä¸€ä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰ Promiseåˆ†ä¸ºä¸‰ä¸ªçŠ¶æ€ï¼špending-è¿›è¡Œä¸­,fulfilled-å·²æˆåŠŸ,rejected-å·²å¤±è´¥. Promiseçš„ç‰¹ç‚¹ï¼š 1.å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–éƒ¨å½±å“ã€‚åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœå¯ä»¥å½±å“PromiseçŠ¶æ€ã€‚ä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚ 2.ä¸€æ—¦çŠ¶æ€æ”¹å˜å°±ä¸ä¼šå†æ¬¡æ”¹å˜ï¼Œè¿™æ—¶å°±ç§°ä¸º resolvedï¼ˆå·²å®šå‹ï¼‰ã€‚ä»»ä½•æ—¶å€™éƒ½èƒ½å¾—åˆ°å¼‚æ­¥ç»“æœï¼ˆçŠ¶æ€ï¼‰ã€‚PromiseçŠ¶æ€çš„æ”¹å˜ï¼Œåªæœ‰å¯èƒ½æœ‰ä¸¤ç§ï¼špending -&gt; fulfilled æˆ–è€… pending -&gt; rejected. Promiseçš„ç¼ºç‚¹ï¼š 1.æ— æ³•å–æ¶ˆPromiseã€‚ä¸€æ—¦æ–°å»ºå°±ä¼šç«‹å³æ‰§è¡Œï¼Œæ— æ³•ä¸­é€”å–æ¶ˆã€‚ 2.å¦‚æœä¸è®¾ç½®å›è°ƒå‡½æ•°ï¼ŒPromiseå†…éƒ¨æŠ›å‡ºçš„é”™è¯¯ï¼Œä¸ä¼šååº”åˆ°å¤–éƒ¨ã€‚ 3.å½“å¤„äºpendingçŠ¶æ€æ—¶ï¼Œæ— æ³•å¾—çŸ¥ç›®å‰è¿›å±•åˆ°ä»€ä¹ˆé˜¶æ®µï¼ˆæ˜¯åˆšåˆšå¼€å§‹æµ·è¯•å³å°†å®Œæˆï¼‰ã€‚ PromiseåŸºæœ¬ç”¨æ³•Promiseå¯¹è±¡æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚ 1234567891011var promise = new Promise(function(resolve,reject)&#123; //some coding .... //å¦‚æœå¼‚æ­¥æ“ä½œæˆåŠŸresolve(value)ï¼Œå¦åˆ™reject(err) if(win)&#123; resolve(value); &#125;else&#123; reject(err); &#125;&#125;) å…¶ä¸­çš„å›è°ƒå‡½æ•°ä¸­çš„ä¸¤ä¸ªå‚æ•°resolveå’Œrejectåˆ†åˆ«æ˜¯ä¸¤ä¸ªå‡½æ•°ï¼Œå®ƒä»¬ç”±javascriptå¼•æ“æä¾›ï¼Œä¸éœ€è¦è‡ªå·±éƒ¨ç½²ã€‚ resolveå‡½æ•°çš„ä½œç”¨ï¼šå°†Promiseå¯¹è±¡çš„çŠ¶æ€ç”±pendingå˜ä¸ºfulfilledï¼Œå¹¶ä¸”åœ¨å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶ï¼Œå°†å¼‚æ­¥æ“ä½œçš„ç»“æœvalueï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»ã€‚ rejectå‡½æ•°çš„ä½œç”¨ï¼šå°†Promiseå¯¹è±¡çš„çŠ¶æ€ç”±pendingå˜ä¸ºrejectedã€‚å¹¶ä¸”åœ¨å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶ï¼Œå°†å¼‚æ­¥æ“ä½œæŠ¥å‡ºçš„é”™è¯¯ä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»ã€‚","tags":[]},{"title":"CSSæ­ç§˜","date":"2017-09-25T04:07:53.000Z","path":"2017/09/25/CSSæ­ç§˜/","text":"1.background-clip:padding-boxbackground-clipé»˜è®¤ä¸ºborder-boxï¼Œä¹Ÿå°±æ˜¯è¯´borderçš„é¢œè‰²ä¼šæŠŠå…ƒç´ èƒŒæ™¯é¢œè‰²è¦†ç›–æ‰ã€‚å¦‚æœè®¾ç½®background-clip:padding-boxï¼ŒèƒŒæ™¯é¢œè‰²çš„èŒƒå›´å°±æ˜¯åœ¨paddingå’Œcontaintã€‚ 2.box-shadowå¯ä»¥è¿›è¡Œå¤šé‡æŠ•å½±1234567button&#123; background: yellowgreen; box-shadow: 0 0 0 10px #655, 0 0 0 15px deeppink, 0 2px 5px 15px rgba(0,0,0,.6); &#125; box-shadowè¯­æ³•ï¼š box-shadow: h-shadow v-shadow blur spread color inset; h-shadowæ°´å¹³é˜´å½±çš„ä½ç½®v-shadowå‚ç›´é˜´å½±çš„ä½ç½®bluræ¨¡ç³Šè·ç¦»spreadé˜´å½±å°ºå¯¸coloré˜´å½±é¢œè‰²insetå°†å¤–éƒ¨é˜´å½±å˜ä¸ºå†…éƒ¨é˜´å½± 3.ä½¿ç”¨border+outlineå®ç°ä¸¤å±‚è¾¹æ¡†123456button&#123; background: yellowgreen; border: 10px solid #655; outline: 5px solid deeppink; &#125; ä¸è¿‡å½“outlineçš„å†…éƒ¨borderè®¾ç½®åœ†è§’æ—¶ï¼Œoutlineè¾¹æ¡†å°±ä¸èƒ½ä¸borderç›¸è´´åˆäº†ã€‚ 4.å®ç°è¾¹æ¡†å†…åœ†è§’ç”¨ä¸¤ä¸ªå…ƒç´ å®ç°ï¼š 123456789101112131415&lt;div class=\"example\"&gt; &lt;div class=\"ex1\"&gt;&lt;/div&gt; &lt;/div&gt; &lt;style&gt; .example&#123; padding: 0.5em; background: #655; &#125; .ex1&#123; background: tan; border-radius: .8em; padding: 1em; &#125; &lt;/style&gt; ç”¨ä¸€ä¸ªå…ƒç´ å®ç°ï¼š 12345678.ex1&#123; background: tan; border-radius: .8em; padding: 1em; box-shadow: 0 0 0 .4em #655; outline: .6em solid #655; &#125; åŸç†å°±æ˜¯outlineå’Œborderåœ†è§’ä¹‹é—´çš„ç©ºç™½ç”¨box-shadowå¡«è¡¥ä¸Šã€‚ 5.æ¡çº¹èƒŒæ™¯","tags":[]},{"title":"Vue--æ··åˆ","date":"2017-09-23T07:54:08.000Z","path":"2017/09/23/Vue-æ··åˆ/","text":"æ··åˆ (mixins) æ˜¯ä¸€ç§åˆ†å‘ Vue ç»„ä»¶ä¸­å¯å¤ç”¨åŠŸèƒ½çš„éå¸¸çµæ´»çš„æ–¹å¼ã€‚æ··åˆå¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ã€‚ä»¥ç»„ä»¶ä½¿ç”¨æ··åˆå¯¹è±¡æ—¶ï¼Œæ‰€æœ‰æ··åˆå¯¹è±¡çš„é€‰é¡¹å°†è¢«æ··å…¥è¯¥ç»„ä»¶æœ¬èº«çš„é€‰é¡¹ã€‚æ··åˆä»¥ä¸€ç§çµæ´»çš„æ–¹å¼ä¸ºç»„ä»¶æä¾›åˆ†å¸ƒå¤ç”¨åŠŸèƒ½ã€‚æ··åˆå¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„çš„ç»„ä»¶é€‰é¡¹ã€‚å½“ç»„ä»¶ä½¿ç”¨äº†æ··åˆå¯¹è±¡æ—¶ï¼Œæ··åˆå¯¹è±¡çš„æ‰€æœ‰é€‰é¡¹å°†è¢«â€œæ··å…¥â€ç»„ä»¶è‡ªå·±çš„é€‰é¡¹ä¸­ã€‚ä¸¤ç§å†™æ³•éƒ½ä¸æ˜¯å¾ˆå®¹æ˜“ç†è§£ï¼Œæˆ‘çš„ç†è§£æ˜¯ï¼šç»„ä»¶ä½¿ç”¨æ··åˆå¯¹è±¡æ—¶ï¼Œç»„ä»¶å°±æ‹¥æœ‰äº†æ··åˆå¯¹è±¡é‡Œé¢çš„æ‰€æœ‰çš„å±æ€§ï¼Œç›¸å½“äºæŠŠè¿™ä¸ªç»„ä»¶extendäº†ã€‚ åŸæ–‡ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738 // å®šä¹‰ä¸€ä¸ªæ··åˆå¯¹è±¡ var myMixin = &#123; created: function () &#123; this.hello() &#125;, methods: &#123; hello: function () &#123; console.log('hello from mixin!') &#125; &#125; &#125; // å®šä¹‰ä¸€ä¸ªä½¿ç”¨æ··åˆå¯¹è±¡çš„ç»„ä»¶ var Component = Vue.extend(&#123; mixins: [myMixin] &#125;) var component = new Component() // =&gt; \"hello from mixin!\"``` 1.é€‰é¡¹åˆå¹¶ï¼šå½“ç»„ä»¶å’Œæ··åˆå¯¹è±¡å«æœ‰åŒåé€‰é¡¹æ—¶ï¼Œè¿™äº›é€‰é¡¹å°†ä»¥æ°å½“çš„æ–¹å¼æ··åˆã€‚æ¯”å¦‚ï¼ŒåŒåé’©å­å‡½æ•°å°†æ··åˆä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå› æ­¤éƒ½å°†è¢«è°ƒç”¨ã€‚å¦å¤–ï¼Œæ··åˆå¯¹è±¡çš„ é’©å­å°†åœ¨ç»„ä»¶è‡ªèº«é’©å­ ä¹‹å‰ è°ƒç”¨ ``` js var mixin = &#123; created: function () &#123; console.log('æ··åˆå¯¹è±¡çš„é’©å­è¢«è°ƒç”¨') &#125; &#125; new Vue(&#123; mixins: [mixin], created: function () &#123; console.log('ç»„ä»¶é’©å­è¢«è°ƒç”¨') &#125; &#125;) // =&gt; \"æ··åˆå¯¹è±¡çš„é’©å­è¢«è°ƒç”¨\" // =&gt; \"ç»„ä»¶é’©å­è¢«è°ƒç”¨\" å€¼ä¸ºå¯¹è±¡çš„é€‰é¡¹ï¼Œä¾‹å¦‚ methods, components å’Œ directivesï¼Œå°†è¢«æ··åˆä¸ºåŒä¸€ä¸ªå¯¹è±¡ã€‚ä¸¤ä¸ªå¯¹è±¡é”®åå†²çªæ—¶ï¼Œå–ç»„ä»¶å¯¹è±¡çš„é”®å€¼å¯¹ã€‚ 12345678910111213141516171819202122232425var mixin = &#123; methods: &#123; foo: function () &#123; console.log('foo') &#125;, conflicting: function () &#123; console.log('from mixin') &#125; &#125;&#125;var vm = new Vue(&#123; mixins: [mixin], methods: &#123; bar: function () &#123; console.log('bar') &#125;, conflicting: function () &#123; console.log('from self') &#125; &#125;&#125;)vm.foo() // =&gt; \"foo\"vm.bar() // =&gt; \"bar\"vm.conflicting() // =&gt; \"from self\" 2.å…¨å±€æ··åˆ å…¨å±€æ³¨å†Œæ··åˆå¯¹è±¡ã€‚ä¸€æ—¦ä½¿ç”¨å…¨å±€æ··åˆå¯¹è±¡ï¼Œå°†ä¼šå½±å“åˆ° æ‰€æœ‰ ä¹‹ååˆ›å»ºçš„ Vue å®ä¾‹ã€‚ 1234567891011121314// ä¸ºè‡ªå®šä¹‰çš„é€‰é¡¹ 'myOption' æ³¨å…¥ä¸€ä¸ªå¤„ç†å™¨ã€‚Vue.mixin(&#123; created: function () &#123; var myOption = this.$options.myOption if (myOption) &#123; console.log(myOption) &#125; &#125;&#125;)new Vue(&#123; myOption: 'hello!'&#125;)// =&gt; \"hello!\" å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå…¨å±€æ··åˆåªåº”å½“åº”ç”¨äºè‡ªå®šä¹‰é€‰é¡¹ï¼Œå°±åƒä¸Šé¢ç¤ºä¾‹ä¸€æ ·ã€‚ä¹Ÿå¯ä»¥å°†å…¶ç”¨ä½œ Plugins ä»¥é¿å…äº§ç”Ÿé‡å¤åº”ç”¨","tags":[]},{"title":"Vueç»„ä»¶--å†…å®¹åˆ†å‘slot","date":"2017-09-22T02:42:35.000Z","path":"2017/09/22/Vueç»„ä»¶-å†…å®¹åˆ†å‘slot/","text":"ä½¿ç”¨æ’æ§½åˆ†å‘å†…å®¹ å‡å¦‚çˆ¶ç»„ä»¶éœ€è¦åœ¨å­ç»„ä»¶å†…æ”¾ä¸€äº›DOMå…ƒç´ ï¼Œé‚£ä¹ˆè¿™äº›DOMå…ƒç´ æ˜¯æ˜¾ç¤ºã€ä¸æ˜¾ç¤ºã€åœ¨å“ªä¸ªåœ°æ–¹æ˜¾ç¤ºã€å¦‚ä½•æ˜¾ç¤ºï¼Œå°±æ˜¯slotå†…å®¹åˆ†å‘ã€‚Vueå®ç°äº†ä¸€ä¸ªå†…å®¹åˆ†å‘API,ä½¿ç”¨ç‰¹æ®Šçš„&lt;slot&gt;å…ƒç´ ä½œä¸ºåŸå§‹å†…å®¹çš„æ’æ§½ã€‚ 1.å•ä¸ªæ’æ§½ é™¤éå­ç»„ä»¶æœ‰è‡³å°‘ä¸€ä¸ªslotæ’æ§½ï¼Œå¦åˆ™çˆ¶ç»„ä»¶çš„å†…å®¹ä¼šè¢«ä¸¢å¼ƒã€‚å¦‚æœå­ç»„ä»¶æœ‰ä¸€ä¸ªæ’æ§½æ—¶ï¼Œçˆ¶ç»„ä»¶çš„æ•´ä¸ªå†…å®¹ç‰‡æ®µå°±ä¼šæ’å…¥åˆ°æ’æ§½æ‰€åœ¨çš„DOMä½ç½®ï¼Œå¹¶æ›¿æ¢æ‰æ’æ§½æ ‡ç­¾slotã€‚æœ€åˆåœ¨ &lt;slot&gt;æ ‡ç­¾ä¸­çš„ä»»ä½•å†…å®¹éƒ½è¢«è§†ä¸ºå¤‡ç”¨å†…å®¹ã€‚å¤‡ç”¨å†…å®¹åœ¨å­ç»„ä»¶çš„ä½œç”¨åŸŸå†…ç¼–è¯‘ï¼Œå¹¶ä¸”åªæœ‰åœ¨å®¿ä¸»å…ƒç´ ä¸ºç©ºï¼Œä¸”æ²¡æœ‰è¦æ’å…¥çš„å†…å®¹æ—¶æ‰æ˜¾ç¤ºå¤‡ç”¨å†…å®¹ã€‚ 12345678910111213141516171819&lt;div id=\"test\"&gt; &lt;h1&gt;æˆ‘æ˜¯çˆ¶ç»„ä»¶çš„æ ‡é¢˜&lt;/h1&gt; &lt;my-component&gt; &lt;p&gt;è¿™æ˜¯çˆ¶åˆå§‹å†…å®¹&lt;/p&gt; &lt;p&gt;è¿™æ˜¯æ›´å¤šåˆå§‹å†…å®¹&lt;/p&gt; &lt;/my-component&gt;&lt;/div&gt;&lt;script&gt; Vue.component('my-component', &#123; template: '&lt;div&gt;' + '&lt;h2&gt;æˆ‘æ˜¯å­ç»„ä»¶çš„æ ‡é¢˜&lt;/h2&gt;' + '&lt;slot&gt;åªæœ‰åœ¨æ²¡æœ‰åˆ†å‘å†…å®¹æ—¶æˆ‘æ‰ä¼šæ˜¾ç¤º&lt;/slot&gt;' + '&lt;/div&gt;', &#125;) new Vue(&#123; el: '#test', &#125;)&lt;/script&gt; å¦‚æœå­ç»„ä»¶ä¸­æ²¡æœ‰slotæ’æ§½ï¼Œé‚£ä¹ˆçˆ¶å…ƒç´ çš„å†…å®¹ï¼ˆä¸¤ä¸ªpæ ‡ç­¾ï¼‰éƒ½ä¼šè¢«ä¸¢å¼ƒã€‚ 2.å…·åæ’æ§½ &lt;slot&gt; å…ƒç´ å¯ä»¥ç”¨ä¸€ä¸ªç‰¹æ®Šçš„å±æ€§ name æ¥é…ç½®å¦‚ä½•åˆ†å‘å†…å®¹ã€‚å¤šä¸ªæ’æ§½å¯ä»¥æœ‰ä¸åŒçš„åå­—ã€‚å…·åæ’æ§½å°†åŒ¹é…å†…å®¹ç‰‡æ®µä¸­æœ‰å¯¹åº” slot ç‰¹æ€§çš„å…ƒç´ ã€‚çˆ¶ç»„ä»¶åœ¨è¦åˆ†å‘çš„æ ‡ç­¾å†…æ·»åŠ ï¼š slot = â€˜slotNameâ€™,å­ç»„ä»¶åœ¨å¯¹åº”åˆ†å‘çš„ä½ç½®çš„slotæ ‡ç­¾å†…æ·»åŠ ï¼š&lt;slot name = &#39;slotName&#39;&gt;. 1234567891011121314151617181920212223&lt;div id=\"test\"&gt; &lt;my-component&gt; &lt;h1 slot=\"header\"&gt;è¿™æ˜¯slotä¸ºheader&lt;/h1&gt; &lt;p&gt;è¿™æ˜¯ä¸»è¦å†…å®¹&lt;/p&gt; &lt;p&gt;è¿™æ˜¯å¦ä¸€ä¸ªä¸»è¦ç‰‡æ®µ&lt;/p&gt; &lt;p slot=\"footer\"&gt;è¿™æ˜¯slotä¸ºfooter&lt;/p&gt; &lt;/my-component&gt;&lt;/div&gt;&lt;script&gt; Vue.component('my-component', &#123; template: '&lt;div class=\"container\"&gt;' + '&lt;header&gt;&lt;slot name=\"header\"&gt;&lt;/slot&gt;&lt;/header&gt;'+ '&lt;main&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/main&gt;' + '&lt;footer&gt;&lt;slot name=\"footer\"&gt;&lt;/slot&gt;&lt;/footer&gt;' + '&lt;/div&gt;', &#125;) new Vue(&#123; el: '#test', &#125;)&lt;/script&gt; 3.ä½œç”¨åŸŸæ’æ§½ ä½¿ç”¨ä¸€ä¸ª (èƒ½å¤Ÿä¼ é€’æ•°æ®åˆ°) å¯é‡ç”¨æ¨¡æ¿æ›¿æ¢å·²æ¸²æŸ“å…ƒç´ ã€‚åœ¨å­ç»„ä»¶ä¸­ï¼Œåªéœ€å°†æ•°æ®ä¼ é€’åˆ°æ’æ§½ï¼Œå°±åƒä½ å°† props ä¼ é€’ç»™ç»„ä»¶ä¸€æ ·åœ¨çˆ¶çº§ä¸­ï¼Œå…·æœ‰ç‰¹æ®Šå±æ€§ scope çš„ &lt;template&gt; å…ƒç´ å¿…é¡»å­˜åœ¨ï¼Œè¡¨ç¤ºå®ƒæ˜¯ä½œç”¨åŸŸæ’æ§½çš„æ¨¡æ¿ã€‚scope çš„å€¼å¯¹åº”ä¸€ä¸ªä¸´æ—¶å˜é‡åï¼Œæ­¤å˜é‡æ¥æ”¶ä»å­ç»„ä»¶ä¸­ä¼ é€’çš„ props å¯¹è±¡: 123456789101112131415161718192021&lt;div id=\"test\"&gt; &lt;div class=\"parent\"&gt; &lt;child&gt; &lt;template scope=\"props\"&gt; &lt;p&gt;hello from parent&lt;/p&gt; &lt;p&gt;&#123;&#123;props.text&#125;&#125;&lt;/p&gt; &lt;/template&gt; &lt;/child&gt; &lt;/div&gt;&lt;/div&gt;&lt;script&gt; Vue.component('child', &#123; template: '&lt;div class=\"child\"&gt;' + '&lt;slot text=\"hello from child\"&gt;&lt;/slot&gt;' + '&lt;/div&gt;', &#125;) new Vue(&#123; el: '#test', &#125;)&lt;/script&gt; ä½œç”¨åŸŸæ’æ§½æ›´å…·ä»£è¡¨æ€§çš„ç”¨ä¾‹æ˜¯åˆ—è¡¨ç»„ä»¶ï¼Œå…è®¸ç»„ä»¶è‡ªå®šä¹‰åº”è¯¥å¦‚ä½•æ¸²æŸ“åˆ—è¡¨æ¯ä¸€é¡¹ï¼š 123456789101112131415161718192021222324252627&lt;div id=\"test\"&gt; &lt;my-awesome-list :items=\"items\"&gt; &lt;template slot=\"item\" scope=\"props\"&gt; &lt;li class=\"my-fancy-item\"&gt;&#123;&#123; props.text &#125;&#125;&lt;/li&gt; &lt;/template&gt; &lt;/my-awesome-list&gt;&lt;/div&gt;&lt;script&gt; Vue.component('my-awesome-list', &#123; props:['items'], template: '&lt;ul&gt;' + '&lt;slot name=\"item\" v-for=\"item in items\" v-bind:text=\"item.text\"&gt;è¿™é‡Œæ˜¯å¤‡ç”¨å†…å®¹&lt;/slot&gt;' + '&lt;/ul&gt;', &#125;) new Vue(&#123; el: '#test', data:&#123; items:[ &#123;text:'apple'&#125;, &#123;text:'pear'&#125;, &#123;text:'grape'&#125; ] &#125;, &#125;)&lt;/script&gt;","tags":[]},{"title":"é€»è¾‘ä¸æˆ–æ“ä½œç¬¦","date":"2017-09-21T02:28:27.000Z","path":"2017/09/21/é€»è¾‘ä¸æˆ–æ“ä½œç¬¦/","text":"å¸ƒå°”æ“ä½œç¬¦1.é€»è¾‘ä¸ å½“æ“ä½œæ•°æœ‰ä¸€ä¸ªä¸æ˜¯å¸ƒå°”å€¼æ—¶ï¼Œé€»è¾‘æ“ä½œå°±ä¸ä¸€å®šè¿”å›å¸ƒå°”å€¼ã€‚ ä¾‹å¦‚ a &amp;&amp; b è‹¥aæ˜¯å¯¹è±¡ï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°bè‹¥bæ˜¯å¯¹è±¡ï¼Œåˆ™åªæœ‰åœ¨aæ˜¯trueæ—¶æ‰è¿”å›bå¯¹è±¡è‹¥abéƒ½æ˜¯å¯¹è±¡ï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°bè‹¥aæ—¶nullï¼Œåˆ™è¿”å›nullè‹¥aæ˜¯NaNï¼Œåˆ™è¿”å›NaNè‹¥aæ˜¯undefinedï¼Œåˆ™è¿”å›undefined 2.é€»è¾‘æˆ– ä¸é€»è¾‘ä¸ç›¸ä¼¼ï¼Œå½“æ“ä½œæ•°æœ‰ä¸€ä¸ªä¸æ˜¯å¸ƒå°”å€¼æ—¶ï¼Œé€»è¾‘æ“ä½œå°±ä¸ä¸€å®šè¿”å›å¸ƒå°”å€¼ã€‚ ä¾‹å¦‚ a || b è‹¥aæ˜¯å¯¹è±¡ï¼Œåˆ™è¿”å›ç¬¬ä¸€ä¸ªæ“ä½œæ•°aè‹¥açš„æ±‚å€¼ç»“æœä¸ºfalseï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°bè‹¥abéƒ½æ˜¯å¯¹è±¡ï¼Œåˆ™è¿”å›ç¬¬ä¸€ä¸ªæ“ä½œæ•°aè‹¥abéƒ½æ˜¯nullï¼Œåˆ™è¿”å›nullè‹¥abéƒ½æ˜¯NaNï¼Œåˆ™è¿”å›NaNè‹¥abéƒ½æ˜¯undefinedï¼Œåˆ™è¿”å›undefined ä¾‹å¦‚ï¼š var myObj = preferredObject || backupObject å˜é‡myObjè¢«èµ‹äºˆä¸¤ä¸ªå€¼ä¸­çš„ä¸€ä¸ªï¼ŒpreferredObjectä¼˜å…ˆèµ‹ç»™myObjï¼Œä½†æ˜¯å½“preferredObjectä¸åŒ…å«æœ‰æ•ˆå€¼æ—¶ï¼Œä¼šæŠŠå¤‡ç”¨backupObjectèµ‹ç»™myObjã€‚","tags":[]},{"title":"Vueä¹‹è¡¨å•è¾“å…¥","date":"2017-09-17T08:56:47.000Z","path":"2017/09/17/Vueä¹‹è¡¨å•è¾“å…¥/","text":"v-modelæŒ‡ä»¤åœ¨è¡¨å•æ§ä»¶å…ƒç´ ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®šã€‚å®ƒæœ¬è´¨ä¸Šæ¥è¯´æ˜¯ä¸€ç§è¯­æ³•ç³–ï¼ˆæ²¡æœ‰æ”¹å˜ä»€ä¹ˆåŠŸèƒ½ï¼Œåªæ˜¯å¯¹äºç¨‹åºå‘˜æ¥è¯´æ›´å®¹æ˜“ç†è§£ï¼‰ï¼Œè´Ÿè´£ç›‘å¬ç”¨æˆ·çš„è¾“å…¥äº‹ä»¶ä»¥æ›´æ–°æ•°æ®ã€‚å®ƒä¼šæ ¹æ®æ§ä»¶ç±»å‹è‡ªåŠ¨é€‰å–æ­£ç¡®çš„æ–¹æ³•æ¥æ›´æ–°å…ƒç´ ã€‚ æ³¨æ„ï¼š 1.v-modelä¼šå¿½ç•¥æ‰æ‰€æœ‰è¡¨å•å…ƒç´ çš„valueã€checkedã€selectedç‰¹æ€§çš„åˆå§‹å€¼ã€‚å› ä¸ºå®ƒé€‰æ‹©çš„æ˜¯Vueçš„å®åŠ›æ•°æ®ä½œä¸ºå…·ä½“çš„å€¼ã€‚æ‰€ä»¥åº”è¯¥åœ¨vueçš„dataä¸­å£°æ˜åˆå§‹å€¼ã€‚ 2.å¯¹äºè¦æ±‚IME(input methodå¦‚ä¸­æ–‡ã€æ—¥è¯­ã€éŸ©è¯­ç­‰),v-model ä¸ä¼šåœ¨ ime è¾“å…¥ä¸­å¾—åˆ°æ›´æ–°ã€‚å¦‚æœä½ ä¹Ÿæƒ³å®ç°æ›´æ–°ï¼Œè¯·ä½¿ç”¨ input äº‹ä»¶ã€‚ åŸºç¡€ç”¨æ³•(v-model ç»‘å®šçš„ value é€šå¸¸æ˜¯é™æ€å­—ç¬¦ä¸²) æ–‡æœ¬: 1234567891011&lt;div id=\"test\"&gt; &lt;input v-model=\"message\" placeholder=\"edit me\"&gt; &lt;p&gt;Message is: &#123;&#123; message &#125;&#125;&lt;/p&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue(&#123; el:'#test', data:&#123;message:\"\"&#125; &#125;) &lt;/script&gt; å¤šè¡Œæ–‡æœ¬ æ³¨æ„ï¼šåœ¨æ–‡æœ¬åŒºåŸŸæ’å€¼ (&lt;textarea&gt;&lt;/textarea&gt;) å¹¶ä¸ä¼šç”Ÿæ•ˆï¼Œåº”ç”¨ v-model æ¥ä»£æ›¿ã€‚ 123456789101112&lt;div id=\"test\"&gt; &lt;p&gt;å¤šè¡Œæ–‡æœ¬ï¼š&lt;/p&gt; &lt;p style=\"white-space: pre-line;\"&gt;&#123;&#123;message&#125;&#125;&lt;/p&gt; &lt;textarea v-model=\"message\" placeholder=\"è¯·è¾“å…¥å¤šè¡Œæ–‡æœ¬\"&gt;&lt;/textarea&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue(&#123; el:'#test', data:&#123;message:\"\"&#125; &#125;) &lt;/script&gt; 3.å¤é€‰æ¡† 1234567891011121314151617&lt;div id=\"test\"&gt; &lt;p&gt;å¤é€‰æ¡†ï¼š&lt;/p&gt; &lt;input type=\"checkbox\" value=\"Joe\" id=\"Joe\" v-model=\"checkedNames\"&gt; &lt;label for=\"Joe\"&gt;Joe&lt;/label&gt; &lt;input type=\"checkbox\" value=\"LiLei\" id=\"LiLei\" v-model=\"checkedNames\"&gt; &lt;label for=\"LiLei\"&gt;LiLei&lt;/label&gt; &lt;input type=\"checkbox\" value=\"HanMeiMei\" id=\"HanMeiMei\" v-model=\"checkedNames\"&gt; &lt;label for=\"HanMeiMei\"&gt;HanMeiMei&lt;/label&gt; &lt;p&gt;&#123;&#123;checkedNames&#125;&#125;&lt;/p&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue(&#123; el:'#test', data:&#123;checkedNames:[]&#125; &#125;) &lt;/script&gt; for å±æ€§è§„å®š label ä¸å“ªä¸ªè¡¨å•å…ƒç´ (id)ç»‘å®šã€‚ å¤é€‰æ¡†v-modelå…³è”ï¼šæ•°æ®ä¸ºæ•°ç»„å½¢å¼æ—¶ï¼Œå…³è”çš„æ˜¯é€‰ä¸­çš„å¤é€‰æ¡†çš„valueå€¼ã€‚æ˜¯å­—ç¬¦ä¸²å½¢å¼æ—¶ï¼Œå…³è”çš„åˆ™æ˜¯é€‰ä¸­çš„çŠ¶æ€trueï¼false 4.å•é€‰æŒ‰é’® 1234567891011121314151617&lt;div id=\"test\"&gt; &lt;p&gt;å•é€‰æ¡†ï¼š&lt;/p&gt; &lt;input type=\"radio\" value=\"Joe\" id=\"Joe\" v-model=\"checkedNames\"&gt; &lt;label for=\"Joe\"&gt;Joe&lt;/label&gt; &lt;input type=\"radio\" value=\"LiLei\" id=\"LiLei\" v-model=\"checkedNames\"&gt; &lt;label for=\"LiLei\"&gt;LiLei&lt;/label&gt; &lt;input type=\"radio\" value=\"HanMeiMei\" id=\"HanMeiMei\" v-model=\"checkedNames\"&gt; &lt;label for=\"HanMeiMei\"&gt;HanMeiMei&lt;/label&gt; &lt;p&gt;&#123;&#123;checkedNames&#125;&#125;&lt;/p&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue(&#123; el:'#test', data:&#123;checkedNames:''&#125; &#125;) &lt;/script&gt; å•é€‰æ¡†v-modelå…³è”çš„åªæ˜¯å•é€‰é€‰ä¸­çš„valueå€¼ã€‚ 5.ä¸‹æ‹‰æ¡†å•é€‰ï¼š 1234567891011121314151617&lt;div id=\"test\"&gt; &lt;p&gt;ä¸‹æ‹‰æ¡†ï¼š&lt;/p&gt; &lt;select name=\"\" id=\"\" v-model=\"selected\"&gt; &lt;option value=\"è¯·é€‰æ‹©\" disabled&gt;è¯·é€‰æ‹©&lt;/option&gt; &lt;option value=\"A\"&gt;A&lt;/option&gt; &lt;option value=\"B\"&gt;B&lt;/option&gt; &lt;option value=\"C\"&gt;C&lt;/option&gt; &lt;/select&gt; &lt;p&gt;é€‰æ‹©çš„æ˜¯ï¼š&#123;&#123;selected&#125;&#125;&lt;/p&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue(&#123; el:'#test', data:&#123;selected:''&#125; &#125;) &lt;/script&gt; å¤šé€‰ä¸‹æ‹‰æ¡†åªéœ€è¦åœ¨selectæ ‡ç­¾é‡Œé¢å¢åŠ multiple ç”¨v-foråŠ¨æ€æ¸²æŸ“ï¼š 123456789101112131415161718192021&lt;div id=\"test\"&gt; &lt;p&gt;v-forå®ç°ä¸‹æ‹‰æ¡†ï¼š&lt;/p&gt; &lt;select v-model=\"selected\"&gt; &lt;option v-for=\"option in options\" v-bind:value=\"option.value\"&gt;&#123;&#123;option.text&#125;&#125;&lt;/option&gt; &lt;/select&gt; &lt;p&gt;é€‰æ‹©çš„æ˜¯ï¼š&#123;&#123;selected&#125;&#125;&lt;/p&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue(&#123; el:'#test', data:&#123; selected:'A', options:[ &#123;text:'one',value:'A'&#125;, &#123;text:'two',value:'B'&#125;, &#123;text:'three',value:'C'&#125; ] &#125; &#125;) &lt;/script&gt; å€¼ç»‘å®š:(ç»‘å®š value åˆ° Vue å®ä¾‹çš„ä¸€ä¸ªåŠ¨æ€å±æ€§ä¸Š)1.å¤é€‰æ¡†ï¼šv-bind:true-value=&quot;a&quot; v-bind:false-value=&quot;b&quot; 123456789101112131415&lt;div id=\"test\"&gt; &lt;p&gt;å¤é€‰æ¡†ï¼š&lt;/p&gt; &lt;input type=\"checkbox\" v-model=\"checkedNames\" v-bind:true-value=\"a\" v-bind:false-value=\"b\"&gt; &lt;p&gt;&#123;&#123;checkedNames&#125;&#125;&lt;/p&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue(&#123; el:'#test', data:&#123;checkedNames:'', a:'yes', b:'no' &#125;, &#125;) &lt;/script&gt; 2.å•é€‰æŒ‰é’®&lt;input type=&quot;radio&quot; v-model=&quot;pick&quot; v-bind:value=&quot;a&quot;&gt; 1234567891011121314151617181920212223242526272829303132333435363738 &lt;div id=\"test\"&gt; &lt;p&gt;å•é€‰æŒ‰é’®ï¼š&lt;/p&gt; &lt;input type=\"radio\" v-model=\"select\" v-bind:value=\"a\"&gt; &lt;p&gt;&#123;&#123;select&#125;&#125;&lt;/p&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue(&#123; el:'#test', data:&#123;select:'', a:'selected' &#125;, &#125;) &lt;/script&gt;``` 3.ä¸‹æ‹‰åˆ—è¡¨ï¼š``` html &lt;div id=\"test\"&gt; &lt;p&gt;v-forå®ç°ä¸‹æ‹‰æ¡†ï¼š&lt;/p&gt; &lt;select v-model=\"selected\"&gt; &lt;option v-bind:value=\"&#123;number:123&#125;\"&gt;123&lt;/option&gt; &lt;option v-bind:value=\"&#123;number:456&#125;\"&gt;456&lt;/option&gt; &lt;option v-bind:value=\"&#123;number:789&#125;\"&gt;789&lt;/option&gt; &lt;/select&gt; &lt;p&gt;é€‰æ‹©çš„æ˜¯ï¼š&#123;&#123;selected&#125;&#125;&lt;/p&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue(&#123; el:'#test', data:&#123; selected:'', &#125; &#125;) &lt;/script&gt; v-modelçš„ä¿®é¥°ç¬¦.lazy è½¬å˜ä¸ºåœ¨ change äº‹ä»¶ä¸­åŒæ­¥.number è‡ªåŠ¨å°†ç”¨æˆ·çš„è¾“å…¥å€¼è½¬ä¸º Number ç±»å‹(å¦‚æœåŸå€¼çš„è½¬æ¢ç»“æœä¸º NaN åˆ™è¿”å›åŸå€¼).trim è‡ªåŠ¨è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„é¦–å°¾ç©ºæ ¼","tags":[]},{"title":"Vueä¹‹äº‹ä»¶å¤„ç†","date":"2017-09-17T07:58:58.000Z","path":"2017/09/17/Vueä¹‹äº‹ä»¶å¤„ç†/","text":"1.æ–¹æ³•äº‹ä»¶å¤„ç†å™¨ ç”¨ v-on æŒ‡ä»¤ç›‘å¬ DOM äº‹ä»¶æ¥è§¦å‘ä¸€äº› JavaScript ä»£ç .å½“äº‹ä»¶å¤„ç†çš„é€»è¾‘å¾ˆå¤æ‚æ—¶ï¼Œv-on å¯ä»¥æ¥æ”¶ä¸€ä¸ªå®šä¹‰çš„æ–¹æ³•æ¥è°ƒç”¨ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445 &lt;div id=\"test\"&gt; &lt;button v-on:click=\"greet\"&gt;Greet&lt;/button&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue(&#123; el:'#test', data:&#123; name:'Vue.js' &#125;, methods:&#123; greet:function (event) &#123; alert('hello'+this.name+'!'); if(event)&#123; alert(event.target.tagName); &#125; &#125; &#125; &#125;) &lt;/script&gt;``` 2.å†…è”äº‹ä»¶å¤„ç†å™¨å¦‚æœéœ€è¦åœ¨å†…è”è¯­å¥é‡Œé¢è®¿é—®åŸç”ŸDOMäº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ç‰¹æ®Šå˜é‡$eventæŠŠå®ƒä¼ å…¥æ–¹æ³•ï¼š``` js &lt;div id=\"test\"&gt; &lt;button v-on:click=\"warn('Form cannot be submmit yet',$event)\"&gt;warn&lt;/button&gt; &lt;/div&gt; var vm = new Vue(&#123; el:'#test', methods:&#123; warn:function (msg,event) &#123; if(event)&#123; event.preventDefault(); &#125; alert(msg); &#125; &#125; &#125;) 3.äº‹ä»¶ä¿®é¥°ç¬¦ åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­è°ƒç”¨ event.preventDefault() æˆ– event.stopPropagation() æ˜¯éå¸¸å¸¸è§çš„éœ€æ±‚ã€‚å°½ç®¡æˆ‘ä»¬å¯ä»¥åœ¨ methods ä¸­è½»æ¾å®ç°è¿™ç‚¹ï¼Œä½†æ›´å¥½çš„æ–¹å¼æ˜¯ï¼šmethods åªæœ‰çº¯ç²¹çš„æ•°æ®é€»è¾‘ï¼Œè€Œä¸æ˜¯å»å¤„ç† DOM äº‹ä»¶ç»†èŠ‚ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒVue.js ä¸º v-on æä¾›äº† äº‹ä»¶ä¿®é¥°ç¬¦ã€‚é€šè¿‡ç”±ç‚¹ (.) è¡¨ç¤ºçš„æŒ‡ä»¤åç¼€æ¥è°ƒç”¨ä¿®é¥°ç¬¦ã€‚ .stop.prevent.capture.self.once 12345678910111213141516171819202122232425262728293031323334353637 &lt;!-- é˜»æ­¢å•å‡»äº‹ä»¶å†’æ³¡ --&gt; &lt;a v-on:click.stop=\"doThis\"&gt;&lt;/a&gt; &lt;!-- æäº¤äº‹ä»¶ä¸å†é‡è½½é¡µé¢ --&gt; &lt;form v-on:submit.prevent=\"onSubmit\"&gt;&lt;/form&gt; &lt;!-- ä¿®é¥°ç¬¦å¯ä»¥ä¸²è” --&gt; &lt;a v-on:click.stop.prevent=\"doThat\"&gt;&lt;/a&gt; &lt;!-- åªæœ‰ä¿®é¥°ç¬¦ --&gt; &lt;form v-on:submit.prevent&gt;&lt;/form&gt; &lt;!-- æ·»åŠ äº‹ä»¶ä¾¦å¬å™¨æ—¶ä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼ --&gt; &lt;div v-on:click.capture=\"doThis\"&gt;...&lt;/div&gt; &lt;!-- åªå½“äº‹ä»¶åœ¨è¯¥å…ƒç´ æœ¬èº« (æ¯”å¦‚ä¸æ˜¯å­å…ƒç´ ) è§¦å‘æ—¶è§¦å‘å›è°ƒ --&gt; &lt;div v-on:click.self=\"doThat\"&gt;...&lt;/div&gt; &lt;!-- ç‚¹å‡»äº‹ä»¶å°†åªä¼šè§¦å‘ä¸€æ¬¡ --&gt; &lt;a v-on:click.once=\"doThis\"&gt;&lt;/a&gt;``` 4.é”®å€¼ä¿®é¥°ç¬¦ç›‘å¬é”®ç›˜äº‹ä»¶çš„é”®å€¼ï¼ŒVue ä¸ºæœ€å¸¸ç”¨çš„æŒ‰é”®æä¾›äº†åˆ«åã€‚``` html &lt;div id=\"test\"&gt; &lt;input v-on:keyup.enter=\"sub\"&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue(&#123; el:'#test', methods:&#123; sub:function () &#123; alert('å›è½¦äº‹ä»¶'); &#125; &#125; &#125;) &lt;/script&gt; å…¨éƒ¨çš„æŒ‰é”®åˆ«åï¼š .enter.tab.delete (æ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®).esc.space.up.down.left.right å¯ä»¥é€šè¿‡å…¨å±€ config.keyCodes å¯¹è±¡è‡ªå®šä¹‰é”®å€¼ä¿®é¥°ç¬¦åˆ«åï¼š // å¯ä»¥ä½¿ç”¨ v-on:keyup.f1 Vue.config.keyCodes.f1 = 112 5.ä¿®é¥°é”® å¯ä»¥ç”¨å¦‚ä¸‹ä¿®é¥°ç¬¦å¼€å¯é¼ æ ‡æˆ–é”®ç›˜äº‹ä»¶ç›‘å¬ï¼Œä½¿åœ¨æŒ‰é”®æŒ‰ä¸‹æ—¶å‘ç”Ÿå“åº”ã€‚ .ctrl.alt.shift.meta æ³¨æ„ï¼šåœ¨ Mac ç³»ç»Ÿé”®ç›˜ä¸Šï¼Œmeta å¯¹åº”å‘½ä»¤é”® (âŒ˜)ã€‚åœ¨ Windows ç³»ç»Ÿé”®ç›˜ meta å¯¹åº” windows å¾½æ ‡é”® (âŠ)ã€‚åœ¨ Sun æ“ä½œç³»ç»Ÿé”®ç›˜ä¸Šï¼Œmeta å¯¹åº”å®å¿ƒå®çŸ³é”® (â—†)ã€‚åœ¨å…¶ä»–ç‰¹å®šé”®ç›˜ä¸Šï¼Œå°¤å…¶åœ¨ MIT å’Œ Lisp é”®ç›˜åŠå…¶åç»­ï¼Œæ¯”å¦‚ Knight é”®ç›˜ï¼Œspace-cadet é”®ç›˜ï¼Œmeta è¢«æ ‡è®°ä¸ºâ€œMETAâ€ã€‚åœ¨ Symbolics é”®ç›˜ä¸Šï¼Œmeta è¢«æ ‡è®°ä¸ºâ€œMETAâ€æˆ–è€…â€œMetaâ€ã€‚ 6.é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦ .left.right.middleè¿™äº›ä¿®é¥°ç¬¦ä¼šé™åˆ¶å¤„ç†ç¨‹åºç›‘å¬ç‰¹å®šçš„æ»‘é¼ æŒ‰é”®ã€‚","tags":[]},{"title":"Macä¸‹chromeå¿«æ·é”®","date":"2017-09-17T01:54:27.000Z","path":"2017/09/17/Macä¸‹chromeå¿«æ·é”®/","text":"1.æ ‡ç­¾é¡µå’Œçª—å£å¿«æ·é”® å¿«æ·é”® å¯¹åº”æ“ä½œ âŒ˜-N æ‰“å¼€æ–°çª—å£ âŒ˜-T æ‰“å¼€æ–°æ ‡ç­¾é¡µ âŒ˜-Shift-N åœ¨éšèº«æ¨¡å¼ä¸‹æ‰“å¼€æ–°çª—å£ æŒ‰ âŒ˜-Oï¼Œç„¶åé€‰æ‹©æ–‡ä»¶ åœ¨ Chrome æµè§ˆå™¨ä¸­æ‰“å¼€è®¡ç®—æœºä¸­çš„æ–‡ä»¶ æŒ‰ä½ âŒ˜ çš„åŒæ—¶ç‚¹å‡»é“¾æ¥ã€‚æˆ–ç”¨é¼ æ ‡ä¸­é”®ï¼ˆæˆ–é¼ æ ‡æ»šè½®ï¼‰ç‚¹å‡»é“¾æ¥ ä»åå°åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€é“¾æ¥ æŒ‰ä½ Shift é”®çš„åŒæ—¶ç‚¹å‡»é“¾æ¥ åœ¨æ–°çª—å£ä¸­æ‰“å¼€é“¾æ¥ âŒ˜-Shift-T é‡æ–°æ‰“å¼€ä¸Šæ¬¡å…³é—­çš„æ ‡ç­¾é¡µ åŒæ—¶æŒ‰ âŒ˜-Option å’Œå‘å³ç®­å¤´é”® åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ ‡ç­¾é¡µ åŒæ—¶æŒ‰ âŒ˜-Option å’Œå‘å·¦ç®­å¤´é”® åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªæ ‡ç­¾é¡µ 2.Chrome æµè§ˆå™¨åŠŸèƒ½å¿«æ·é”® å¿«æ·é”® å¯¹åº”æ“ä½œ âŒ˜-Shift-B æ‰“å¼€å’Œå…³é—­ä¹¦ç­¾æ  âŒ˜-Option-B æ‰“å¼€ä¹¦ç­¾ç®¡ç†å™¨ âŒ˜-, æ‰“å¼€â€œåå¥½è®¾ç½®â€å¯¹è¯æ¡† âŒ˜-Y æ‰“å¼€â€œå†å²è®°å½•â€é¡µ âŒ˜-Shift-J æ‰“å¼€â€œä¸‹è½½å†…å®¹â€é¡µ âŒ˜-Shift-Delete æ‰“å¼€â€œæ¸…é™¤æµè§ˆæ•°æ®â€å¯¹è¯æ¡† 3.åœ°å€æ å¿«æ·é”® å¿«æ·é”® å¯¹åº”æ“ä½œ âŒ˜-Shift-B æ‰“å¼€å’Œå…³é—­ä¹¦ç­¾æ  âŒ˜-L çªå‡ºæ˜¾ç¤ºç½‘å€ âŒ˜-Option-F åœ¨åœ°å€æ ä¸­è¾“å…¥â€œ?â€ã€‚åœ¨é—®å·åé”®å…¥æœç´¢å­—è¯å¯ç”¨é»˜è®¤æœç´¢å¼•æ“æ‰§è¡Œæœç´¢ åŒæ—¶æŒ‰ Option å’Œå‘å·¦ç®­å¤´é”® å°†å…‰æ ‡ç§»åˆ°åœ°å€æ ä¸­çš„å‰ä¸€ä¸ªå…³é”®å­—è¯ åŒæ—¶æŒ‰ Option å’Œå‘å³ç®­å¤´é”® åœ¨åœ°å€æ ä¸­å°†å…‰æ ‡ç§»åˆ°ä¸‹ä¸€ä¸ªå…³é”®å­—è¯ åŒæ—¶æŒ‰ Shift-Option å’Œå‘å·¦ç®­å¤´é”® åœ¨åœ°å€æ ä¸­çªå‡ºæ˜¾ç¤ºä¸Šä¸€å…³é”®å­—è¯ åŒæ—¶æŒ‰ Shift-Option å’Œå‘å³ç®­å¤´é”® åœ¨åœ°å€æ ä¸­çªå‡ºæ˜¾ç¤ºä¸‹ä¸€å…³é”®å­—è¯ 4.ç½‘é¡µå¿«æ·é”® å¿«æ·é”® å¯¹åº”æ“ä½œ âŒ˜-Shift-I é€šè¿‡ç”µå­é‚®ä»¶å‘é€å½“å‰ç½‘é¡µ âŒ˜-R é‡æ–°è½½å…¥å½“å‰ç½‘é¡µ âŒ˜-, åœæ­¢è½½å…¥å½“å‰ç½‘é¡µ âŒ˜-Option-I æ‰“å¼€â€œå¼€å‘äººå‘˜å·¥å…·â€ âŒ˜-Option-J æ‰“å¼€â€œJavaScript æ§åˆ¶å°â€ âŒ˜-Option-U æ‰“å¼€å½“å‰ç½‘é¡µçš„æºä»£ç  æŒ‰ä½ Option é”®ï¼Œç„¶åç‚¹å‡»é“¾æ¥ ä¸‹è½½é“¾æ¥ç›®æ ‡ âŒ˜-D å°†å½“å‰ç½‘é¡µä¿å­˜ä¸ºä¹¦ç­¾&lt; âŒ˜-Shift-F åœ¨å…¨å±æ¨¡å¼ä¸‹æ‰“å¼€ç½‘é¡µã€‚å†æŒ‰ä¸€æ¬¡ âŒ˜-Shift-F å¯é€€å‡ºå…¨å±æ¨¡å¼ âŒ˜-+ æ”¾å¤§ç½‘é¡µä¸Šçš„æ‰€æœ‰å†…å®¹ âŒ˜â€“ ç¼©å°ç½‘é¡µä¸Šçš„æ‰€æœ‰å†…å®¹ âŒ˜-0 å°†ç½‘é¡µä¸Šçš„æ‰€æœ‰å†…å®¹æ¢å¤åˆ°æ­£å¸¸å¤§å° âŒ˜-Shift-H åœ¨å½“å‰æ ‡ç­¾é¡µä¸­æ‰“å¼€ä¸»é¡µ 5.æ–‡æœ¬å¿«æ·é”® å¿«æ·é”® å¯¹åº”æ“ä½œ âŒ˜-C å°†çªå‡ºæ˜¾ç¤ºçš„å†…å®¹å¤åˆ¶åˆ°å‰ªè´´æ¿ä¸­ âŒ˜-V ä»å‰ªè´´æ¿ä¸­ç²˜è´´å†…å®¹ âŒ˜-X åˆ é™¤çªå‡ºæ˜¾ç¤ºçš„å†…å®¹å¹¶å°†å…¶å¤åˆ¶åˆ°å‰ªè´´æ¿ä¸­ âŒ˜-Z æ’¤æ¶ˆæœ€åä¸€æ­¥æ“ä½œ âŒ˜-Shift-Z é‡å¤æœ€åä¸€æ­¥æ“ä½œ âŒ˜-A é€‰æ‹©å½“å‰ç½‘é¡µä¸Šçš„æ‰€æœ‰æ–‡æœ¬ âŒ˜-: æ‰“å¼€â€œæ‹¼å†™å’Œè¯­æ³•â€å¯¹è¯æ¡†","tags":[{"name":"mac","slug":"mac","permalink":"https://shleyz.github.io/tags/mac/"}]},{"title":"Vueä¹‹ç»‘å®šå±æ€§æ ·å¼","date":"2017-09-15T08:06:12.000Z","path":"2017/09/15/Vueä¹‹ç»‘å®šå±æ€§æ ·å¼/","text":"1.ç»‘å®šClass: å¯¹è±¡è¯­æ³•ï¼š 123456789101112131415&lt;div id=\"app\"&gt; &lt;div class=\"static\" v-bind:class=\"classObj\"&gt;aaaa&lt;/div&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue(&#123; el:'#app', data:&#123; classObj: &#123; 'active': true, 'text-danger': true &#125; &#125; &#125;) &lt;/script&gt; æ•°ç»„è¯­æ³•ï¼š 12345678910111213&lt;div id=\"app\"&gt; &lt;div class=\"static\" v-bind:class=\"[activeClass,errorClass]\"&gt;aaaa&lt;/div&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue(&#123; el:'#app', data:&#123; activeClass: 'active', errorClass: 'text-danger' &#125; &#125;) &lt;/script&gt; ç»‘å®šåˆ°ç»„ä»¶ä¸Šæ—¶ï¼Œè¿™äº›ç±»å°†è¢«æ·»åŠ åˆ°æ ¹å…ƒç´ ä¸Šé¢ã€‚è¿™ä¸ªå…ƒç´ ä¸Šå·²ç»å­˜åœ¨çš„ç±»ä¸ä¼šè¢«è¦†ç›–ã€‚ 2.ç»‘å®šåˆ°å†…è”æ ·å¼ï¼š å¯¹è±¡è¯­æ³•ï¼š 1234567891011121314151617&lt;div id=\"app\"&gt; &lt;div v-bind:style=\"styleObj\"&gt;aaa&lt;/div&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue(&#123; el:'#app', data:&#123; styleObj:&#123; width: '100px', height: '100px', color: 'red', backgroundColor: 'orange' &#125; &#125; &#125;) &lt;/script&gt; æ•°ç»„è¯­æ³•ï¼š 1234567891011121314151617181920&lt;div id=\"app\"&gt; &lt;div v-bind:style=\"[baseStyles, overridingStyles]\"&gt;aaa&lt;/div&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue(&#123; el:'#app', data:&#123; baseStyles:&#123; width: '200px', height: '200px' &#125;, overridingStyles:&#123; color: 'white', backgroundColor: 'red', transform: 'rotate(7deg)' //æ—‹è½¬ &#125; &#125; &#125;) &lt;/script&gt; å½“ v-bind:style ä½¿ç”¨éœ€è¦ç‰¹å®šå‰ç¼€çš„ CSS å±æ€§æ—¶ï¼Œå¦‚ transformï¼ŒVue.js ä¼šè‡ªåŠ¨ä¾¦æµ‹å¹¶æ·»åŠ ç›¸åº”çš„å‰ç¼€ã€‚ å¤šé‡å€¼: 12&lt;div :style=\"&#123; display: ['-webkit-box', '-ms-flexbox', 'flex'] &#125;\"&gt;&lt;/div&gt;","tags":[]},{"title":"Vueä¹‹è®¡ç®—å±æ€§","date":"2017-09-14T07:57:09.000Z","path":"2017/09/14/Vueä¹‹è®¡ç®—å±æ€§/","text":"å½“æ¨¡ç‰ˆæ¯”è¾ƒå¤æ‚ï¼Œä¸å®¹æ˜“ç†è§£çš„æ—¶å€™å¯ä»¥ä½¿ç”¨è®¡ç®—å±æ€§ï¼š 123456789101112131415161718&lt;div id=\"app\"&gt; &lt;p&gt;message:\"&#123;&#123;msg&#125;&#125;\"&lt;/p&gt; &lt;p&gt;reverseMessage:\"&#123;&#123;reversedMessage&#125;&#125;\"&lt;/p&gt;&lt;/div&gt;&lt;script&gt; var vm = new Vue(&#123; el:'#app', data:&#123; msg: 'æˆ‘æ˜¯msg', &#125;, computed:&#123; reversedMessage:function () &#123; return this.msg.split('').reverse().join(''); &#125; &#125; &#125;)&lt;/script&gt; è¿™æ ·æ¨¡ç‰ˆreversedMessageçš„å±æ€§å€¼å°±ä¸æ¨¡ç‰ˆmsgçš„å±æ€§å€¼è¿›è¡Œç»‘å®šã€‚ è®¡ç®—å±æ€§çš„ç¼“å­˜VSæ–¹æ³•ï¼šä¸Šé¢çš„è®¡ç®—å±æ€§å¯ä»¥ç”¨æ–¹æ³•è¡¨ç¤ºå¦‚ä¸‹ï¼š 123456789101112131415161718&lt;div id=\"app\"&gt; &lt;p&gt;message:\"&#123;&#123;msg&#125;&#125;\"&lt;/p&gt; &lt;p&gt;reverseMessage:\"&#123;&#123;reversedMessage()&#125;&#125;\"&lt;/p&gt; &lt;/div&gt; &lt;script&gt; var vm = new Vue(&#123; el:'#app', data:&#123; msg: 'æˆ‘æ˜¯msg', &#125;, methods:&#123; reversedMessage:function () &#123; return this.msg.split('').reverse().join(''); &#125; &#125; &#125;) &lt;/script&gt; è¿™é‡Œè®¡ç®—å±æ€§å’Œæ–¹æ³•çš„ç»“æœéƒ½æ˜¯ä¸€è‡´çš„ã€‚è®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„ä¾èµ–è¿›è¡Œç¼“å­˜çš„,å½“msgçš„å€¼æ²¡æœ‰æ”¹å˜æ—¶,å¤šæ¬¡è®¿é—®reversedMessageæ—¶,è®¡ç®—å±æ€§ä¼šç«‹å³è¿”å›ä¹‹å‰ç¼“å­˜çš„è®¡ç®—ç»“æœ,è€Œä¸ä¼šæ‰§è¡ŒreversedMessageå‡½æ•°ã€‚è€Œæ–¹æ³•(methods),æ¯æ¬¡è®¿é—®reversedMessageæ—¶ï¼Œéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡reversedMessageå‡½æ•°ã€‚ è®¡ç®—å±æ€§VSè¢«è§‚å¯Ÿçš„å±æ€§(watch)watchå±æ€§ï¼š 123456789101112131415161718192021&lt;div id=\"watch\"&gt;FullName:&#123;&#123;fullName&#125;&#125;&lt;/div&gt;&lt;script&gt; var vmWatch = new Vue(&#123; el:'#watch', data:&#123; firstName:'xiao', lastName:'hong', fullName:'xiao hong' &#125;, watch:&#123; firstName: function (val) &#123; this.fullName = val + \" \" + this.lastName; &#125;, lastName:function (val) &#123; this.fullName = this.firstName + \" \" + val; &#125; &#125; &#125;)&lt;/script&gt; å¦‚æœç”¨è®¡ç®—å±æ€§æ¥å®ç°ç›¸åŒçš„æ•ˆæœ(ç›¸å¯¹watchå±æ€§æ¥è¯´ç®€å•)ï¼š 123456computed:&#123; fullName: function () &#123; return this.firstName + \" \" + this.lastName; &#125; &#125; è®¡ç®—å±æ€§é»˜è®¤åªæœ‰getter,ä½†æ˜¯å¯ä»¥è‡ªå®šä¹‰setter:12345678910111213141516171819202122232425&lt;div id=\"watch\"&gt;FullName:&#123;&#123;fullName&#125;&#125;&lt;/div&gt;&lt;script&gt; var vmWatch = new Vue(&#123; el:'#watch', data:&#123; firstName:'xiao', lastName:'hong', fullName:'xiao hong' &#125;, computed:&#123; fullname:&#123; get: function () &#123; return this.firstName + \" \" + this.lastName; &#125;, set: function (newValue) &#123; var names = newValue.split(\" \"); this.firstName = names[0]; this.lastName = names[names.length - 1]; &#125; &#125; &#125; &#125;)&lt;/script&gt; è¿è¡Œ vm.fullName = â€˜John Doeâ€™ æ—¶ï¼Œsetter ä¼šè¢«è°ƒç”¨ï¼Œvm.firstName å’Œ vm.lastName ä¹Ÿç›¸åº”åœ°ä¼šè¢«æ›´æ–°ã€‚ watch12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;div id=\"watch-example\"&gt; &lt;p&gt; æå‡ºé—®é¢˜: &lt;input v-model=\"question\"&gt; &lt;/p&gt; &lt;p&gt;&#123;&#123;answer&#125;&#125;&lt;/p&gt; &lt;/div&gt; &lt;script src=\"https://cdn.jsdelivr.net/npm/axios@0.12.0/dist/axios.min.js\"&gt;&lt;/script&gt; &lt;script src=\"https://cdn.jsdelivr.net/npm/lodash@4.13.1/lodash.min.js\"&gt;&lt;/script&gt; &lt;script&gt; var watchExampleVM = new Vue(&#123; el:'#watch-example', data:&#123; question: \"\", answer: \"æé—®ä»¥åä¼šæœ‰å›ç­”\" &#125;, watch:&#123; question: function (newQuestion) &#123; this.answer = 'ç­‰å¾…ä½ çš„è¾“å…¥...'; this.getAnswer(); &#125; &#125;, methods:&#123; // _.debounce æ˜¯ä¸€ä¸ªé€šè¿‡ lodash é™åˆ¶æ“ä½œé¢‘ç‡çš„å‡½æ•°ã€‚ // åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›é™åˆ¶è®¿é—® yesno.wtf/api çš„é¢‘ç‡ // ajax è¯·æ±‚ç›´åˆ°ç”¨æˆ·è¾“å…¥å®Œæ¯•æ‰ä¼šå‘å‡º getAnswer: _.debounce(function () &#123; if(this.question.indexOf('?') === -1)&#123; this.answer = 'é—®é¢˜éœ€è¦ä¸€ä¸ªé—®å·æ¥è¡¨ç¤º...'; return &#125; this.answer = 'è®¤çœŸæ€è€ƒä¸­...'; var vm = this; axios.get('https://yesno.wtf/api').then(function (response) &#123; vm.answer = _.capitalize(response.data.answer) &#125;).catch(function (error) &#123; vm.answer = 'é”™è¯¯ï¼ä¸èƒ½è·å–API' + error; &#125;) &#125;,500) &#125; &#125;) &lt;/script&gt; è¿™é‡Œ,ä½¿ç”¨ watch é€‰é¡¹å…è®¸æˆ‘ä»¬æ‰§è¡Œå¼‚æ­¥æ“ä½œ (è®¿é—®ä¸€ä¸ª API)ï¼Œé™åˆ¶æˆ‘ä»¬æ‰§è¡Œè¯¥æ“ä½œçš„é¢‘ç‡ï¼Œå¹¶åœ¨æˆ‘ä»¬å¾—åˆ°æœ€ç»ˆç»“æœå‰ï¼Œè®¾ç½®ä¸­é—´çŠ¶æ€ã€‚è¿™æ˜¯è®¡ç®—å±æ€§æ— æ³•åšåˆ°çš„ã€‚ æ³¨ï¼šaxiosâ€”â€“ä¸€ä¸ªæ‰“åŒ…å¥½çš„XMLHttpRequestsï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ˜¯ä¸€ä¸ªajaxåº“ã€‚å¯ä»¥å®ç°: 1.åœ¨æµè§ˆå™¨é‡Œå»ºç«‹XHR 2.é€šè¿‡nodejsè¿›è¡Œhttpè¯·æ±‚ ç”šè‡³å¯ä»¥å®ç°: 3.è½¬æ¢æˆ–è€…æ‹¦æˆªè¯·æ±‚æ•°æ®æˆ–å“åº”æ•°æ® 4.æ”¯æŒPromiseçš„API 5.å¯ä»¥å–æ¶ˆè¯·æ±‚ 6.è‡ªåŠ¨è½¬æ¢JSON 7.å¯ä»¥é˜²å¾¡XSRFæ”»å‡»ï¼ lodashâ€”â€“ä¸€å¥—å·¥å…·åº“ï¼Œå®ƒå†…éƒ¨å°è£…äº†è¯¸å¤šå¯¹å­—ç¬¦ä¸²ã€æ•°ç»„ã€å¯¹è±¡ç­‰å¸¸è§æ•°æ®ç±»å‹çš„å¤„ç†å‡½æ•°ï¼Œå…¶ä¸­éƒ¨åˆ†æ˜¯ç›®å‰ ECMAScript å°šæœªåˆ¶å®šçš„è§„èŒƒï¼Œä½†åŒæ—¶è¢«ä¸šç•Œæ‰€è®¤å¯çš„è¾…åŠ©å‡½æ•°ã€‚","tags":[]},{"title":"sasså­¦ä¹ ç¬”è®°","date":"2017-09-11T06:06:10.000Z","path":"2017/09/11/sasså­¦ä¹ ç¬”è®°/","text":"Sass å®æ—¶ç¼–è¯‘ sass â€“watch &lt;è¦ç¼–è¯‘çš„Sassæ–‡ä»¶è·¯å¾„&gt;/style.scss:&lt;è¦è¾“å‡ºCSSæ–‡ä»¶è·¯å¾„&gt;/style.css Grunt å’Œ Gulp è‡ªåŠ¨åŒ–ç¼–è¯‘ Sass ç¼–è¯‘å¸¸è§çš„é”™è¯¯ åœ¨Sassçš„ç¼–è¯‘çš„è¿‡ç¨‹ä¸­ï¼Œæ˜¯ä¸æ˜¯æ”¯æŒâ€œGBKâ€ç¼–ç çš„ã€‚æ‰€ä»¥åœ¨åˆ›å»º Sass æ–‡ä»¶æ—¶ï¼Œå°±éœ€è¦å°†æ–‡ä»¶ç¼–ç è®¾ç½®ä¸ºâ€œutf-8â€ã€‚ è·¯å¾„ä¸­çš„ä¸­æ–‡å­—ç¬¦ï¼Œå»ºè®®åœ¨é¡¹ç›®ä¸­æ–‡ä»¶å‘½åæˆ–è€…æ–‡ä»¶ç›®å½•å‘½åä¸è¦ä½¿ç”¨ä¸­æ–‡å­—ç¬¦ ä¸åŒæ ·å¼é£æ ¼çš„è¾“å‡ºæ–¹æ³• åµŒå¥—è¾“å‡ºæ–¹å¼ nested å±•å¼€è¾“å‡ºæ–¹å¼ expanded ç´§å‡‘è¾“å‡ºæ–¹å¼ compact å‹ç¼©è¾“å‡ºæ–¹å¼ compressed é»˜è®¤å˜é‡sass çš„é»˜è®¤å˜é‡ä»…éœ€è¦åœ¨å€¼åé¢åŠ ä¸Š !default å³å¯ã€‚ 1234$baseLineHeight:1.5 !default;body&#123;line-height: $baseLineHeight;&#125; sass çš„é»˜è®¤å˜é‡ä¸€èˆ¬æ˜¯ç”¨æ¥è®¾ç½®é»˜è®¤å€¼ï¼Œç„¶åæ ¹æ®éœ€æ±‚æ¥è¦†ç›–çš„ï¼Œè¦†ç›–çš„æ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨é»˜è®¤å˜é‡ä¹‹å‰é‡æ–°å£°æ˜ä¸‹å˜é‡å³å¯ã€‚é»˜è®¤å˜é‡çš„ä»·å€¼åœ¨è¿›è¡Œç»„ä»¶åŒ–å¼€å‘çš„æ—¶å€™ä¼šéå¸¸æœ‰ç”¨ã€‚ SassåµŒå¥— é€‰æ‹©å™¨åµŒå¥— 123456789nav &#123; a &#123; color: red; header &amp; &#123; color:green; &#125; &#125;&#125; å±æ€§åµŒå¥— 123456.box &#123; border: &#123; top: 1px solid red; bottom: 1px solid green; &#125;&#125; ä¼ªç±»åµŒå¥— 1234567891011.clearfix&#123; &amp;:before, &amp;:after &#123; content:\"\"; display: table; &#125; &amp;:after &#123; clear:both; overflow: hidden; &#125;&#125; ç¼–è¯‘å‡ºæ¥çš„ CSSï¼š 12345678clearfix:before, .clearfix:after &#123; content: \"\"; display: table;&#125;.clearfix:after &#123; clear: both; overflow: hidden;&#125; æ··åˆå® å£°æ˜æ··åˆå® 1234@mixin border-radius&#123; -webkit-border-radius: 5px; border-radius: 5px;&#125; ä½¿ç”¨â€œ@mixinâ€æ¥å£°æ˜ä¸€ä¸ªæ··åˆå®ã€‚ è°ƒç”¨æ··åˆå® 123button &#123; @include border-radius;&#125; å…³é”®è¯â€œ@includeâ€æ¥è°ƒç”¨å£°æ˜å¥½çš„æ··åˆå® æ··åˆå®çš„å‚æ•°â€“ä¼ å¤šä¸ªå‚æ•° 123456789101112131415161718192021222324252627282930313233@mixin center($width,$height)&#123; width: $width; height: $height; position: absolute; top: 50%; left: 50%; margin-top: -($height) / 2; margin-left: -($width) / 2;&#125;.box-center &#123; @include center(500px,300px);&#125;``` æœ‰ä¸€ä¸ªç‰¹åˆ«çš„å‚æ•°â€œâ€¦â€ã€‚å½“æ··åˆå®ä¼ çš„å‚æ•°è¿‡å¤šä¹‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å‚æ•°æ¥æ›¿ä»£``` scss@mixin box-shadow($shadows...)&#123; @if length($shadows) &gt;= 1 &#123; -webkit-box-shadow: $shadows; box-shadow: $shadows; &#125; @else &#123; $shadows: 0 0 2px rgba(#000,.25); -webkit-box-shadow: $shadow; box-shadow: $shadow; &#125;&#125;.box &#123; @include box-shadow(0 0 1px rgba(#000,.5),0 0 2px rgba(#000,.2));&#125; æ··åˆå®çš„ä¸è¶³ æ··åˆå®åœ¨å®é™…ç¼–ç ä¸­ç»™æˆ‘ä»¬å¸¦æ¥å¾ˆå¤šæ–¹ä¾¿ä¹‹å¤„ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå¤ç”¨é‡å¤ä»£ç å—ã€‚ä½†å…¶æœ€å¤§çš„ä¸è¶³ä¹‹å¤„æ˜¯ä¼šç”Ÿæˆå†—ä½™çš„ä»£ç å—ã€‚ 12345678910111213@mixin border-radius&#123; -webkit-border-radius: 3px; border-radius: 3px;&#125;.box &#123; @include border-radius; margin-bottom: 5px;&#125;.btn &#123; @include border-radius;&#125; ç¼–è¯‘å‡ºæ¥çš„ CSSï¼š 12345678910.box &#123; -webkit-border-radius: 3px; border-radius: 3px; margin-bottom: 5px;&#125;.btn &#123; -webkit-border-radius: 3px; border-radius: 3px;&#125; ä¸èƒ½æ™ºèƒ½çš„å°†ç›¸åŒçš„æ ·å¼ä»£ç å—åˆå¹¶åœ¨ä¸€èµ· Sassæ‰©å±•/ç»§æ‰¿é€šè¿‡å…³é”®è¯ â€œ@extendâ€æ¥ç»§æ‰¿å·²å­˜åœ¨çš„ç±»æ ·å¼å—ï¼Œä»è€Œå®ç°ä»£ç çš„ç»§æ‰¿ã€‚ 123456789101112131415161718//SCSS.btn &#123; border: 1px solid #ccc; padding: 6px 10px; font-size: 14px;&#125;.btn-primary &#123; background-color: #f36; color: #fff; @extend .btn;&#125;.btn-second &#123; background-color: orange; color: #fff; @extend .btn;&#125; ç¼–è¯‘å‡ºæ¥ä¹‹åï¼š 123456789101112131415161718//CSS.btn, .btn-primary, .btn-second &#123; border: 1px solid #ccc; padding: 6px 10px; font-size: 14px;&#125;.btn-primary &#123; background-color: #f36; color: #fff;&#125;.btn-second &#123; background-clor: orange; color: #fff;&#125; Sasså ä½ç¬¦%%placeholder å£°æ˜çš„ä»£ç ï¼Œå¦‚æœä¸è¢« @extend è°ƒç”¨çš„è¯ï¼Œä¸ä¼šäº§ç”Ÿä»»ä½•ä»£ç ã€‚ 1234567891011121314151617181920//SCSS%mt5 &#123; margin-top: 5px;&#125;%pt5&#123; padding-top: 5px;&#125;.btn &#123; @extend %mt5; @extend %pt5;&#125;.block &#123; @extend %mt5; span &#123; @extend %pt5; &#125;&#125; ç¼–è¯‘å‡ºæ¥çš„CSS 123456789//CSS.btn, .block &#123; margin-top: 5px;&#125;.btn, .block span &#123; padding-top: 5px;&#125; Sassæ’å€¼#{}123456789$properties: (margin, padding);@mixin set-value($side, $value) &#123; @each $prop in $properties &#123; #&#123;$prop&#125;-#&#123;$side&#125;: $value; &#125;&#125;.login-box &#123; @include set-value(top, 14px);&#125; ä¸Šé¢çš„ä»£ç ç¼–è¯‘æˆ CSSï¼š 1234.login-box &#123; margin-top: 14px; padding-top: 14px;&#125; #{}è¯­æ³•å¹¶ä¸æ˜¯éšå¤„å¯ç”¨ï¼Œä¸èƒ½åœ¨ mixin ä¸­è°ƒç”¨å¯ä»¥ä½¿ç”¨ @extend ä¸­ä½¿ç”¨æ’å€¼ 123456789101112%updated-status &#123; margin-top: 20px; background: #F00;&#125;.selected-status &#123; font-weight: bold;&#125;$flag: \"status\";.navigation &#123; @extend %updated-#&#123;$flag&#125;; @extend .selected-#&#123;$flag&#125;;&#125; ä¸Šé¢çš„ Sass ä»£ç æ˜¯å¯ä»¥è¿è¡Œçš„ï¼Œä»£ç ç¼–è¯‘å‡ºæ¥çš„ CSS: 12345678.navigation &#123; margin-top: 20px; background: #F00;&#125;.selected-status, .navigation &#123; font-weight: bold;&#125; Sassæ•°æ®ç±»å‹ æ•°å­— å­—ç¬¦ä¸² é¢œè‰² å¸ƒå°”å€¼ ç©ºå€¼ å€¼åˆ—è¡¨ SassæŒ‡ä»¤ @if 12345678910111213141516171819//SCSS@mixin blockOrHidden($boolean:true) &#123; @if $boolean &#123; @debug \"$boolean is #&#123;$boolean&#125;\"; display: block; &#125; @else &#123; @debug \"$boolean is #&#123;$boolean&#125;\"; display: none; &#125;&#125;.block &#123; @include blockOrHidden;&#125;.hidden&#123; @include blockOrHidden(false);&#125; ç¼–è¯‘å‡ºæ¥çš„CSS: 1234567.block &#123; display: block;&#125;.hidden &#123; display: none;&#125; @forå¾ªç¯ 12@for $i from &lt;start&gt; through &lt;end&gt;@for $i from &lt;start&gt; to &lt;end&gt; $i è¡¨ç¤ºå˜é‡ï¼Œstart è¡¨ç¤ºèµ·å§‹å€¼ï¼Œend è¡¨ç¤ºç»“æŸå€¼ã€‚å…³é”®å­— through è¡¨ç¤ºåŒ…æ‹¬ end è¿™ä¸ªæ•°ï¼Œè€Œ to åˆ™ä¸åŒ…æ‹¬ end è¿™ä¸ªæ•°ã€‚ 123456through:@for $i from 1 through 3&#123; .item-#&#123;$i&#125;&#123; width:2em * $i; &#125;&#125; ç¼–è¯‘å‡ºæ¥çš„ CSS: 1234567891011.item-1 &#123; width: 2em;&#125;.item-2 &#123; width: 4em;&#125;.item-3 &#123; width: 6em;&#125; to: 12345@for $i from 1 to 3&#123; .item-#&#123;$i&#125;&#123; width:2em * $i; &#125;&#125; ç¼–è¯‘å‡ºæ¥çš„ CSS: 1234567.item-1 &#123; width: 2em;&#125;.item-2 &#123; width: 4em;&#125; @while åªè¦ @while åé¢çš„æ¡ä»¶ä¸º true å°±ä¼šæ‰§è¡Œ @each éå†ä¸€ä¸ªåˆ—è¡¨ï¼Œç„¶åä»åˆ—è¡¨ä¸­å–å‡ºå¯¹åº”çš„å€¼ 1@each $var in &lt;list&gt; Sasså‡½æ•° unquote()å‡½æ•° åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„å¼•å·ï¼› quote()å‡½æ•° ç»™å­—ç¬¦ä¸²æ·»åŠ å¼•å·ã€‚å¦‚æœå­—ç¬¦ä¸²åŒ…å«å¼•å·ï¼Œä¸è®ºå•å¼•å·è¿˜æ˜¯åŒå¼•å·ï¼Œä¼šç»Ÿä¸€æ›¿æ¢ä¸ºåŒå¼•å·ã€‚å­—ç¬¦ä¸²ä¸­é—´æœ‰å•å¼•å·æˆ–è€…ç©ºæ ¼æ—¶ï¼Œéœ€è¦ç”¨å•å¼•å·æˆ–åŒå¼•å·æ‹¬èµ·ï¼Œå¦åˆ™ç¼–è¯‘çš„æ—¶å€™å°†ä¼šæŠ¥é”™ã€‚quote() ç¢°åˆ°ç‰¹æ®Šç¬¦å·ï¼Œæ¯”å¦‚ï¼š !ã€?ã€&gt; ç­‰ï¼Œé™¤ä¸­æŠ˜å·-å’Œä¸‹åˆ’çº¿_éƒ½éœ€è¦ä½¿ç”¨åŒå¼•å·æ‹¬èµ·ï¼Œå¦åˆ™ç¼–è¯‘å™¨åœ¨è¿›è¡Œç¼–è¯‘çš„æ—¶å€™åŒæ ·ä¼šæŠ¥é”™ã€‚ 123.test2 &#123; content: quote(\"today is sunday!\")&#125; To-upper-case() å‡½æ•°å°†å­—ç¬¦ä¸²å°å†™å­—æ¯è½¬æ¢æˆå¤§å†™å­—æ¯ã€‚ To-lower-case() å°†å­—ç¬¦ä¸²è½¬æ¢æˆå°å†™å­—æ¯ 12345//SCSS.test &#123; text: to-upper-case(aaaaa); text: to-lower-case(aA-aAAA-aaa);&#125; percentage() æ•°å­—å‡½æ•° å°†ä¸€ä¸ªä¸å¸¦å•ä½çš„æ•°å­—è½¬æ¢æˆç™¾åˆ†æ¯”å½¢å¼ 123.footer&#123; width : percentage(.2)&#125; å¦‚æœè½¬æ¢çš„å€¼æ˜¯ä¸€ä¸ªå¸¦æœ‰å•ä½çš„å€¼ï¼Œé‚£ä¹ˆåœ¨ç¼–è¯‘çš„æ—¶å€™ä¼šæŠ¥é”™ round()å‡½æ•° å°†ä¸€ä¸ªæ•°å››èˆäº”å…¥ä¸ºä¸€ä¸ªæœ€æ¥è¿‘çš„æ•´æ•° 1234567.footer1 &#123; width:round(15.8px)&#125;//CSS.footer1 &#123; width: 16px; &#125; ceil()å‡½æ•°å‘ä¸Šå–æ•´ 123456789.footer1 &#123; width:ceil(18.1px);&#125;//CSS.footer1 &#123; width:19px;&#125; floor()å‡½æ•°å‘ä¸‹å–æ•´ abs()å‡½æ•°å–ç»å¯¹å€¼ 12345678.footer &#123; width:abs(-8.9px);&#125;//CSS.footer &#123; width:8.9px;&#125; min()å‡½æ•°ã€max()å‡½æ•° å‡½æ•°ä¸­åŒæ—¶å‡ºç°ä¸¤ç§ä¸åŒç±»å‹çš„å•ä½ï¼Œå°†ä¼šæŠ¥é”™è¯¯ random()å‡½æ•° è·å–ä¸€ä¸ª0-1éšæœºæ•° length()å‡½æ•° åˆ—è¡¨å‡½æ•° nth()å‡½æ•° åˆ—è¡¨å‡½æ•° 12&gt;&gt; nth(10px 20px 30px,1)10px //ä»1å¼€å§‹ join()å‡½æ•° åˆ—è¡¨å‡½æ•° 12&gt;&gt; join(10px 20px, 30px 40px)(10px 20px 30px 40px) åªèƒ½å°†ä¸¤ä¸ªåˆ—è¡¨è¿æ¥æˆä¸€ä¸ªåˆ—è¡¨ï¼Œå¦‚æœç›´æ¥è¿æ¥ä¸¤ä¸ªä»¥ä¸Šçš„åˆ—è¡¨å°†ä¼šæŠ¥é”™ append()å‡½æ•° åˆ—è¡¨å‡½æ•° å°†æŸä¸ªå€¼æ’å…¥åˆ°åˆ—è¡¨ä¸­ï¼Œå¹¶ä¸”å¤„äºæœ€æœ«ä½ 123456789101112&gt;&gt; append((blue green),red,comma)(#0000ff, #008000, #ff0000)&gt;&gt; append((blue green),red,space)(#0000ff #008000 #ff0000)&gt;&gt; append((blue, green),red,comma)(#0000ff, #008000, #ff0000)&gt;&gt; append((blue, green),red,space)(#0000ff #008000 #ff0000)&gt;&gt; append(blue,red,comma)(#0000ff, #ff0000)&gt;&gt; append(blue,red,space)(#0000ff #ff0000) zip()å‡½æ•° åˆ—è¡¨å‡½æ•°å°†å¤šä¸ªåˆ—è¡¨å€¼è½¬æˆä¸€ä¸ªå¤šç»´çš„åˆ—è¡¨ ä½¿ç”¨zip()å‡½æ•°æ—¶ï¼Œæ¯ä¸ªå•ä¸€çš„åˆ—è¡¨ä¸ªæ•°å€¼å¿…é¡»æ˜¯ç›¸åŒçš„ 12&gt;&gt; zip(1px 2px 3px,solid dashed dotted,green blue red)((1px \"solid\" #008000), (2px \"dashed\" #0000ff), (3px \"dotted\" #ff0000)) index()å‡½æ•° åˆ—è¡¨å‡½æ•° 123456&gt;&gt; index(1px solid red, 1px)1&gt;&gt; index(1px solid red, solid)2&gt;&gt; index(1px solid red, red)3 å¦‚æœæŒ‡å®šçš„å€¼ä¸åœ¨åˆ—è¡¨ä¸­ï¼ˆæ²¡æœ‰æ‰¾åˆ°ç›¸åº”çš„å€¼ï¼‰ï¼Œé‚£ä¹ˆè¿”å›çš„å€¼å°†æ˜¯ falseï¼Œç›¸åå°±ä¼šè¿”å›å¯¹åº”çš„å€¼åœ¨åˆ—è¡¨ä¸­æ‰€å¤„çš„ä½ç½®ã€‚ type-of() Introspection å‡½æ•° åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å±äºä»€ä¹ˆç±»å‹ï¼š è¿”å›å€¼ï¼š number ä¸ºæ•°å€¼å‹ã€‚string ä¸ºå­—ç¬¦ä¸²å‹ã€‚bool ä¸ºå¸ƒå°”å‹ã€‚color ä¸ºé¢œè‰²å‹ã€‚ unit()å‡½æ•° Introspection å‡½æ•° è·å–ä¸€ä¸ªå€¼æ‰€ä½¿ç”¨çš„å•ä½ 1234567891011121314&gt;&gt; unit(100)\"\"&gt;&gt; unit(100px)\"px\"&gt;&gt; unit(20%)\"%\"&gt;&gt; unit(1em)\"em\"&gt;&gt; unit(10px * 3em)\"em*px\"&gt;&gt; unit(10px / 3em)\"px/em\"&gt;&gt; unit(10px * 2em / 3cm / 1rem)\"em/rem\" unitless()å‡½æ•° Introspection å‡½æ•° åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦å¸¦æœ‰å•ä½ï¼Œå¦‚æœä¸å¸¦å•ä½è¿”å›çš„å€¼ä¸º trueï¼Œå¸¦å•ä½è¿”å›çš„å€¼ä¸º falseä»£ç å®ç°ï¼šç”¨æˆ·åœ¨è°ƒç”¨æ··åˆå®æ—¶ï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰ç»™å‚æ•°å€¼åŠ ä¸Šå•ä½ï¼Œç¨‹åºä¼šè‡ªåŠ¨åŠ å…¥å•ä½ã€‚ 123456789101112131415@mixin adjust-location($x, $y) &#123; @if unitless($x) &#123; $x: 1px * $x; &#125; @if unitless($y) &#123; $y: 1px * $y; &#125; position: relative; left: $x; top: $y;&#125;.botton&#123; @include adjust-location(20px, 30);&#125; comparable()å‡½æ•° Introspection å‡½æ•° åˆ¤æ–­ä¸¤ä¸ªæ•°æ˜¯å¦å¯ä»¥è¿›è¡Œâ€œåŠ ï¼Œå‡â€ä»¥åŠâ€œåˆå¹¶â€ã€‚å¦‚æœå¯ä»¥è¿”å›çš„å€¼ä¸º trueï¼Œå¦‚æœä¸å¯ä»¥è¿”å›çš„å€¼æ˜¯ false 12345678910&gt;&gt; comparable(2px,1%)false&gt;&gt; comparable(2px,1em)false&gt;&gt; comparable(2rem,1em)false&gt;&gt; comparable(2px,1cm)true&gt;&gt; comparable(2px,1mm)true Miscellaneouså‡½æ•° if($condition,$if-true,$if-false)å½“ $condition æ¡ä»¶æˆç«‹æ—¶ï¼Œè¿”å›çš„å€¼ä¸º $if-trueï¼Œå¦åˆ™è¿”å›çš„æ˜¯ $if-false å€¼ã€‚ 1234&gt;&gt; if(true,1px,2px)1px&gt;&gt; if(false,1px,2px)2px map-get($map,$key) Mapsçš„å‡½æ•°è¿”å› $key åœ¨ $map ä¸­å¯¹åº”çš„ value å€¼ã€‚å¦‚æœ $key ä¸å­˜åœ¨ $mapä¸­ï¼Œå°†è¿”å› null å€¼ã€‚ 12345678910$social-colors: ( dribble: #ea4c89, facebook: #3b5998, github: #171515, google: #db4437, twitter: #55acee);.btn-dribble&#123; color: map-get($social-colors,facebook);&#125; å¦‚æœ $key ä¸åœ¨ $map ä¸­ï¼Œä¸ä¼šç¼–è¯‘å‡º CSS map-has-key($map,$key) Mapsçš„å‡½æ•°å‡½æ•°å°†è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚å½“ $map ä¸­æœ‰è¿™ä¸ª $keyï¼Œåˆ™å‡½æ•°è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ 1234567891011121314151617181920212223@function colors($color)&#123; @if not map-has-key($social-colors,$color)&#123; @warn \"No color found for `#&#123;$color&#125;` in $social-colors map. Property omitted.\"; &#125; @return map-get($social-colors,$color);&#125;.btn-dribble &#123; color: colors(dribble);&#125;.btn-facebook &#123; color: colors(facebook);&#125;.btn-github &#123; color: colors(github);&#125; ``` - map-keys($map) Mapsçš„å‡½æ•°è¿”å› $map ä¸­çš„æ‰€æœ‰ key``` scssmap-keys($social-colors); map-values($map) Mapsçš„å‡½æ•°è·å–çš„æ˜¯ $map çš„æ‰€æœ‰ value å€¼ï¼Œå¯ä»¥è¯´æ˜¯ä¸€ä¸ªåˆ—è¡¨ã€‚ 1map-values($social-colors) map-merge($map1,$map2) Mapsçš„å‡½æ•° map-merge($map1,$map2)å°† $map1 å’Œ $map2 åˆå¹¶ï¼Œç„¶åå¾—åˆ°ä¸€ä¸ªæ–°çš„ $mapã€‚å¦‚æœ $map1 å’Œ $map2 ä¸­æœ‰ç›¸åŒçš„ $key åï¼Œé‚£ä¹ˆå°† $map2 ä¸­çš„ $key ä¼šå–ä»£ $map1 ä¸­çš„ 1234567891011121314151617181920212223$color: ( text: #f36, link: #f63, border: #ddd, backround: #fff);$typo:( font-size: 12px, line-height: 1.6, border: #ccc, background: #000); $newmap: map-merge($color,$typo);$newmap:( text: #f36, link: #f63, font-size: 12px, line-height: 1.6, border: #ccc, background: #000); map-remove($map,$key) Mapsçš„å‡½æ•° 1map-remove($map,$key) åˆ é™¤å½“å‰ $map ä¸­çš„æŸä¸€ä¸ª $keyï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªæ–°çš„ mapã€‚å…¶è¿”å›çš„å€¼è¿˜æ˜¯ä¸€ä¸ª mapã€‚ä»–å¹¶ä¸èƒ½ç›´æ¥ä»ä¸€ä¸ª map ä¸­åˆ é™¤å¦ä¸€ä¸ª mapï¼Œä»…èƒ½é€šè¿‡åˆ é™¤ map ä¸­çš„æŸä¸ª key å¾—åˆ°æ–° mapã€‚ keywords($args) RGBA()å‡½æ•°å°†ä¸€ä¸ªé¢œè‰²æ ¹æ®é€æ˜åº¦è½¬æ¢æˆ rgba é¢œè‰² 12rgba($red,$green,$blue,$alpha) //å°†ä¸€ä¸ªrgbaé¢œè‰²è½¬è¯‘å‡ºæ¥ï¼Œå’Œæœªè½¬è¯‘çš„å€¼ä¸€æ ·rgba($color,$alpha) //å°†ä¸€ä¸ªHexé¢œè‰²è½¬æ¢æˆrgbaé¢œè‰² @importå¼•å…¥ SCSS å’Œ Sass æ–‡ä»¶ã€‚ æ‰€æœ‰å¼•å…¥çš„ SCSS å’Œ Sass æ–‡ä»¶éƒ½ä¼šè¢«åˆå¹¶å¹¶è¾“å‡ºä¸€ä¸ªå•ä¸€çš„ CSS æ–‡ä»¶ã€‚ è¢«å¯¼å…¥çš„æ–‡ä»¶ä¸­æ‰€å®šä¹‰çš„å˜é‡æˆ– mixins éƒ½å¯ä»¥åœ¨ä¸»æ–‡ä»¶ä¸­ä½¿ç”¨ã€‚ @mediaåœ¨æ ·å¼ä¸­ä½¿ç”¨ @media æŒ‡ä»¤ï¼Œå®ƒå°†å†’æ³¡åˆ°å¤–é¢ 123456.sidebar &#123; width: 300px; @media screen and (orientation: landscape) &#123; width: 500px; &#125;&#125; ç¼–è¯‘å‡ºæ¥ï¼š 12345678.sidebar &#123; width: 300px; &#125;@media screen and (orientation: landscape) &#123; .sidebar &#123; width: 500px; &#125; &#125; @extend Sass ä¸­çš„ @extend æ˜¯ç”¨æ¥æ‰©å±•é€‰æ‹©å™¨æˆ–å ä½ç¬¦ã€‚æ¯”å¦‚ï¼š 1234567891011.error &#123; border: 1px #f00; background-color: #fdd;&#125;.error.intrusion &#123; background-image: url(\"/image/hacked.png\");&#125;.seriousError &#123; @extend .error; border-width: 3px;&#125; è¢«ç¼–è¯‘ä¸ºï¼š 12345678910111213.error, .seriousError &#123; border: 1px #f00; background-color: #fdd; &#125;.error.intrusion, .seriousError.intrusion &#123; background-image: url(\"/image/hacked.png\"); &#125;.seriousError &#123; border-width: 3px; &#125; @at-rootè·³å‡ºæ ¹å…ƒç´  123456789101112131415.a &#123; color: red; .b &#123; color: orange; .c &#123; color: yellow; @at-root .d &#123; color: green; &#125; &#125; &#125; &#125; ç¼–è¯‘å‡ºæ¥çš„CSS 123456789101112131415.a &#123; color: red;&#125;.a .b &#123; color: orange;&#125;.a .b .c &#123; color: yellow;&#125;.d &#123; color: green;&#125; @debug @debug åœ¨ Sass ä¸­æ˜¯ç”¨æ¥è°ƒè¯•çš„ï¼Œå½“ä½ çš„åœ¨ Sass çš„æºç ä¸­ä½¿ç”¨äº† @debug æŒ‡ä»¤ä¹‹åï¼ŒSass ä»£ç åœ¨ç¼–è¯‘å‡ºé”™æ—¶ï¼Œåœ¨å‘½ä»¤ç»ˆç«¯ä¼šè¾“å‡ºä½ è®¾ç½®çš„æç¤º Bug: @debug 10em + 12em;ä¼šè¾“å‡ºï¼š Line 1 DEBUG: 22em @warn @warn å’Œ @debug åŠŸèƒ½ç±»ä¼¼ï¼Œç”¨æ¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„è°ƒè¯• Sassã€‚å¦‚ï¼š 1234567891011@mixin adjust-location($x, $y) &#123; @if unitless($x) &#123; @warn \"Assuming #&#123;$x&#125; to be in pixels\"; $x: 1px * $x; &#125; @if unitless($y) &#123; @warn \"Assuming #&#123;$y&#125; to be in pixels\"; $y: 1px * $y; &#125; position: relative; left: $x; top: $y;&#125; @error 12345678910111213@mixin error($x)&#123; @if $x &lt; 10 &#123; width: $x * 10px; &#125; @else if $x == 10 &#123; width: $x; &#125; @else &#123; @error \"ä½ éœ€è¦å°†#&#123;$x&#125;å€¼è®¾ç½®åœ¨10ä»¥å†…çš„æ•°\"; &#125;&#125;.test &#123; @include error(15);&#125;","tags":[]},{"title":"æ­£åˆ™è¡¨è¾¾å¼è´ªå©ªæ¨¡å¼ä¸éè´ªå©ªæ¨¡å¼","date":"2017-09-04T15:43:04.000Z","path":"2017/09/04/æ­£åˆ™è¡¨è¾¾å¼è´ªå©ªæ¨¡å¼ä¸éè´ªå©ªæ¨¡å¼/","text":"æºå­—ç¬¦ä¸²ï¼š 1var url = 'http://www.domain.com/?user=anonymous&amp;id=123&amp;id=456&amp;city=%E5%8C%97%E4%BA%AC&amp;d&amp;enabled' æ­£åˆ™è¡¨è¾¾å¼ä¸€ï¼š12url.match(/user=(\\S*)&amp;/)[1] åŒ¹é…ç»“æœä¸€ï¼š 12\"anonymous&amp;id=123&amp;id=456&amp;city=%E5%8C%97%E4%BA%AC&amp;d\" æ­£åˆ™è¡¨è¾¾å¼äºŒï¼š 12url.match(/user=(\\S*?)&amp;/)[1] åŒ¹é…ç»“æœäºŒï¼š 12\"anonymous\"ï¼ˆè¿™é‡ŒæŒ‡çš„æ˜¯ä¸€æ¬¡åŒ¹é…ç»“æœï¼Œæ‰€ä»¥æ²¡åŒ…æ‹¬&amp;id=123&amp;id=456&amp;city=%E5%8C%97%E4%BA%AC&amp;d\"ï¼‰ æ­£åˆ™è¡¨è¾¾å¼ä¸€é‡‡ç”¨çš„æ˜¯è´ªå©ªæ¨¡å¼ï¼Œåœ¨åŒ¹é…åˆ°ç¬¬ä¸€ä¸ªâ€œ&amp;â€æ—¶å·²ç»å¯ä»¥ä½¿æ•´ä¸ªè¡¨è¾¾å¼åŒ¹é…æˆåŠŸï¼Œä½†æ˜¯ç”±äºé‡‡ç”¨çš„æ˜¯è´ªå©ªæ¨¡å¼ï¼Œæ‰€ä»¥ä»ç„¶è¦å‘å³å°è¯•åŒ¹é…ï¼ŒæŸ¥çœ‹æ˜¯å¦è¿˜æœ‰æ›´é•¿çš„å¯ä»¥æˆåŠŸåŒ¹é…çš„å­ä¸²ï¼ŒåŒ¹é…åˆ°ç¬¬äº”ä¸ªâ€œ&amp;â€åï¼Œå‘å³å†æ²¡æœ‰å¯ä»¥æˆåŠŸåŒ¹é…çš„å­ä¸²ï¼ŒåŒ¹é…ç»“æŸï¼ŒåŒ¹é…ç»“æœä¸º 1\"anonymous&amp;id=123&amp;id=456&amp;city=%E5%8C%97%E4%BA%AC&amp;d\"ã€‚ æ­£åˆ™è¡¨è¾¾å¼äºŒé‡‡ç”¨çš„æ˜¯éè´ªå©ªæ¨¡å¼ï¼Œåœ¨åŒ¹é…åˆ°ç¬¬ä¸€ä¸ªâ€œ&amp;â€æ—¶ä½¿æ•´ä¸ªè¡¨è¾¾å¼åŒ¹é…æˆåŠŸï¼Œç”±äºé‡‡ç”¨çš„æ˜¯éè´ªå©ªæ¨¡å¼ï¼Œæ‰€ä»¥ç»“æŸåŒ¹é…ï¼Œä¸å†å‘å³å°è¯•ï¼ŒåŒ¹é…ç»“æœä¸ºâ€anonymousâ€ã€‚","tags":[{"name":"æ­£åˆ™","slug":"æ­£åˆ™","permalink":"https://shleyz.github.io/tags/æ­£åˆ™/"}]},{"title":"JSONé•¿åº¦","date":"2017-09-01T08:38:28.000Z","path":"2017/09/01/JSONé•¿åº¦/","text":"JSONæ²¡æœ‰lengthå±æ€§ var json = {name:\"xiaoming\",sex:\"male\"} function getJsonLength(jsonData){ var jsonLength = 0; for(var item in jsonData){ jsonLength++; } return jsonLength; } getJsonLength(json); //2","tags":[]},{"title":"ä¼ªå…ƒç´ å’Œä¼ªç±»","date":"2017-08-28T06:54:18.000Z","path":"2017/08/28/ä¼ªå…ƒç´ å’Œä¼ªç±»/","text":"ä¼ªå…ƒç´  :first-letterå‘æ–‡æœ¬çš„ç¬¬ä¸€ä¸ªå­—æ¯æ·»åŠ ç‰¹æ®Šæ ·å¼ã€‚ :first-lineå‘æ–‡æœ¬çš„é¦–è¡Œæ·»åŠ ç‰¹æ®Šæ ·å¼ã€‚ :beforeåœ¨å…ƒç´ ä¹‹å‰æ·»åŠ å†…å®¹ã€‚ :afteråœ¨å…ƒç´ ä¹‹åæ·»åŠ å†…å®¹ã€‚ ä¼ªç±»é”šä¼ªç±» a:link a:visited a:hover a:active åœ¨ CSS å®šä¹‰ä¸­ï¼Œa:hover å¿…é¡»è¢«ç½®äº a:link å’Œ a:visited ä¹‹åï¼Œæ‰æ˜¯æœ‰æ•ˆçš„ã€‚ åœ¨ CSS å®šä¹‰ä¸­ï¼Œa:active å¿…é¡»è¢«ç½®äº a:hover ä¹‹åï¼Œæ‰æ˜¯æœ‰æ•ˆçš„ã€‚ ä¼ªç±»åç§°å¯¹å¤§å°å†™ä¸æ•æ„Ÿã€‚ å…¶ä»– :first-child é€‰æ‹©å…ƒç´ çš„ç¬¬ä¸€ä¸ªå­å…ƒç´  :lang ä¸ºä¸åŒçš„è¯­è¨€å®šä¹‰ç‰¹æ®Šçš„è§„åˆ™ &lt;html&gt; &lt;head&gt; &lt;style type=\"text/css\"&gt; q:lang(no) { quotes: \"~\" \"~\" } &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;p&gt;æ–‡å­—&lt;q lang=\"no\"&gt;æ®µè½ä¸­çš„å¼•ç”¨çš„æ–‡å­—&lt;/q&gt;æ–‡å­—&lt;/p&gt; &lt;/body&gt; &lt;/html&gt;","tags":[]},{"title":"CSSä¸­çš„rem","date":"2017-08-28T06:06:49.000Z","path":"2017/08/28/CSSä¸­çš„rem/","text":"remæ˜¯CSS3å¼•è¿›çš„ä¸€ä¸ªæ–°çš„å•ä½ï¼Œåœ¨W3Cå®˜ç½‘ä¸Šæ˜¯è¿™æ ·æè¿°remçš„â€”â€”â€œfont size of the root elementâ€ . remç›¸å¯¹äºçš„æ˜¯æ ¹å…ƒç´ html. ä¸èƒ½å…¼å®¹IE6-8ï¼Œå¯ä»¥pxå’ŒremåŒæ—¶ä½¿ç”¨ã€‚","tags":[]},{"title":"about","date":"2017-08-26T16:23:46.000Z","path":"2017/08/27/index/","text":"","tags":[]},{"title":"jqueryç»„ä»¶å¼€å‘","date":"2017-08-15T07:12:20.000Z","path":"2017/08/15/jqueryç»„ä»¶å¼€å‘/","text":"jQueryæ’ä»¶å°±æ˜¯ç”¨æ¥æ‰©å±•jQueryåŸå‹å¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå³æ˜¯jQueryå¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•ã€‚jQueryæ’ä»¶çš„ä½¿ç”¨æ–¹æ³•å°±æ˜¯jQueryå¯¹è±¡æ–¹æ³•çš„è°ƒç”¨ã€‚ åŸºç¡€ç‰ˆjQueryæ’ä»¶çŸ¥é“äº†ä¸Šé¢è¿™äº›çŸ¥è¯†ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¥å†™ä¸€ä¸ªç®€å•çš„jQueryæ’ä»¶ã€‚å‡å¦‚æˆ‘ç°åœ¨éœ€è¦ä¸€ä¸ªjQueryæ’ä»¶ç”¨æ¥æ”¹å˜æ ‡ç­¾å†…å®¹é¢œè‰²ï¼Œå°±å¯ä»¥æŒ‰ä¸‹é¢çš„æ–¹å¼æ¥å®ç°è¿™ä¸ªæ’ä»¶ï¼š 1234$.fn.changeStyle = function(colorStr)&#123; this.css(\"color\",colorStr);&#125; ç„¶åæŒ‰ä¸‹é¢çš„æ–¹å¼æ¥ä½¿ç”¨æ’ä»¶ï¼š 12$(\"p\").changeStyle(\"red\"); æ’ä»¶è°ƒç”¨çš„æ—¶å€™ï¼Œæ’ä»¶å†…éƒ¨çš„thiså°±æ˜¯å½“å‰è°ƒç”¨æ’ä»¶çš„jQueryå¯¹è±¡ï¼Œè¿™æ ·çš„è¯æ¯ä¸ªä½¿ç”¨$()æ–¹æ³•é€‰æ‹©çš„æ ‡ç­¾ï¼Œåœ¨è°ƒç”¨changeStyle()æ’ä»¶æ—¶éƒ½ä¼šä½¿ç”¨css()æ–¹æ³•é‡è®¾coloræ ·å¼ã€‚ æ»¡è¶³é“¾å¼è°ƒç”¨çš„jQueryæ’ä»¶é“¾å¼è°ƒç”¨æ—¶jQueryçš„ä¸€å¤§ç‰¹è‰²ï¼Œä¸€ä¸ªé€šç”¨çš„æ’ä»¶åº”è¯¥éµå¾ªjQueryé£æ ¼ï¼Œæ»¡è¶³é“¾å¼è°ƒç”¨è¦æ±‚ã€‚å®ç°é“¾å¼è°ƒç”¨çš„æ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼š 12345$.fn.changeStyle = function(colorStr)&#123; this.css(\"color\",colorStr); return this;&#125; ç„¶åä½¿ç”¨çš„æ—¶å€™å°±å¯ä»¥é“¾å¼è°ƒç”¨å…¶ä»–æ–¹æ³•äº†ï¼š 12$(\"p\").changeStyle(\"red\").addClass(\"red-color\"); å®ç°é“¾å¼è°ƒç”¨çš„å…³é”®ç‚¹å°±ä¸€è¡Œä»£ç return thisï¼Œæ’ä»¶ä¸­åŠ äº†è¿™è¡Œä»£ç ï¼Œé‚£ä¹ˆåœ¨æ’ä»¶æ‰§è¡Œå®Œä¹‹åï¼Œå°±ä¼šæŠŠå½“å‰çš„jQueryå¯¹è±¡è¿”å›ï¼Œç„¶åå°±å¯ä»¥åœ¨æ’ä»¶æ–¹æ³•åé¢ç»§ç»­è°ƒç”¨å…¶å®ƒjQueryæ–¹æ³•ã€‚ é˜²æ­¢$ç¬¦å·æ±¡æŸ“çš„jQueryæ’ä»¶æœ‰å¾ˆå¤šjsåº“éƒ½ä¼šä½¿ç”¨$ç¬¦å·ï¼Œè™½ç„¶jQueryå¯ä»¥ä½¿ç”¨jQuery.noConflict()æ–¹æ³•äº¤å‡º$ç¬¦å·çš„ä½¿ç”¨æƒï¼Œä½†æ˜¯å¦‚æœå®šä¹‰æ’ä»¶çš„æ—¶å€™ï¼Œä½¿ç”¨$.fnå¯¹è±¡æ¥å®šä¹‰çš„ï¼Œé‚£ä¹ˆè¿™äº›æ’ä»¶ä½¿ç”¨çš„æ—¶å€™å°±ä¼šå—åˆ°å…¶å®ƒä½¿ç”¨$å˜é‡çš„jsåº“çš„å½±å“ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°é€šè¿‡ä¼ å‚çš„æ–¹å¼å°è£…æ’ä»¶ã€‚å½¢å¼å¦‚ä¸‹ï¼š 1234567(function($)&#123; $.fn.changeStyle = function(colorStr)&#123; this.css(\"color\",colorStr); return this; &#125;&#125;(jQuery)); å› ä¸ºä½¿ç”¨äº†ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œæ‰€ä»¥æ­¤æ—¶çš„$åªå±äºè¿™ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°çš„å‡½æ•°ä½œç”¨åŸŸï¼Œè¿™æ ·å°±å¯ä»¥é¿å…$ç¬¦å·çš„æ±¡æŸ“ã€‚ å¯ä»¥æ¥å—å‚æ•°çš„jQueryæ’ä»¶ç»§ç»­ä¸Šé¢çš„ä¾‹å­ï¼Œå‡å¦‚æˆ‘è¿˜æƒ³ä¸ºè¿™ä¸ªæ’ä»¶æ·»åŠ ä¸€ä¸ªè®¾ç½®æ ‡ç­¾å…ƒç´ å†…å®¹æ–‡å­—å¤§å°çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆæˆ‘å¯ä»¥è¿™ä¹ˆæ¥å®ç°ï¼š 1234567(function($)&#123; $.fn.changeStyle = function(colorStrï¼ŒfontSize)&#123; this.css(\"color\",colorStr).css(\"fontSize\",fontSize+\"px\"); return this; &#125;&#125;(jQuery)); ä¸Šé¢è¿™ç§æ’ä»¶ä¼ å‚æ–¹å¼é€‚ç”¨äºå‚æ•°æ¯”è¾ƒå°‘çš„æƒ…å†µï¼Œå¦‚æœéœ€è¦ä¼ ç»™æ’ä»¶å†…éƒ¨çš„å‚æ•°æ¯”è¾ƒå¤šï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªå‚æ•°å¯¹è±¡ï¼Œç„¶åæŠŠéœ€è¦ä¼ ç»™æ’ä»¶çš„å‚æ•°æ”¾åœ¨å‚æ•°å¯¹è±¡ä¸­ã€‚æ’ä»¶å®šä¹‰æ—¶å¦‚ä¸‹ï¼š 1234567(function($)&#123; $.fn.changeStyle = function(option)&#123; this.css(\"color\",option.colorStr).css(\"fontSize\",option.fontSize+\"px\"); return this; &#125;&#125;(jQuery)); ä½¿ç”¨æ–¹å¼ï¼š$(â€œpâ€).changeStyle({colorStr:â€redâ€,fontSize:14});æŠŠå‚æ•°æ”¾åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ä¼ ç»™æ’ä»¶è¿˜æœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯æˆ‘ä»¬å¯ä»¥åœ¨æ’ä»¶å†…éƒ¨ä¸ºä¸€äº›å‚æ•°å®šä¹‰ä¸€äº›ç¼ºçœå€¼ï¼Œä¾‹å¦‚ï¼š 123456789(function($)&#123; $.fn.changeStyle = function(option)&#123; var defaultSetting = &#123; colorStr:\"green\",fontSize:12&#125;; var setting = $.extend(defaultSetting,option); this.css(\"color\",setting.colorStr).css(\"fontSize\",setting.fontSize+\"px\"); return this; &#125;&#125;(jQuery)); ä¸Šé¢çš„ä»£ç ç”¨åˆ°äº†$.extendæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨è¿™é‡Œçš„ç”¨æ³•å°±æ˜¯åˆå¹¶ä¸¤ä¸ªå¯¹è±¡ï¼Œå³æŠŠåé¢ä¸€ä¸ªå¯¹è±¡çš„å­˜åœ¨çš„å±æ€§å€¼èµ‹å€¼ç»™ç¬¬ä¸€ä¸ªå¯¹è±¡ã€‚$.extendæ–¹æ³•è¿˜æœ‰ä¸€ç§ä½œç”¨æ˜¯ç”¨æ¥æ‰©å±•jQueryå¯¹è±¡æœ¬èº«ã€‚ è¿™æ ·å®šä¹‰çš„æ’ä»¶ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶å¦‚æœä¸ä¼ fontSizeï¼Œé‚£ä¹ˆä½¿ç”¨è¿™ä¸ªæ’ä»¶çš„jQueryå¯¹è±¡æ ‡ç­¾çš„å†…å®¹ä¼šè¢«è®¾ç½®æˆé»˜è®¤çš„12pxã€‚ä½¿ç”¨æ–¹å¼ï¼š 12$(\"p\").changeStyle(&#123;colorStr:\"red\"&#125;); æ³¨æ„ï¼šåœ¨ä¸ºæ’ä»¶å®šä¹‰é»˜è®¤å‚æ•°æ—¶ï¼Œä¸€å®šè¦æŠŠé»˜è®¤å‚æ•°å†™åœ¨æ’ä»¶æ–¹æ³•å†…éƒ¨ï¼Œè¿™æ ·é»˜è®¤å‚æ•°çš„ä½œç”¨åŸŸå°±åœ¨æ’ä»¶å†…éƒ¨ã€‚ å®šä¹‰æ’ä»¶çš„æ–¹å¼é™¤äº†ä¸Šé¢è¯´çš„ç”¨$.fnæ¥å®šä¹‰ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§æ–¹å¼æ¥å®šä¹‰æ’ä»¶ï¼Œé‚£å°±æ˜¯ä½¿ç”¨$.fn.extendæ–¹æ³•ã€‚ç±»ä¼¼ä¸‹é¢çš„å†™æ³•ï¼š 1234567891011(function($)&#123; $.fn.extend(&#123; changeStyle:function(option)&#123; var defaultSetting = &#123; colorStr:\"green\",fontSize:12&#125;; var setting = $.extend(defaultSetting,option); this.css(\"color\",setting.colorStr).css(\"fontSize\",setting.fontSize+\"px\"); return this; &#125; &#125;);&#125;(jQuery)); PS:$.extendæ–¹æ³•å’Œ$.fn.extendæ–¹æ³•éƒ½å¯ä»¥ç”¨æ¥æ‰©å±•jQueryåŠŸèƒ½ï¼Œé€šè¿‡é˜…è¯»jQueryæºç æˆ‘ä»¬å¯ä»¥å‘ç°è¿™ä¸¤ä¸ªæ–¹æ³•çš„æœ¬è´¨åŒºåˆ«ï¼Œé‚£å°±æ˜¯$.extendæ–¹æ³•æ˜¯åœ¨jQueryå…¨å±€å¯¹è±¡ä¸Šæ‰©å±•æ–¹æ³•ï¼Œ$.fn.extendæ–¹æ³•æ˜¯åœ¨$é€‰æ‹©ç¬¦é€‰æ‹©çš„jQueryå¯¹è±¡ä¸Šæ‰©å±•æ–¹æ³•ã€‚æ‰€ä»¥æ‰©å±•jQueryçš„å…¬å…±æ–¹æ³•ä¸€èˆ¬ç”¨$.extendæ–¹æ³•ï¼Œå®šä¹‰æ’ä»¶ä¸€èˆ¬ç”¨$.fn.extendæ–¹æ³•ã€‚ æ–‡ç« æºè‡ªï¼šç•™ä¸ƒä¸ƒ http://www.jianshu.com/p/518d424d4994","tags":[{"name":"jquery","slug":"jquery","permalink":"https://shleyz.github.io/tags/jquery/"}]},{"title":"html5ç‰¹æ€§","date":"2017-07-12T07:53:19.000Z","path":"2017/07/12/html5æ–°ç‰¹æ€§/","text":"1.æ–°çš„æ–‡æ¡£ç±»å‹ xhtml1.0:1&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt; åœ¨html5ä¸­ä¸Šé¢çš„æ–¹æ³•å¤±æ•ˆï¼š &lt;!DOCTYPE html&gt; 2.è„šæœ¬å’Œé“¾æ¥æ— éœ€type åœ¨HTML4æˆ–XHTMLä¸­ï¼š12&lt;link rel=\"stylesheet\" href=\"path/to/stylesheet.css\" type=\"text/css\" /&gt; &lt;script type=\"text/javascript\" src=\"path/to/script.js\"&gt;&lt;/script&gt; åœ¨html5ä¸­ï¼š12&lt;link rel=\"stylesheet\" href=\"path/to/stylesheet.css\" /&gt; &lt;script src=\"path/to/script.js\"&gt;&lt;/script&gt; 3.æ–°å¢è¯­ä¹‰åŒ–æ ‡ç­¾Header,Footer ,nav,aside,article,sectionã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889[&lt;article&gt;&lt;/article&gt;](http://www.w3school.com.cn/tags/tag_article.asp) ##articleæ ‡ç­¾è§„å®šç‹¬ç«‹çš„è‡ªåŒ…å«å†…å®¹[&lt;aside&gt;&lt;/aside&gt;](http://www.w3school.com.cn/tags/tag_aside.asp) ##aside çš„å†…å®¹åº”è¯¥ä¸é™„è¿‘çš„å†…å®¹ç›¸å…³,å¯ç”¨ä½œæ–‡ç« çš„ä¾§æ ã€‚[&lt;audio src=\"\"&gt;æç¤º&lt;/audio&gt;](http://www.w3school.com.cn/tags/tag_audio.asp) ##å®šä¹‰å£°éŸ³ï¼Œæ¯”å¦‚éŸ³ä¹æˆ–å…¶ä»–éŸ³é¢‘æµã€‚[&lt;bdi dir=\"\"&gt;&lt;/bdi&gt;](http://www.w3school.com.cn/tags/tag_bdi.asp) ##å®šä¹‰æ–‡æœ¬çš„æ–‡æœ¬æ–¹å‘ï¼Œä½¿å…¶è„±ç¦»å…¶å‘¨å›´æ–‡æœ¬çš„æ–¹å‘è®¾ç½®ã€‚[&lt;canvas&gt;&lt;/canvas&gt;](http://www.w3school.com.cn/tags/tag_canvas.asp) ##å®šä¹‰å›¾å½¢[&lt;command&gt;&lt;/command&gt;](http://www.w3school.com.cn/tags/tag_command.asp) ##å®šä¹‰å‘½ä»¤æŒ‰é’®ï¼Œæ¯”å¦‚å•é€‰æŒ‰é’®ã€å¤é€‰æ¡†æˆ–æŒ‰é’®ã€‚[&lt;datalist&gt;&lt;/datalist&gt;](http://www.w3school.com.cn/tags/tag_datalist.asp) ##datalist åŠå…¶é€‰é¡¹ä¸ä¼šè¢«æ˜¾ç¤ºå‡ºæ¥ï¼Œå®ƒä»…ä»…æ˜¯åˆæ³•çš„è¾“å…¥å€¼åˆ—è¡¨ã€‚[&lt;details&gt;&lt;/details&gt;](http://www.w3school.com.cn/tags/tag_details.asp) ##ç”¨äºæè¿°æ–‡æ¡£æˆ–æ–‡æ¡£æŸä¸ªéƒ¨åˆ†çš„ç»†èŠ‚ã€‚å…¶å†…éƒ¨æ­é…ä½¿ç”¨summaryæ ‡ç­¾å’Œpæ ‡ç­¾ã€‚[&lt;summary&gt;&lt;/summary&gt;](http://www.w3school.com.cn/tags/tag_summary.asp) ##åŒ…å« details å…ƒç´ çš„æ ‡é¢˜[&lt;dialog&gt;&lt;/dialog&gt; ](http://www.w3school.com.cn/tags/tag_dialog.asp) ##å®šä¹‰å¯¹è¯æ¡†æˆ–çª—å£ã€‚[&lt;embed src=\"\" type=\"\" /&gt;](http://www.w3school.com.cn/tags/tag_embed.asp) ##å®šä¹‰åµŒå…¥çš„å†…å®¹ï¼Œæ¯”å¦‚æ’ä»¶ã€‚[&lt;figcaption&gt;&lt;/figcaption&gt;](http://www.w3school.com.cn/tags/tag_figcaption.asp) ##å®šä¹‰ figure å…ƒç´ çš„æ ‡é¢˜[&lt;figure&gt;&lt;/figure&gt;](http://www.w3school.com.cn/tags/tag_figure.asp) ##è§„å®šç‹¬ç«‹çš„æµå†…å®¹ï¼ˆå›¾åƒã€å›¾è¡¨ã€ç…§ç‰‡ã€ä»£ç ç­‰ç­‰ï¼‰[&lt;footer&gt;&lt;/footer&gt;](http://www.w3school.com.cn/tags/tag_footer.asp) ##é¡µè„šé€šå¸¸åŒ…å«æ–‡æ¡£çš„ä½œè€…ã€ç‰ˆæƒä¿¡æ¯ã€ä½¿ç”¨æ¡æ¬¾é“¾æ¥ã€è”ç³»ä¿¡æ¯ç­‰ç­‰[&lt;header&gt;&lt;/header&gt;](http://www.w3school.com.cn/tags/tag_header.asp) ##å®šä¹‰æ–‡æ¡£çš„é¡µçœ‰ï¼ˆä»‹ç»ä¿¡æ¯ï¼‰[&lt;keygen&gt;&lt;/keygen&gt;](http://www.w3school.com.cn/tags/tag_keygen.asp) ##è§„å®šç”¨äºè¡¨å•çš„å¯†é’¥å¯¹ç”Ÿæˆå™¨å­—æ®µ[&lt;mark&gt;&lt;/mark&gt;](http://www.w3school.com.cn/tags/tag_mark.asp) ##å®šä¹‰å¸¦æœ‰è®°å·çš„æ–‡æœ¬ã€‚[&lt;meter&gt;&lt;/meter&gt;](http://www.w3school.com.cn/tags/tag_meter.asp) ##ä½¿ç”¨ meter å…ƒç´ æ¥åº¦é‡ç»™å®šèŒƒå›´ï¼ˆgaugeï¼‰å†…çš„æ•°æ®[&lt;nav&gt;&lt;/nav&gt;](http://www.w3school.com.cn/tags/tag_nav.asp) ##å®šä¹‰å¯¼èˆªé“¾æ¥çš„éƒ¨åˆ†ã€‚[&lt;output&gt;&lt;/output&gt;](http://www.w3school.com.cn/tags/tag_output.asp) ##å®šä¹‰ä¸åŒç±»å‹çš„è¾“å‡ºï¼Œæ¯”å¦‚è„šæœ¬çš„è¾“å‡ºã€‚[&lt;progress&gt;&lt;/progress&gt;](http://www.w3school.com.cn/tags/tag_progress.asp) ##æ ‡ç¤ºä»»åŠ¡çš„è¿›åº¦ï¼ˆè¿›ç¨‹ï¼‰[&lt;rp&gt;&lt;/rp&gt;](http://www.w3school.com.cn/tags/tag_rp.asp) ##æ”¯æŒ \"ruby\" å…ƒç´ çš„æµè§ˆå™¨ä¸ä¼šæ˜¾ç¤º \"rp\" å…ƒç´ çš„å†…å®¹ã€‚[&lt;rt&gt;&lt;/rt&gt;](http://www.w3school.com.cn/tags/tag_rt.asp) ##å®šä¹‰å­—ç¬¦ï¼ˆä¸­æ–‡æ³¨éŸ³æˆ–å­—ç¬¦ï¼‰çš„è§£é‡Šæˆ–å‘éŸ³[&lt;ruby&gt;&lt;/ruby&gt;](http://www.w3school.com.cn/tags/tag_ruby.asp) ##å®šä¹‰ ruby æ³¨é‡Šï¼ˆä¸­æ–‡æ³¨éŸ³æˆ–å­—ç¬¦ï¼‰[&lt;section&gt;&lt;/section&gt;](http://www.w3school.com.cn/tags/tag_section.asp) ##æ–‡æ¡£ä¸­çš„åŒºæ®µ[&lt;source /&gt;](http://www.w3school.com.cn/tags/tag_source.asp) ##ä¸ºåª’ä»‹å…ƒç´ ï¼ˆæ¯”å¦‚videoå’Œaudioï¼‰å®šä¹‰åª’ä»‹èµ„æº[&lt;time&gt;&lt;/time&gt;](http://www.w3school.com.cn/tags/tag_time.asp) ##å®šä¹‰å…¬å†çš„æ—¶é—´ï¼ˆ24 å°æ—¶åˆ¶ï¼‰æˆ–æ—¥æœŸï¼Œæ—¶é—´å’Œæ—¶åŒºåç§»æ˜¯å¯é€‰çš„ã€‚åœ¨ä»»ä½•æµè§ˆå™¨ä¸­ä¸ä¼šå‘ˆç°ä»»ä½•ç‰¹æ®Šæ•ˆæœ[&lt;track&gt;&lt;/track&gt;](http://www.w3school.com.cn/tags/tag_track.asp) ##ä¸ºè¯¸å¦‚ video å…ƒç´ ä¹‹ç±»çš„åª’ä»‹è§„å®šå¤–éƒ¨æ–‡æœ¬è½¨é“[&lt;video src=\"\"&gt;&lt;/video&gt;](http://www.w3school.com.cn/tags/tag_video.asp) ##å®šä¹‰è§†é¢‘ï¼Œæ¯”å¦‚ç”µå½±ç‰‡æ®µæˆ–å…¶ä»–è§†é¢‘æµ[&lt;wbr&gt;&lt;/wbr&gt;](http://www.w3school.com.cn/tags/tag_wbr.asp) ##è§„å®šåœ¨æ–‡æœ¬ä¸­çš„ä½•å¤„é€‚åˆæ·»åŠ æ¢è¡Œç¬¦ 4.window.navigator.geolocation","tags":[]},{"title":"CSSä¹‹ç›’å­æ¨¡å‹","date":"2017-07-10T06:22:32.000Z","path":"2017/07/10/CSSä¹‹ç›’å­æ¨¡å‹/","text":"1.ç›’å­çš„å†…éƒ¨ç»“æ„ï¼šåœ¨ä¸€ä¸ªæ–‡æ¡£ä¸­ï¼Œæ¯ä¸ªå…ƒç´ éƒ½è¢«è¡¨ç¤ºä¸ºä¸€ä¸ªçŸ©å½¢çš„ç›’å­ã€‚ç¡®å®šè¿™äº›ç›’å­çš„å°ºå¯¸, å±æ€§åƒå®ƒçš„é¢œè‰²ï¼ŒèƒŒæ™¯ï¼Œè¾¹æ¡†æ–¹é¢å’Œä½ç½®æ˜¯æ¸²æŸ“å¼•æ“çš„ç›®æ ‡ã€‚ æ¨¡å‹æ˜¯å¯¹æŸç§äº‹ç‰©æœ¬è´¨ç‰¹æ€§çš„æŠ½è±¡ã€‚ ä¸€ä¸ªç‹¬ç«‹çš„ç›’å­æ¨¡å‹ç”±ï¼šcontentï¼ˆå†…å®¹ï¼‰ï¼Œpaddingï¼ˆå†…è¾¹è·ï¼‰ï¼Œborderï¼ˆè¾¹æ¡†ï¼‰å’Œmarginï¼ˆå¤–è¾¹è·ï¼‰ç»„æˆã€‚ ä¸€ä¸ªç›’å­çš„å®½åº¦ç”±â€œcontent + 2 xï¼ˆpadding+border+marginï¼‰â€ç»„æˆã€‚ 2.å†…å®¹åŒºåŸŸcontentåŒ…å«å…ƒç´ çš„çœŸå®å†…å®¹ï¼Œå®ƒé€šå¸¸åŒ…å«èƒŒæ™¯ï¼Œé¢œè‰²å’Œå›¾ç‰‡ç­‰ï¼Œå®ƒçš„å®½åº¦ä¸ºcontent-boxçš„å®½åº¦ã€‚ å¦‚æœ box-sizing ä¸ºé»˜è®¤å€¼ï¼Œ width, min-width, max-width, height, min-height ä¸ max-height æ§åˆ¶å†…å®¹å¤§å°ã€‚ 3.å†…è¾¹è·åŒºåŸŸpaddingä½œç”¨åŸŸcontentçš„èƒŒæ™¯ã€é¢œè‰²ç­‰ä¼šå»¶ä¼¸åˆ°paddingä¸Šã€‚å³å…ƒç´ çš„èƒŒæ™¯é¢œè‰²ç­‰å±æ€§çš„ä½œç”¨èŒƒå›´æ˜¯content+paddingã€‚ ä»–çš„å®½æ˜¯padding-boxçš„å®½åº¦ 4.è¾¹æ¡†borderåŒ…å«äº†è¾¹æ¡†çš„åŒºåŸŸï¼Œä»–çš„å®½æ˜¯border-boxçš„å®½åº¦ 5 å¤–è¾¹è·marginç”¨ç©ºç™½åŒºåŸŸæ‰©å±•å…ƒç´ ï¼Œä»¥åˆ†å¼€ç›¸é‚»çš„å…ƒç´ ã€‚ å®ƒçš„å¤§å°ä¸º margin-box çš„é«˜å®½ã€‚ 6.å¤–è¾¹è·å¡Œé™·å—çš„é¡¶éƒ¨å¤–è¾¹è·å’Œåº•éƒ¨å¤–è¾¹è·æœ‰æ—¶è¢«ç»„åˆ(æŠ˜å )ä¸ºå•ä¸ªå¤–è¾¹è·ï¼Œå…¶å¤§å°æ˜¯ç»„åˆåˆ°å…¶ä¸­çš„æœ€å¤§å¤–è¾¹è·ï¼Œè¿™ç§è¡Œä¸ºç§°ä¸ºå¤–è¾¹è·å¡Œé™·(margin collapsing)ï¼Œæœ‰çš„åœ°æ–¹ç¿»è¯‘ä¸ºå¤–è¾¹è·åˆå¹¶ã€‚ å‘ç”Ÿå¤–è¾¹è·å¡Œé™·çš„ä¸‰ç§æƒ…å†µ 1.ç›¸é‚»çš„å…„å¼Ÿå…ƒç´  123&lt;p style=\"margin-bottom: 30px;\"&gt;è¿™ä¸ªæ®µè½çš„ä¸‹å¤–è¾¹è·è¢«åˆå¹¶...&lt;/p&gt;&lt;p style=\"margin-top: 20px;\"&gt;...è¿™ä¸ªæ®µè½çš„ä¸Šå¤–è¾¹è·è¢«åˆå¹¶ã€‚&lt;/p&gt; 2.å—çº§å…ƒç´ ä¸å®ƒçš„ç¬¬ä¸€ä¸ªæˆ–æœ€åä¸€ä¸ªå­å…ƒç´ ï¼ˆå‰ææ˜¯çˆ¶å…ƒç´ ä¸å­å…ƒç´ ä¸­é—´æ²¡æœ‰borderã€paddingã€inline contentã€heightã€min-heightã€ max-heightæ¥åˆ†éš”æ—¶ï¼‰3.ä¸€ä¸ªç©ºçš„å—çº§å…ƒç´ ï¼Œå…¶ borderã€paddingã€inline contentã€heightã€min-height éƒ½ä¸å­˜åœ¨ã€‚é‚£ä¹ˆæ­¤æ—¶å®ƒçš„ä¸Šä¸‹è¾¹è·ä¸­é—´å°†æ²¡æœ‰ä»»ä½•é˜»éš”ï¼Œæ­¤æ—¶å®ƒçš„ä¸Šä¸‹å¤–è¾¹è·å°†ä¼šåˆå¹¶ã€‚ 1234&lt;p style=\"margin-bottom: 0px;\"&gt;è¿™ä¸ªæ®µè½çš„å’Œä¸‹é¢æ®µè½çš„è·ç¦»å°†ä¸º20px&lt;/p&gt;&lt;div style=\"margin-top: 20px; margin-bottom: 20px;\"&gt;&lt;/div&gt;&lt;p style=\"margin-top: 0px;\"&gt;è¿™ä¸ªæ®µè½çš„å’Œä¸Šé¢æ®µè½çš„è·ç¦»å°†ä¸º20px&lt;/p&gt; å½“æœ‰è´Ÿè¾¹è·å­˜åœ¨æ—¶ï¼Œåˆå¹¶åçš„å¤–è¾¹è·å°†æ˜¯æœ€å¤§æ­£è¾¹è·åŠ ä¸Šæœ€å°è´Ÿè¾¹è·ï¼ˆå³è´Ÿè¾¹è·ä¸­ç»å¯¹å€¼æœ€å¤§çš„ä¸€ä¸ªï¼‰ã€‚ 7.box-sizingç”¨äºæ›´æ”¹ç”¨äºè®¡ç®—å…ƒç´ å®½åº¦å’Œé«˜åº¦çš„é»˜è®¤CSSç›’å­æ¨¡å‹ã€‚box-sizingé»˜è®¤å€¼ï¼šcontent-boxã€‚ é»˜è®¤æ˜¯å½“è®¾ç½®å…ƒç´ çš„å®½åº¦widthä¸º100pxæ—¶ï¼Œå®é™…æ˜¯å…ƒç´ çš„contentå®½åº¦æ˜¯100pxã€‚ box-sizingè®¾ç½®ä¸ºborder-boxæ—¶ï¼š å½“è®¾ç½®å…ƒç´ çš„å®½åº¦widthä¸º100pxæ—¶ï¼Œå…¶å®æ˜¯congtent+padding+borderçš„å®½åº¦æ˜¯100pxã€‚ box-sizingè®¾ç½®ä¸ºpadding-boxæ—¶ï¼š(åªæœ‰Firefoxå®ç°äº†è¿™ä¸ªå€¼ï¼Œå®ƒåœ¨Firefox 50ä¸­è¢«åˆ é™¤ã€‚) å½“è®¾ç½®å…ƒç´ çš„å®½åº¦widthä¸º100pxæ—¶ï¼Œå…¶å®æ˜¯congtent+paddingçš„å®½åº¦æ˜¯100pxã€‚ å› æ­¤box-sizingåªæœ‰é»˜è®¤å€¼content-boxå’Œborder-box å®ç°å…¼å®¹å„ä¸ªæµè§ˆå™¨ï¼š 1234567891011121314151617Element &#123; -moz-box-sizing: content-box; -webkit-box-sizing: content-box; -o-box-sizing: content-box; -ms-box-sizing: content-box; box-sizing: content-box; &#125; Element &#123; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; -o-box-sizing: border-box; -ms-box-sizing: border-box; box-sizing: border-box; &#125; marginè¶Šç•Œå½“çˆ¶å…ƒç´ æ²¡æœ‰è¾¹æ¡†borderæ—¶ï¼Œè®¾ç½®ç¬¬ä¸€ä¸ªå­å…ƒç´ çš„margin-topå€¼çš„æ—¶å€™ï¼Œä¼šå‡ºç°margin-topå€¼åŠ åœ¨çˆ¶å…ƒç´ ä¸Šçš„ç°è±¡ï¼Œè§£å†³æ–¹æ³•æœ‰å››ä¸ªï¼š ï¼ˆ1ï¼‰ç»™çˆ¶å…ƒç´ åŠ è¾¹æ¡†border ï¼ˆå‰¯ä½œç”¨ï¼‰ ï¼ˆ2ï¼‰ç»™çˆ¶å…ƒç´ è®¾ç½®paddingå€¼ ï¼ˆå‰¯ä½œç”¨ï¼‰ ï¼ˆ3ï¼‰çˆ¶å…ƒç´ æ·»åŠ  overflowï¼šhidden ï¼ˆå‰¯ä½œç”¨ï¼‰ ï¼ˆ4ï¼‰çˆ¶å…ƒç´ åŠ å‰ç½®å†…å®¹ç”Ÿæˆã€‚ï¼ˆæ¨èï¼‰ ç¬¬å››ç§æ–¹æ³•çš„å®ç°ï¼š 12345678910111213141516.parent&#123; width: 300px; height: 300px; background-color: cadetblue;&#125;.parent:before &#123; content : \"\"; display : table;&#125;.child&#123; width: 50px; height: 50px; margin: 20px; background-color: #9ea040;&#125; ç»˜åˆ¶ä¸‰è§’å½¢123456.child&#123; width: 0; height: 0; border: 100px solid transparent; border-right: 100px solid yellow;&#125; å­å…ƒç´ æµ®åŠ¨åçˆ¶å…ƒç´ é«˜åº¦ä¸º0ï¼ˆçˆ¶å…ƒç´ ä¸è®¾ç½®é«˜åº¦ï¼‰1234567891011.parent&#123; width: 300px; background-color: cadetblue;&#125;.child&#123; width: 50px; height: 50px; float:left; background-color: #4932ff;&#125; csså¦‚ä¸Š,è¿™æ—¶parenté«˜åº¦ä¸º0ï¼Œä¸æ˜¾ç¤ºã€‚ è¦è§£å†³è¿™ä¸ªé—®é¢˜ ï¼ˆ1ï¼‰overflowï¼šhiddenï¼Œä½†æ˜¯è¿™æ ·æœ‰å‰¯ä½œç”¨ã€‚ï¼ˆ2ï¼‰ä¸ºçˆ¶å…ƒç´ è®¾ç½®åç½®å†…å®¹ç”Ÿæˆï¼š 12345678910111213141516.parent&#123; width: 300px; background-color: cadetblue;&#125;.parent:after&#123; content:' '; display: table; clear: both;&#125;.child&#123; width: 50px; height: 50px; float:left; background-color: #4932ff;&#125;","tags":[]}]